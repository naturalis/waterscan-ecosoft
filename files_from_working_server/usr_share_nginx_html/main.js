(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "span {\r\n  font-size: 16px;\r\n  color: white;\r\n}\r\n\r\n.app-sidenav {\r\n  background-color: #333;\r\n  padding: 0;\r\n  min-width: 100px;\r\n}\r\n\r\nmat-sidenav-container{\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0;\r\n  margin: 0 auto;\r\n}\r\n\r\n#filtertoolbar {\r\n  background-color: #333;\r\n}\r\n\r\n.routeContainer {\r\n  position: relative;\r\n}\r\n\r\n.routeContainer>* {\r\n  display: block;\r\n}\r\n\r\n#hamburger {\r\n  margin-top: 11px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-sidenav-container>\r\n  <mat-sidenav #sidenav mode=\"side\" class=\"app-sidenav\">\r\n    <app-navigatie></app-navigatie>\r\n  </mat-sidenav>\r\n\r\n  <mat-toolbar color=\"primary\">\r\n    <button id=\"hamburger\" class=\"app-icon-button\" (click)=\"sidenav.toggle()\">\r\n      <i class=\"material-icons app-toolbar-menu\">menu</i>\r\n    </button>\r\n\r\n    <h1>WATERSCAN</h1>\r\n\r\n    <!-- This fills the remaining space of the current row -->\r\n    <span class=\"fill-remaining-space\"></span>\r\n\r\n    <div *ngIf=\"authenticationService.isLoggedIn(); then logout else login\"></div>\r\n    <ng-template #login>\r\n      <button mat-raised-button (click)=\"toLogin()\">Login</button>\r\n    </ng-template>\r\n    <ng-template #logout>\r\n      <div style=\"margin-right: 25px;\">\r\n        <button mat-raised-button style=\"background-color: white;\">\r\n          <mat-slide-toggle color=\"warn\" class=\"example-margin\" [(ngModel)]=\"filter_check\" (click)=\"toggleSound()\" (change)=\"filter()\" >\r\n            <p style=\"font-weight: bold;\"> Filters</p>\r\n          </mat-slide-toggle>\r\n        </button>\r\n      </div>\r\n      <button mat-raised-button (click)=\"toLogout()\">Logout</button>\r\n    </ng-template>\r\n  </mat-toolbar>\r\n\r\n  <mat-toolbar id=\"filtertoolbar\" @fade *ngIf=\"filter_check\">\r\n\r\n    <span class=\"fill-remaining-space\"></span>\r\n\r\n    <div>\r\n      <mat-checkbox [(ngModel)]=\"eutro_checked\" color=\"warn\" style=\"margin-right: 30px;\" (change)=\"filter()\">\r\n        <span>EutrofiÃ«ring</span>\r\n      </mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"eutro_3_checked\" color=\"warn\" style=\"margin-right: 30px;\" (change)=\"filter()\" *ngIf=\"eutro_checked\">\r\n        <span>+3</span>\r\n      </mat-checkbox>\r\n    </div>\r\n\r\n    <span class=\"fill-remaining-space\"></span>\r\n\r\n    <div>\r\n      <mat-checkbox [(ngModel)]=\"hydro_checked\" color=\"warn\" style=\"margin-right: 30px;\" (change)=\"filter()\">\r\n        <span>Hydromorfologie</span>\r\n      </mat-checkbox>\r\n      <mat-checkbox [(ngModel)]=\"hydro_3_checked\" color=\"warn\" style=\"margin-right: 30px;\" (change)=\"filter()\" *ngIf=\"hydro_checked\">\r\n        <span>+3</span>\r\n      </mat-checkbox>\r\n    </div>\r\n\r\n    <span class=\"fill-remaining-space\"></span>\r\n  </mat-toolbar>\r\n\r\n  <div class=\"routeContainer\" [@routeAnimation]=\"getDepth(myOutlet)\">\r\n    <router-outlet #myOutlet=\"outlet\"></router-outlet>\r\n  </div>\r\n</mat-sidenav-container>\r\n\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _services_global_reference_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/global.reference.service */ "./src/app/services/global.reference.service.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var _services_api_reference_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/api.reference.service */ "./src/app/services/api.reference.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var AppComponent = /** @class */ (function () {
    function AppComponent(router, location, authenticationService, sampleApi, apiWewService, globalRef, referenceApi) {
        this.router = router;
        this.location = location;
        this.authenticationService = authenticationService;
        this.sampleApi = sampleApi;
        this.apiWewService = apiWewService;
        this.globalRef = globalRef;
        this.referenceApi = referenceApi;
        this.sound1 = new Audio("../assets/filter-on.mp3");
        this.sound2 = new Audio("../assets/filter-off.mp3");
        this.title = 'Waterscan';
        this.valueMapper = new Map();
    }
    AppComponent.prototype.toLogin = function () {
        this.router.navigate(['/login']);
    };
    AppComponent.prototype.toLogout = function () {
        this.authenticationService.logout();
        this.router.navigate(['/login']);
    };
    AppComponent.prototype.ngOnInit = function () {
        this.globalRef.setService(this.sampleApi, this.apiWewService, this.referenceApi);
        if (!this.authenticationService.isLoggedIn()) {
            this.router.navigate(['/login']);
        }
        if (window.innerWidth < 768) {
            this.sidenav.close();
        }
        else {
            this.sidenav.open();
        }
        this.sound1.load();
        this.sound2.load();
    };
    AppComponent.prototype.onResize = function (event) {
        if (event.target.innerWidth < 768)
            this.sidenav.close();
        else
            this.sidenav.open();
    };
    AppComponent.prototype.goBack = function () {
        this.location.back();
    };
    AppComponent.prototype.filter = function () {
        if (!this.filter_check) {
            this.eutro_checked = false;
            this.eutro_3_checked = false;
            this.hydro_checked = false;
            this.hydro_3_checked = false;
        }
        this.globalRef.filter_check = this.filter_check;
        this.globalRef.eutro_checked = this.eutro_checked;
        this.globalRef.eutro_3_checked = this.eutro_3_checked;
        this.globalRef.hydro_checked = this.hydro_checked;
        this.globalRef.hydro_3_checked = this.hydro_3_checked;
        this.globalRef.doFilter();
    };
    AppComponent.prototype.getDepth = function (outlet) {
        return outlet.activatedRouteData["depth"];
    };
    AppComponent.prototype.toggleSound = function () {
        if (this.filter_check)
            this.sound1.play();
        else
            this.sound2.play();
        if (!this.filter_check) {
            this.eutro_checked = false;
            this.eutro_3_checked = false;
            this.hydro_checked = false;
            this.hydro_3_checked = false;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sidenav'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSidenav"])
    ], AppComponent.prototype, "sidenav", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "filter_check", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "eutro_checked", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "eutro_3_checked", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "hydro_checked", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "hydro_3_checked", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('window:resize', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], AppComponent.prototype, "onResize", null);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            providers: [_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthenticationService"], _services_api_sample_service__WEBPACK_IMPORTED_MODULE_5__["ApiSampleService"], _services_global_reference_service__WEBPACK_IMPORTED_MODULE_7__["GlobalReferenceService"], _services_api_wew_service__WEBPACK_IMPORTED_MODULE_8__["ApiWewService"], _services_api_reference_service__WEBPACK_IMPORTED_MODULE_9__["ApiReferenceService"]],
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["trigger"])("fade", [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["transition"])("void => *", [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ backgroundColor: "#3f51b5", opacity: 0 }),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])(200)
                    ]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["transition"])("* => void", [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])(100, Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ opacity: 0 }))
                    ])
                ]),
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["trigger"])('routeAnimation', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["transition"])('1 => 2, 1 => 3, 1 => 4, 1 => 5, 2 => 3, 2 => 4, 2 => 5, 3 => 4, 3 => 5, 4 => 5', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ height: '!' }),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':enter', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ transform: 'translateX(100%)' })),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':enter, :leave', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ position: 'absolute', top: 0, left: 0, right: 0 })),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["group"])([
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':leave', [
                                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])('0.5s cubic-bezier(.35,0,.25,1)', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ transform: 'translateX(-100%)' })),
                            ]),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':enter', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])('0.5s cubic-bezier(.35,0,.25,1)', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ transform: 'translateX(0)' }))),
                        ]),
                    ]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["transition"])('5 => 4, 5 => 3, 5 => 2, 5 => 1, 4 => 3, 4 => 2, 4 => 1, 3 => 2, 3 => 1, 2 => 1', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ height: '!' }),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':enter', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ transform: 'translateX(-100%)' })),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':enter, :leave', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ position: 'absolute', top: 0, left: 0, right: 0 })),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["group"])([
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':leave', [
                                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])('0.5s cubic-bezier(.35,0,.25,1)', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ transform: 'translateX(100%)' })),
                            ]),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["query"])(':enter', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])('0.5s cubic-bezier(.35,0,.25,1)', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ transform: 'translateX(0)' }))),
                        ]),
                    ])
                ])
            ]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"], _services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthenticationService"],
            _services_api_sample_service__WEBPACK_IMPORTED_MODULE_5__["ApiSampleService"],
            _services_api_wew_service__WEBPACK_IMPORTED_MODULE_8__["ApiWewService"],
            _services_global_reference_service__WEBPACK_IMPORTED_MODULE_7__["GlobalReferenceService"],
            _services_api_reference_service__WEBPACK_IMPORTED_MODULE_9__["ApiReferenceService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @swimlane/ngx-datatable */ "./node_modules/@swimlane/ngx-datatable/release/index.js");
/* harmony import */ var _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _google_map_results_gmap_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./google-map/results-gmap.component */ "./src/app/google-map/results-gmap.component.ts");
/* harmony import */ var _user_create_account_create_account_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./user/create-account/create-account.component */ "./src/app/user/create-account/create-account.component.ts");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ng2-charts */ "./node_modules/ng2-charts/index.js");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(ng2_charts__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sidenav/sidenav.component */ "./src/app/sidenav/sidenav.component.ts");
/* harmony import */ var _sample_sample_view_sample_view_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./sample/sample-view/sample-view.component */ "./src/app/sample/sample-view/sample-view.component.ts");
/* harmony import */ var _sample_sample_upload_sample_upload_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./sample/sample-upload/sample-upload.component */ "./src/app/sample/sample-upload/sample-upload.component.ts");
/* harmony import */ var _sample_location_table_sample_location_table_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./sample-location-table/sample-location-table.component */ "./src/app/sample-location-table/sample-location-table.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _services_auth_guard__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./services/auth.guard */ "./src/app/services/auth.guard.ts");
/* harmony import */ var _wew_wew_upload_wew_upload_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./wew/wew-upload/wew-upload.component */ "./src/app/wew/wew-upload/wew-upload.component.ts");
/* harmony import */ var ngx_echarts__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ngx-echarts */ "./node_modules/ngx-echarts/fesm5/ngx-echarts.js");
/* harmony import */ var _user_edit_account_edit_account_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./user/edit-account/edit-account.component */ "./src/app/user/edit-account/edit-account.component.ts");
/* harmony import */ var _taxon_taxon_import_structure_taxon_import_structure_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./taxon/taxon-import-structure/taxon-import-structure.component */ "./src/app/taxon/taxon-import-structure/taxon-import-structure.component.ts");
/* harmony import */ var _taxon_taxon_tree_taxon_tree_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./taxon/taxon-tree/taxon-tree.component */ "./src/app/taxon/taxon-tree/taxon-tree.component.ts");
/* harmony import */ var _taxon_taxon_view_taxon_view_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./taxon/taxon-view/taxon-view.component */ "./src/app/taxon/taxon-view/taxon-view.component.ts");
/* harmony import */ var _wew_wew_bar_chart_wew_bar_chart_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./wew/wew-bar-chart/wew-bar-chart.component */ "./src/app/wew/wew-bar-chart/wew-bar-chart.component.ts");
/* harmony import */ var _water_water_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./water/water.component */ "./src/app/water/water.component.ts");
/* harmony import */ var _taxon_taxon_manage_groups_taxon_manage_groups_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./taxon/taxon-manage-groups/taxon-manage-groups.component */ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.ts");
/* harmony import */ var _reference_reference_list_reference_list_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./reference/reference-list/reference-list.component */ "./src/app/reference/reference-list/reference-list.component.ts");
/* harmony import */ var _reference_reference_edit_reference_edit_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./reference/reference-edit/reference-edit.component */ "./src/app/reference/reference-edit/reference-edit.component.ts");
/* harmony import */ var _sample_sample_compare_sample_compare_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./sample/sample-compare/sample-compare.component */ "./src/app/sample/sample-compare/sample-compare.component.ts");
/* harmony import */ var _sample_sample_quality_sheet_sample_quality_sheet_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./sample/sample-quality-sheet/sample-quality-sheet.component */ "./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.ts");
/* harmony import */ var _help_help_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./help/help.component */ "./src/app/help/help.component.ts");
/* harmony import */ var _map_map_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./map/map.component */ "./src/app/map/map.component.ts");
/* harmony import */ var _services_AuthInterceptor_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./services/AuthInterceptor.service */ "./src/app/services/AuthInterceptor.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_common_locales_nl__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @angular/common/locales/nl */ "./node_modules/@angular/common/locales/nl.js");
/* harmony import */ var _angular_common_locales_nl__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(_angular_common_locales_nl__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var _services_global_reference_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./services/global.reference.service */ "./src/app/services/global.reference.service.ts");
/* harmony import */ var _new_wew_bar_chart_new_wew_bar_chart_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./new-wew-bar-chart/new-wew-bar-chart.component */ "./src/app/new-wew-bar-chart/new-wew-bar-chart.component.ts");
/* harmony import */ var _sample_new_sample_compare_new_sample_compare_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./sample/new-sample-compare/new-sample-compare.component */ "./src/app/sample/new-sample-compare/new-sample-compare.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










































Object(_angular_common__WEBPACK_IMPORTED_MODULE_36__["registerLocaleData"])(_angular_common_locales_nl__WEBPACK_IMPORTED_MODULE_37___default.a);
var routes = [
    { path: '', component: _map_map_component__WEBPACK_IMPORTED_MODULE_33__["MapComponent"], data: { depth: 2 } },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_17__["LoginComponent"] },
    { path: 'map', component: _map_map_component__WEBPACK_IMPORTED_MODULE_33__["MapComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'account', component: _user_edit_account_edit_account_component__WEBPACK_IMPORTED_MODULE_21__["EditAccountComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'results/water/:id', component: _water_water_component__WEBPACK_IMPORTED_MODULE_26__["WaterComponent"], data: { depth: 3 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'data', component: _sample_location_table_sample_location_table_component__WEBPACK_IMPORTED_MODULE_16__["SampleLocationTableComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'sample/upload', component: _sample_sample_upload_sample_upload_component__WEBPACK_IMPORTED_MODULE_15__["SampleUploadComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'sample/view/:id', component: _sample_sample_view_sample_view_component__WEBPACK_IMPORTED_MODULE_14__["SampleViewComponent"], data: { depth: 4 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'sample/quality/:id', component: _sample_sample_quality_sheet_sample_quality_sheet_component__WEBPACK_IMPORTED_MODULE_31__["SampleQualitySheetComponent"], data: { depth: 5 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'taxon/view/:id', component: _taxon_taxon_view_taxon_view_component__WEBPACK_IMPORTED_MODULE_24__["TaxonViewComponent"], data: { depth: 3 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'sample/compare', component: _sample_sample_compare_sample_compare_component__WEBPACK_IMPORTED_MODULE_30__["SampleCompareComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'help', data: { depth: 1 }, component: _help_help_component__WEBPACK_IMPORTED_MODULE_32__["HelpComponent"] },
    /* Admin Routes */
    { path: 'taxon/import', component: _taxon_taxon_import_structure_taxon_import_structure_component__WEBPACK_IMPORTED_MODULE_22__["TaxonImportStructureComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'taxon/group', component: _taxon_taxon_manage_groups_taxon_manage_groups_component__WEBPACK_IMPORTED_MODULE_27__["TaxonManageGroupsComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'wew/upload', component: _wew_wew_upload_wew_upload_component__WEBPACK_IMPORTED_MODULE_19__["WewUploadComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'reference/list', component: _reference_reference_list_reference_list_component__WEBPACK_IMPORTED_MODULE_28__["ReferenceListComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'reference/edit/:id', component: _reference_reference_edit_reference_edit_component__WEBPACK_IMPORTED_MODULE_29__["ReferenceEditComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    { path: 'admin/create-account', component: _user_create_account_create_account_component__WEBPACK_IMPORTED_MODULE_11__["CreateAccountComponent"], data: { depth: 2 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] },
    /* Directs back to home if route is unknown */
    { path: '**', component: _help_help_component__WEBPACK_IMPORTED_MODULE_32__["HelpComponent"], data: { depth: 1 }, canActivate: [_services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"]] }
];
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["NgModule"])({
            declarations: [
                _map_map_component__WEBPACK_IMPORTED_MODULE_33__["MapComponent"],
                _app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"],
                _user_create_account_create_account_component__WEBPACK_IMPORTED_MODULE_11__["CreateAccountComponent"],
                _google_map_results_gmap_component__WEBPACK_IMPORTED_MODULE_10__["GMapsComponent"],
                _sample_location_table_sample_location_table_component__WEBPACK_IMPORTED_MODULE_16__["SampleLocationTableComponent"],
                _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_13__["SidenavComponent"],
                _sample_sample_view_sample_view_component__WEBPACK_IMPORTED_MODULE_14__["SampleViewComponent"],
                _sample_sample_upload_sample_upload_component__WEBPACK_IMPORTED_MODULE_15__["SampleUploadComponent"],
                _wew_wew_bar_chart_wew_bar_chart_component__WEBPACK_IMPORTED_MODULE_25__["WewBarChartComponent"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_17__["LoginComponent"],
                _user_edit_account_edit_account_component__WEBPACK_IMPORTED_MODULE_21__["EditAccountComponent"],
                _wew_wew_upload_wew_upload_component__WEBPACK_IMPORTED_MODULE_19__["WewUploadComponent"],
                _taxon_taxon_import_structure_taxon_import_structure_component__WEBPACK_IMPORTED_MODULE_22__["TaxonImportStructureComponent"],
                _taxon_taxon_tree_taxon_tree_component__WEBPACK_IMPORTED_MODULE_23__["TaxonTreeComponent"],
                _taxon_taxon_view_taxon_view_component__WEBPACK_IMPORTED_MODULE_24__["TaxonViewComponent"],
                _water_water_component__WEBPACK_IMPORTED_MODULE_26__["WaterComponent"],
                _taxon_taxon_manage_groups_taxon_manage_groups_component__WEBPACK_IMPORTED_MODULE_27__["TaxonManageGroupsComponent"],
                _taxon_taxon_manage_groups_taxon_manage_groups_component__WEBPACK_IMPORTED_MODULE_27__["TaxonManageGroupsEditComponent"],
                _reference_reference_list_reference_list_component__WEBPACK_IMPORTED_MODULE_28__["ReferenceListComponent"],
                _reference_reference_edit_reference_edit_component__WEBPACK_IMPORTED_MODULE_29__["ReferenceEditComponent"],
                _sample_sample_compare_sample_compare_component__WEBPACK_IMPORTED_MODULE_30__["SampleCompareComponent"],
                _sample_sample_quality_sheet_sample_quality_sheet_component__WEBPACK_IMPORTED_MODULE_31__["SampleQualitySheetComponent"],
                _help_help_component__WEBPACK_IMPORTED_MODULE_32__["HelpComponent"],
                _new_wew_bar_chart_new_wew_bar_chart_component__WEBPACK_IMPORTED_MODULE_39__["NewWewBarChartComponent"],
                _sample_new_sample_compare_new_sample_compare_component__WEBPACK_IMPORTED_MODULE_40__["NewSampleCompareComponent"],
            ],
            entryComponents: [
                _taxon_taxon_manage_groups_taxon_manage_groups_component__WEBPACK_IMPORTED_MODULE_27__["TaxonManageGroupsEditComponent"]
            ],
            imports: [
                ng2_charts__WEBPACK_IMPORTED_MODULE_12__["ChartsModule"],
                ngx_echarts__WEBPACK_IMPORTED_MODULE_20__["NgxEchartsModule"],
                ng2_charts__WEBPACK_IMPORTED_MODULE_12__["ChartsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatProgressSpinnerModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _angular_http__WEBPACK_IMPORTED_MODULE_5__["HttpModule"],
                _angular_http__WEBPACK_IMPORTED_MODULE_5__["JsonpModule"],
                _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_8__["NgxDatatableModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__["BrowserAnimationsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"].forRoot(routes, { useHash: false }),
            ],
            providers: [_services_global_reference_service__WEBPACK_IMPORTED_MODULE_38__["GlobalReferenceService"], _services_auth_guard__WEBPACK_IMPORTED_MODULE_18__["AuthGuard"], { provide: _angular_core__WEBPACK_IMPORTED_MODULE_3__["LOCALE_ID"], useValue: "nl-NL" },
                {
                    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_35__["HTTP_INTERCEPTORS"],
                    useClass: _services_AuthInterceptor_service__WEBPACK_IMPORTED_MODULE_34__["AuthInterceptor"],
                    multi: true
                }],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/google-map/results-gmap.component.css":
/*!*******************************************************!*\
  !*** ./src/app/google-map/results-gmap.component.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ngui-map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.iw-button, .search-button, .filter-button {\r\n  background-color: #3f51b5;\r\n  color: #FFFFFF;\r\n}\r\n\r\n.search-button, .iw-button {\r\n  margin-top: 20px;\r\n  float: right;\r\n}\r\n\r\n.filter-button {\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.filter-list {\r\n  float: left;\r\n  margin-left: 10px;\r\n}\r\n\r\n.filters {\r\n  margin-left: 30%;\r\n  width: 900px;\r\n}\r\n\r\n.app-action {\r\n  right: 20px;\r\n  top: 120px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/google-map/results-gmap.component.html":
/*!********************************************************!*\
  !*** ./src/app/google-map/results-gmap.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"filters\" *ngIf=\"showFilters\">\r\n  <p class=\"filter-list\">\r\n    <mat-select name=\"waterschapName\" [(ngModel)]=\"filters.waterschapId\" placeholder=\"Waterschap naam\">\r\n      <mat-option [value]=\"0\">\r\n        Geen filter\r\n      </mat-option>\r\n      <mat-option *ngFor=\"let waterschap of waterschappen\"\r\n                 [value]=\"waterschap.id\">\r\n        {{waterschap.name}}\r\n      </mat-option>\r\n    </mat-select>\r\n  </p>\r\n  <p class=\"filter-list\">\r\n    <mat-select name=\"watertypeName\" [(ngModel)]=\"filters.watertypeId\" placeholder=\"Watertype naam\">\r\n      <mat-option [value]=\"0\">\r\n        Geen filter\r\n      </mat-option>\r\n      <mat-option *ngFor=\"let watertype of watertypes\" [value]=\"watertype.id\">\r\n        ({{watertype.code}}) {{watertype.name}}\r\n      </mat-option>\r\n    </mat-select>\r\n  </p>\r\n  <p class=\"filter-list\">\r\n    <mat-select name=\"lastTakenSample\" [(ngModel)]=\"filters.date\" placeholder=\"Jaar laatst genomen monster\">\r\n      <mat-option [value]=\"0\">\r\n        Geen filter\r\n      </mat-option>\r\n      <mat-option *ngFor=\"let year of filterYears\" [value]=\"year\">\r\n        Vanaf {{year}}\r\n      </mat-option>\r\n    </mat-select>\r\n  </p>\r\n  <button mat-raised-button class=\"filter-button\" (click)=\"retrieveMarkers()\"\r\n          type=\"submit\">FILTEREN\r\n  </button>\r\n  <button mat-raised-button class=\"filter-button\" (click)=\"refreshMarkers()\"\r\n          type=\"submit\">RESET\r\n  </button>\r\n</div>\r\n\r\n<!-- <ngui-map [options]=\"mapConfig\">\r\n  <marker (click)=\"showMarkerInfo($event)\"\r\n          *ngFor=\"let pos of positions\"\r\n          [position]=\"pos\"\r\n          [title]=\"pos.title\">\r\n  </marker>\r\n  <info-window id=\"iw\">\r\n    <mat-list *ngIf=\"marker\">\r\n      <mat-list-item *ngIf=\"marker.markerLocation\">\r\n        <h3 matLine><b>Locatie</b></h3>\r\n        <p matLine>{{marker.markerLocation.description}}</p>\r\n      </mat-list-item>\r\n      <mat-list-item *ngIf=\"marker.markerLocation\">\r\n        <h3 matLine><b>Mp</b></h3>\r\n        <p matLine>{{marker.markerLocation.code}}</p>\r\n      </mat-list-item>\r\n      <mat-list-item *ngIf=\"marker.waterschap != undefined\">\r\n        <h3 matLine><b>Waterschap</b></h3>\r\n        <p matLine>{{marker.waterschap.name}}</p>\r\n      </mat-list-item>\r\n      <mat-list-item>\r\n        <h3 matLine><b>Watertype</b></h3>\r\n        <p matLine *ngIf=\"marker.watertype\">\r\n          {{marker.watertype.name}}\r\n          ({{marker.watertype.code}})</p>\r\n        <p matLine *ngIf=\"marker.watertypeKrw\">\r\n          {{marker.watertypeKrw.name}}\r\n          ({{marker.watertypeKrw.code}})</p>\r\n      </mat-list-item>\r\n      <mat-list-item>\r\n        <h3 matLine><b>Laatst genomen monster</b></h3>\r\n        <p matLine>\r\n          {{marker.lastTakenSample}}</p>\r\n      </mat-list-item>\r\n    </mat-list>\r\n    <button *ngIf=\"marker.markerLocation\" class=\"iw-button\" mat-raised-button\r\n            [routerLink]=\"'/results/water/'+marker.markerLocation.id\">\r\n      <span class=\"mat-button-wrapper\">DETAILS</span>\r\n    </button>\r\n  </info-window>\r\n</ngui-map>-->\r\n\r\n<span class=\"app-action\">\r\n\t<button mat-button class=\"search-button\" (click)=\"toggleFilters()\"><span>FILTER RESULTATEN</span>\r\n</button>\r\n</span>\r\n\r\n"

/***/ }),

/***/ "./src/app/google-map/results-gmap.component.ts":
/*!******************************************************!*\
  !*** ./src/app/google-map/results-gmap.component.ts ***!
  \******************************************************/
/*! exports provided: GMapsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GMapsComponent", function() { return GMapsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/markerLocation.model */ "./src/app/models/markerLocation.model.ts");
/* harmony import */ var _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/api.watertype.service */ "./src/app/services/api.watertype.service.ts");
/* harmony import */ var _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/api.waterschap.service */ "./src/app/services/api.waterschap.service.ts");
/* harmony import */ var _models_watertype_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/watertype.model */ "./src/app/models/watertype.model.ts");
/* harmony import */ var _models_waterschap_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/waterschap.model */ "./src/app/models/waterschap.model.ts");
/* harmony import */ var _services_api_marker_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/api.marker.service */ "./src/app/services/api.marker.service.ts");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var GMapsComponent = /** @class */ (function () {
    function GMapsComponent(apiWatertype, apiWaterschap, apiMarker, apiSample, route) {
        this.apiWatertype = apiWatertype;
        this.apiWaterschap = apiWaterschap;
        this.apiMarker = apiMarker;
        this.apiSample = apiSample;
        this.route = route;
        this.positions = [];
        this.markers = [];
        this.watertypes = [];
        this.waterschappen = [];
        this.showFilters = false;
        this.marker = {
            markerLocation: _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__["MarkerLocation"],
            watertype: _models_watertype_model__WEBPACK_IMPORTED_MODULE_6__["Watertype"],
            watertypeKrw: _models_watertype_model__WEBPACK_IMPORTED_MODULE_6__["Watertype"],
            waterschap: _models_waterschap_model__WEBPACK_IMPORTED_MODULE_7__["Waterschap"],
            lastTakenSample: String,
        };
        this.filterYears = [];
        this.filters = {
            waterschapId: '0',
            watertypeId: '0',
            date: '',
        };
        this.mapStyle = [
            { elementType: 'labels', stylers: [{ visibility: 'off' }] },
            { featureType: 'administrative.country', stylers: [{ visibility: 'on' }] },
            {
                featureType: 'administrative.country',
                elementType: 'labels.text.fill',
                stylers: [{ color: '#606060' }]
            },
            {
                featureType: 'administrative.locality', elementType: 'labels',
                stylers: [{ visibility: 'simplified' }]
            },
            {
                featureType: 'administrative.locality',
                elementType: 'labels.text.fill',
                stylers: [{ color: '#606060' }]
            },
            { featureType: 'road', stylers: [{ visibility: 'off' }] },
            { featureType: 'water', stylers: [{ visibility: 'on' }] },
            {
                featureType: 'water', elementType: 'geometry.fill',
                stylers: [{ color: '#0d9ac7' }, { visibility: 'on' }]
            },
            {
                featureType: 'water', elementType: 'labels',
                stylers: [{ visibility: 'on' }]
            },
            {
                featureType: 'water', elementType: 'labels.text.fill',
                stylers: [{ color: '#000000' }, { visibility: 'on' }]
            }
        ];
        this.mapConfig = {
            styles: this.mapStyle,
            disableDefaultUI: false,
            center: { lat: 52.152832, lng: 5.439478 },
            zoom: 8,
        };
    }
    GMapsComponent.prototype.ngOnInit = function () {
        this.retrieveMarkers();
    };
    GMapsComponent.prototype.showMarkerInfo = function (_a) {
        var marker = _a.target;
        this.retrieveSpecificMarker(marker);
        marker.nguiMapComponent.openInfoWindow('iw', marker);
    };
    GMapsComponent.prototype.retrieveSpecificMarker = function (marker) {
        var _this = this;
        this.markers.forEach(function (item) {
            if (marker.getTitle() === 'm' + item.markerLocation.id) {
                _this.marker = item;
                return;
            }
        });
    };
    GMapsComponent.prototype.retrieveMarkers = function () {
        var _this = this;
        this.apiMarker.getAllFilteredMarkers(this.filters).subscribe(function (markers) {
            _this.markers = markers;
            _this.positions.splice(0);
            _this.markers.forEach(function (item) {
                _this.insertIntoPositions(item);
            });
            _this.retrieveWaterschappen();
            _this.retrieveWatertypes();
            _this.retrieveFilterYears();
        }, function (error) { return console.log(error); });
    };
    GMapsComponent.prototype.refreshMarkers = function () {
        this.positions.splice(0);
        this.filters = {
            waterschapId: '0',
            watertypeId: '0',
            date: '',
        };
        this.retrieveMarkers();
    };
    GMapsComponent.prototype.retrieveWaterschappen = function () {
        var _this = this;
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (params) { return _this.apiWaterschap.getAll(); }))
            .subscribe(function (items) {
            _this.waterschappen = items;
        }, function (error) { return console.log(error); });
    };
    GMapsComponent.prototype.retrieveWatertypes = function () {
        var _this = this;
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (params) { return _this.apiWatertype.getAll(); }))
            .subscribe(function (items) {
            _this.watertypes = items;
        }, function (error) { return console.log(error); });
    };
    GMapsComponent.prototype.retrieveFilterYears = function () {
        var _this = this;
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (params) { return _this.apiSample.getDistinctYears(); }))
            .subscribe(function (items) {
            _this.filterYears = items;
        }, function (error) { return console.log(error); });
    };
    GMapsComponent.prototype.insertIntoPositions = function (item) {
        this.positions.push({
            title: 'm' + item.markerLocation.id,
            lat: item.markerLocation.latitude,
            lng: item.markerLocation.longitude
        });
    };
    GMapsComponent.prototype.toggleFilters = function () {
        if (this.showFilters) {
            this.showFilters = false;
            return;
        }
        this.showFilters = true;
    };
    GMapsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-results',
            providers: [_services_api_location_service__WEBPACK_IMPORTED_MODULE_2__["ApiLocationService"], _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_4__["ApiWatertypeService"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_5__["ApiWaterschapService"], _services_api_marker_service__WEBPACK_IMPORTED_MODULE_8__["ApiMarkerService"], _services_api_sample_service__WEBPACK_IMPORTED_MODULE_9__["ApiSampleService"]],
            template: __webpack_require__(/*! ./results-gmap.component.html */ "./src/app/google-map/results-gmap.component.html"),
            styles: [__webpack_require__(/*! ./results-gmap.component.css */ "./src/app/google-map/results-gmap.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_watertype_service__WEBPACK_IMPORTED_MODULE_4__["ApiWatertypeService"],
            _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_5__["ApiWaterschapService"],
            _services_api_marker_service__WEBPACK_IMPORTED_MODULE_8__["ApiMarkerService"],
            _services_api_sample_service__WEBPACK_IMPORTED_MODULE_9__["ApiSampleService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], GMapsComponent);
    return GMapsComponent;
}());



/***/ }),

/***/ "./src/app/help/help.component.css":
/*!*****************************************!*\
  !*** ./src/app/help/help.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "a {\r\n  text-decoration: none;\r\n  color: #3f51b5;\r\n}\r\n.left {\r\n  float: left;\r\n}\r\n.right {\r\n  float: right;\r\n  margin-right: 280px;\r\n}\r\n.clear {\r\n  clear: both;\r\n}\r\n\r\n"

/***/ }),

/***/ "./src/app/help/help.component.html":
/*!******************************************!*\
  !*** ./src/app/help/help.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>\r\n    <span class=\"mat-headline\">Hulp <mat-icon class=\"example-tab-icon\">help_outline</mat-icon></span>\r\n  </mat-card-title>\r\n  <p>Hieronder worden enkele beschrijvingen gegeven over wat u kunt doen met de applicatie en hoe deze werkt...</p><br>\r\n  <mat-tab-group>\r\n    <mat-tab>\r\n      <ng-template mat-tab-label>\r\n        ONDERZOEKEN <mat-icon class=\"example-tab-icon\">search</mat-icon>\r\n      </ng-template>\r\n      <p><br>U kunt een divers niveau aan informatie benaderen in de applicatie door gebruik te maken van de navigatiebalk. <br><br>\r\n        Bent u bijvoorbeeld op zoek naar monsters van een bepaalde locatie? Neem dan vooral een kijkje bij de <a routerLink=\"/map\">landkaart</a>. <br><br>\r\n        Heeft u meer interesse in het naast elkaar zetten van bepaalde monsters? Klik dan op het kopje <a routerLink=\"/sample/compare\">monsters vergelijken</a>. <br><br>\r\n        Een plek waar altijd wel iets nuttigs staat is de pagina genaamd <a routerLink=\"/data\">algemene data</a>. Gebruik daar vooral de zoekbalk om effectief te werken!\r\n      </p>\r\n    </mat-tab>\r\n\r\n    <mat-tab>\r\n      <ng-template mat-tab-label>\r\n        REKENREGELS <mat-icon class=\"example-tab-icon\">bug_report</mat-icon>\r\n      </ng-template>\r\n      <p><br> Voor u is het handig om te weten hoe de tools van de applicatie zijn gebouwd. <br><br>\r\n        Tijdens het onderzoeken vindt u waarschijnlijk monsters die u wilt analyseren, dit kan door middel van deze tools.<br><br><br>\r\n        Te beginnen bij de staafgrafieken die gebruik maken van het WEW tien punten systeem. <br><br>\r\n        Elke taxon heeft voor elke ecologische variabele 10 punten totaal, deze punten zijn verdeeld over subvariabelen. <br><br>\r\n        Bijvoorbeeld de variabele <b>zuurgraad</b> met de subvariabelen <b>zuur - zwak zuur - neutraal - basisch</b>. <br><br><br>\r\n        Als we deze punten bekijken van het taxon genaamd <i>Aedes punctor</i> zien we dat dit zo wordt ingevuld: zuurgraad = zuur (6) + zwak zuur (4) + neutraal (0) + basisch (0) = 10 punten. <br><br>\r\n        De staafgrafiek toont voor elke subvariabele het <b>gemiddelde</b> van al deze waarden van elk in het monster aanwezig taxon bij elkaar, met als regel dat de taxon wel in de referentie moet staan. <br><br>\r\n        Taxons die wel aanwezig zijn in het monster maar niet in de referentielijst van het desbetreffende watertype worden niet meegenomen in de berekening en dus niet in de grafiek! <br><br><br>\r\n        Bovendien is er een taartdiagram zichtbaar die toont welke taxa aanwezig zijn in het betreffende monster. <br><br><br>\r\n        Bij elk individueel monster kunt u ook de kwaliteit analyse bekijken, dit bestaat uit een reeks tabellen met de tien punten verdeling eerder beschreven. <br><br>\r\n        In deze tabellen staan de punten van het monster naast de punten van de referentie, vervolgens is het verschil hierin getoond. <br><br>\r\n        Hieruit valt op te merken onder welke variabele een grote verbetering kan plaatsvinden.\r\n      </p>\r\n    </mat-tab>\r\n\r\n    <mat-tab>\r\n      <ng-template mat-tab-label>\r\n        FILTEREN <mat-icon class=\"example-tab-icon\">hourglass_empty</mat-icon>\r\n      </ng-template>\r\n      <p><br>U kunt de referentielijst verscherpen door middel van filtering, voor nu kan er gefilterd worden op eutrofiÃ«ring en hydromorfologie. <br><br>\r\n        Bovendien heeft u dan nog de keus om hierbij alleen de +3 waarden mee te nemen en zijn alle combinaties mogelijk. <br><br>\r\n        Wanneer een filter wordt aangezet zullen de grafieken hierop meteen worden aangepast op elke pagina.\r\n      </p>\r\n    </mat-tab>\r\n\r\n\r\n  </mat-tab-group>\r\n</mat-card>\r\n\r\n<mat-card>\r\n  <mat-card-title>\r\n    <span class=\"mat-headline\">Contactgegevens <mat-icon class=\"example-tab-icon\">info_outline</mat-icon></span>\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    NBC Naturalis<br>\r\n    Vondellaan 55<br>\r\n    2332 AA Leiden<br>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/help/help.component.ts":
/*!****************************************!*\
  !*** ./src/app/help/help.component.ts ***!
  \****************************************/
/*! exports provided: HelpComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpComponent", function() { return HelpComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var HelpComponent = /** @class */ (function () {
    function HelpComponent() {
    }
    HelpComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-help',
            template: __webpack_require__(/*! ./help.component.html */ "./src/app/help/help.component.html"),
            styles: [__webpack_require__(/*! ./help.component.css */ "./src/app/help/help.component.css")]
        })
    ], HelpComponent);
    return HelpComponent;
}());



/***/ }),

/***/ "./src/app/login/login.component.css":
/*!*******************************************!*\
  !*** ./src/app/login/login.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>\r\n    <span class=\"mat-headline\">Login</span>\r\n  </mat-card-title>\r\n\r\n  <form (ngSubmit)=\"login()\">\r\n    <mat-card-content>\r\n      <section layout=\"row\">\r\n        <mat-form-field>\r\n          <input matInput placeholder=\"Email Adres\" name=\"email\" [(ngModel)]=\"model.email\" required>\r\n        </mat-form-field>\r\n      </section>\r\n\r\n      <section layout=\"row\">\r\n        <mat-form-field>\r\n          <input matInput type=\"password\" placeholder=\"Wachtwoord\" name=\"password\" [(ngModel)]=\"model.password\"\r\n                 required>\r\n        </mat-form-field>\r\n      </section>\r\n\r\n      <section layout=\"row\">\r\n        <button type=\"submit\" mat-raised-button>Login</button>\r\n      </section>\r\n    </mat-card-content>\r\n  </form>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sweetalert2 */ "./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/auth.service */ "./src/app/services/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LoginComponent = /** @class */ (function () {
    function LoginComponent(router, authenticationService) {
        this.router = router;
        this.authenticationService = authenticationService;
        this.model = {};
    }
    LoginComponent.prototype.ngOnInit = function () {
        this.authenticationService.logout();
    };
    LoginComponent.prototype.login = function () {
        var _this = this;
        this.authenticationService.login(this.model.email, this.model.password).subscribe(function (res) {
            localStorage.setItem('token', res['token']);
            _this.router.navigate(['/']);
        }, function (err) { return sweetalert2__WEBPACK_IMPORTED_MODULE_2___default()('Oops...', err.detailMessage, 'error'); });
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            providers: [_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]],
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/login/login.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/map/map.component.css":
/*!***************************************!*\
  !*** ./src/app/map/map.component.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".filters {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n}\r\n.search-button, .filter-button {\r\n  background-color: #3f51b5;\r\n  color: #FFFFFF;\r\n}\r\n.search-button {\r\n  margin-top: 20px;\r\n}\r\n.filter-button {\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n\r\n}\r\n.filter-list {\r\n  margin-left: 10px;\r\n  width: 27%;\r\n}\r\n\r\n"

/***/ }),

/***/ "./src/app/map/map.component.html":
/*!****************************************!*\
  !*** ./src/app/map/map.component.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <div class=\"filters\">\r\n    <p class=\"filter-list\">\r\n      <mat-select name=\"watertypeName\" [(ngModel)]=\"filters.watertypeId\" placeholder=\"Watertype naam\">\r\n        <mat-option *ngFor=\"let watertype of watertypes\" [value]=\"watertype.id\">\r\n          ({{watertype.code}}) {{watertype.name}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </p>\r\n    <p class=\"filter-list\">\r\n      <mat-select name=\"lastTakenSample\" [(ngModel)]=\"filters.date\" placeholder=\"Jaar laatst genomen monster\">\r\n        <mat-option *ngFor=\"let year of filterYears\" [value]=\"year\">\r\n          Vanaf {{year}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </p>\r\n    <button mat-raised-button class=\"filter-button\" (click)=\"loadFilters()\"\r\n            type=\"submit\">FILTEREN\r\n    </button>\r\n    <button mat-raised-button class=\"filter-button\" (click)=\"refreshMarkers()\"\r\n            type=\"submit\">RESET\r\n    </button>\r\n  </div>\r\n</mat-card>\r\n<mat-card>\r\n  <div #gmap style=\"width:100%; height:520px\"></div>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/map/map.component.ts":
/*!**************************************!*\
  !*** ./src/app/map/map.component.ts ***!
  \**************************************/
/*! exports provided: MapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapComponent", function() { return MapComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/api.waterschap.service */ "./src/app/services/api.waterschap.service.ts");
/* harmony import */ var _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api.watertype.service */ "./src/app/services/api.watertype.service.ts");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_marker_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/api.marker.service */ "./src/app/services/api.marker.service.ts");
/* harmony import */ var _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/markerLocation.model */ "./src/app/models/markerLocation.model.ts");
/* harmony import */ var _models_watertype_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/watertype.model */ "./src/app/models/watertype.model.ts");
/* harmony import */ var _models_waterschap_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../models/waterschap.model */ "./src/app/models/waterschap.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var MapComponent = /** @class */ (function () {
    function MapComponent(apiWatertype, apiWaterschap, apiMarker, apiSample, route, router, ngZone) {
        this.apiWatertype = apiWatertype;
        this.apiWaterschap = apiWaterschap;
        this.apiMarker = apiMarker;
        this.apiSample = apiSample;
        this.route = route;
        this.router = router;
        this.ngZone = ngZone;
        this.googleMarkers = [];
        this.samples = [];
        this.watertypes = [];
        this.waterschappen = [];
        this.marker = {
            markerLocation: _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_6__["MarkerLocation"],
            watertype: _models_watertype_model__WEBPACK_IMPORTED_MODULE_7__["Watertype"],
            watertypeKrw: _models_watertype_model__WEBPACK_IMPORTED_MODULE_7__["Watertype"],
            waterschap: _models_waterschap_model__WEBPACK_IMPORTED_MODULE_8__["Waterschap"],
            lastTakenSample: String,
        };
        this.filterYears = [];
        this.mapProp = {
            center: new google.maps.LatLng(52.250102, 5.4163903),
            zoom: 7.5,
            mapTypeId: google.maps.MapTypeId.TERRAIN
        };
        this.filters = {
            waterschapId: '0',
            watertypeId: '0',
            date: '',
        };
    }
    MapComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.apiMarker.getAllFilteredMarkers(this.filters).subscribe(function (markers) {
            _this.samples = markers;
            _this.filterSamplesByLocation();
            _this.loadMarkers(_this.samples);
        }, function (error) { return console.log(error); });
        this.retrieveWaterschappen();
        this.retrieveWatertypes();
        this.retrieveFilterYears();
        this.map = new google.maps.Map(this.gmapElement.nativeElement, this.mapProp);
    };
    MapComponent.prototype.loadMarkers = function (samples) {
        var _this = this;
        samples.forEach(function (item) {
            _this.newMarker(item);
        });
        this.setMapOnAll(this.map);
    };
    MapComponent.prototype.setMapOnAll = function (map) {
        for (var i = 0; i < this.googleMarkers.length; i++) {
            this.googleMarkers[i].setMap(map);
        }
    };
    MapComponent.prototype.loadFilters = function () {
        var _this = this;
        var filterlijst = [];
        this.setMapOnAll(null);
        this.samples.forEach(function (item) {
            if (_this.filters.waterschapId !== '0' && item.waterschap && item.waterschap.id === _this.filters.waterschapId) {
                filterlijst.push(item);
            }
            if (_this.filters.watertypeId !== '0' && item.watertype && item.watertype.id === _this.filters.watertypeId) {
                filterlijst.push(item);
            }
            if (_this.filters.watertypeId !== '0' && item.watertypeKrw && item.watertypeKrw.id === _this.filters.watertypeId) {
                filterlijst.push(item);
            }
            if (_this.filters.date !== '' && item.lastTakenSample && item.lastTakenSample === _this.filters.date) {
                filterlijst.push(item);
            }
        });
        if (this.filters.date !== '' || this.filters.watertypeId !== '0' || this.filters.waterschapId !== '0') {
            this.googleMarkers = [];
            filterlijst.forEach(function (item) {
                _this.newMarker(item);
            });
        }
        this.setMapOnAll(this.map);
    };
    MapComponent.prototype.filterSamplesByLocation = function () {
        //zo lang er 100 nog wat "markers" worden gepushed vanuit api dit laten staan.
        var nieuweLijst = [];
        nieuweLijst.push(this.samples[0]);
        for (var i = 0; i < this.samples.length; i++) {
            if (i > 0 && this.samples[i].markerLocation.id !== this.samples[i - 1].markerLocation.id) {
                nieuweLijst.push(this.samples[i]);
            }
        }
        this.samples = nieuweLijst;
    };
    MapComponent.prototype.newMarker = function (sample) {
        var _this = this;
        var marker = new google.maps.Marker({
            position: new google.maps.LatLng(sample.markerLocation.latitude, sample.markerLocation.longitude),
            map: null,
            title: 'm' + sample.markerLocation.id,
        });
        marker.addListener('click', function () {
            if (_this.infoWindow) {
                _this.infoWindow.close();
            }
            _this.newInfoWindow(sample);
            _this.infoWindow.open(_this.map, marker);
        });
        this.googleMarkers.push(marker);
    };
    MapComponent.prototype.refreshMarkers = function () {
        this.loadMarkers(this.samples);
        this.filters = {
            waterschapId: '0',
            watertypeId: '0',
            date: '',
        };
    };
    MapComponent.prototype.newInfoWindow = function (sample) {
        var _this = this;
        this.infoWindow = new google.maps.InfoWindow();
        var content = document.createElement('div');
        var html = "<style>" +
            ".texts{color:blue; margin-top: -12px; font-family: 'Arial';}" +
            "</style> <mat-list >";
        if (sample.markerLocation) {
            html = html +
                "<mat-list-item>" +
                "<h3 matLine>" +
                "<b>Locatie</b>" +
                "</h3>" +
                "<p class='texts' matLine>" + sample.markerLocation.description + "</p>" +
                "</mat-list-item>" +
                "<mat-list-item>" +
                "<h3 matLine>" +
                "<b>Mp</b>" +
                "</h3> " +
                "<p class='texts' matLine>" + sample.markerLocation.code + "</p>" +
                "</mat-list-item>";
        }
        if (sample.waterschap) {
            html = html +
                "<mat-list-item>" +
                "<h3 matLine>" +
                "<b>Waterschap</b>" +
                "</h3>" +
                "<p class='texts' matLine>" + sample.waterschap.name + "</p>" +
                "</mat-list-item>";
        }
        if (sample.watertype) {
            html = html +
                "<mat-list-item>" +
                "<h3 matLine>" +
                "<b class='haha'>Watertype</b>" +
                "</h3>" +
                "<p class='texts' matLine>" + sample.watertype.name + " (" + sample.watertype.code + ")" + "</p>" +
                "<p class='texts' matLine>" + sample.watertypeKrw.name + " (" + sample.watertypeKrw.code + ")" + "</p>" +
                "</mat-list-item>";
        }
        if (sample.lastTakenSample) {
            html = html +
                "<mat-list-item>" +
                "<h3 matLine>" +
                "<b>Laatst genomen monster</b>" +
                "</h3>" +
                "<p class='texts' matLine>" + sample.lastTakenSample + "</p>" +
                "</mat-list-item>";
        }
        content.innerHTML = html;
        var button = content.appendChild(document.createElement('input'));
        button.type = 'button';
        button.className = 'mat-raised-button';
        button.value = 'DETAILS';
        button.setAttribute("style", "background-color: #3f51b5; color: #FFFFFF; margin-top: 10px;" +
            "float: right;");
        button.addEventListener("click", function () { return _this.ngZone.run(function () {
            _this.router.navigate(["/results/water/", sample.markerLocation.id]);
        }); });
        this.infoWindow.setContent(content);
    };
    MapComponent.prototype.retrieveFilterYears = function () {
        var _this = this;
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (params) { return _this.apiSample.getDistinctYears(); }))
            .subscribe(function (items) {
            _this.filterYears = items;
        }, function (error) { return console.log(error); });
    };
    MapComponent.prototype.retrieveWaterschappen = function () {
        var _this = this;
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (params) { return _this.apiWaterschap.getAll(); }))
            .subscribe(function (items) {
            _this.waterschappen = items;
        }, function (error) { return console.log(error); });
    };
    MapComponent.prototype.retrieveWatertypes = function () {
        var _this = this;
        this.route.params
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["switchMap"])(function (params) { return _this.apiWatertype.getAll(); }))
            .subscribe(function (items) {
            _this.watertypes = items;
        }, function (error) { return console.log(error); });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('gmap'),
        __metadata("design:type", Object)
    ], MapComponent.prototype, "gmapElement", void 0);
    MapComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'map',
            providers: [_services_api_location_service__WEBPACK_IMPORTED_MODULE_1__["ApiLocationService"], _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_3__["ApiWatertypeService"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_2__["ApiWaterschapService"], _services_api_marker_service__WEBPACK_IMPORTED_MODULE_5__["ApiMarkerService"], _services_api_sample_service__WEBPACK_IMPORTED_MODULE_4__["ApiSampleService"]],
            template: __webpack_require__(/*! ./map.component.html */ "./src/app/map/map.component.html"),
            styles: [__webpack_require__(/*! ./map.component.css */ "./src/app/map/map.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_watertype_service__WEBPACK_IMPORTED_MODULE_3__["ApiWatertypeService"],
            _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_2__["ApiWaterschapService"],
            _services_api_marker_service__WEBPACK_IMPORTED_MODULE_5__["ApiMarkerService"],
            _services_api_sample_service__WEBPACK_IMPORTED_MODULE_4__["ApiSampleService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["Router"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], MapComponent);
    return MapComponent;
}());



/***/ }),

/***/ "./src/app/models/chart-entity.model.ts":
/*!**********************************************!*\
  !*** ./src/app/models/chart-entity.model.ts ***!
  \**********************************************/
/*! exports provided: ChartEntityManager, ChartEntity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartEntityManager", function() { return ChartEntityManager; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartEntity", function() { return ChartEntity; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _wew_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wew.model */ "./src/app/models/wew.model.ts");
/* harmony import */ var app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ChartEntityManager = /** @class */ (function () {
    function ChartEntityManager(http) {
        this.referenceApi = new app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__["ApiReferenceService"](http);
        this.sampleApi = new app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_4__["ApiSampleService"](http);
        this.wewApi = new _services_api_wew_service__WEBPACK_IMPORTED_MODULE_5__["ApiWewService"](http);
    }
    ChartEntityManager.prototype.createFromReference = function (reference, name, palette) {
        if (reference == null)
            return null;
        return new ReferenceChartEntity(this.referenceApi, reference, name, palette);
    };
    ChartEntityManager.prototype.createFromSample = function (sample, name, palette) {
        if (sample == null)
            return null;
        return new SampleChartEntity(this.sampleApi, sample, name, palette);
    };
    ChartEntityManager.prototype.createFromTaxon = function (taxon, palette) {
        if (taxon == null)
            return null;
        return new TaxonChartEntity(this.wewApi, taxon, palette);
    };
    ChartEntityManager = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ChartEntityManager);
    return ChartEntityManager;
}());

var ChartEntity = /** @class */ (function () {
    function ChartEntity(id, name, palette) {
        this.id = id;
        this.name = name;
        this.palette = palette;
    }
    return ChartEntity;
}());

var ReferenceChartEntity = /** @class */ (function (_super) {
    __extends(ReferenceChartEntity, _super);
    function ReferenceChartEntity(referenceApi, reference, name, palette) {
        var _this = _super.call(this, 'ref' + reference.id, name, palette) || this;
        _this.referenceApi = referenceApi;
        _this.reference = reference;
        return _this;
    }
    ReferenceChartEntity.prototype.getCalculations = function () {
        return this.referenceApi.getCalculationsByReference(this.reference.id).toPromise();
    };
    return ReferenceChartEntity;
}(ChartEntity));
var SampleChartEntity = /** @class */ (function (_super) {
    __extends(SampleChartEntity, _super);
    function SampleChartEntity(sampleApi, sample, name, palette) {
        var _this = _super.call(this, 'sample' + sample.id, name, palette) || this;
        _this.sampleApi = sampleApi;
        _this.sample = sample;
        return _this;
    }
    SampleChartEntity.prototype.getCalculations = function () {
        return this.sampleApi.getCalculationsBySample(this.sample.id).toPromise();
    };
    return SampleChartEntity;
}(ChartEntity));
var TaxonChartEntity = /** @class */ (function (_super) {
    __extends(TaxonChartEntity, _super);
    function TaxonChartEntity(wewApi, taxon, palette) {
        var _this = _super.call(this, 'taxon' + taxon.id, taxon.name, palette) || this;
        _this.wewApi = wewApi;
        _this.taxon = taxon;
        return _this;
    }
    TaxonChartEntity.prototype.getCalculations = function () {
        return this.wewApi.getByTaxon([this.taxon.id])
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["map"])(function (wewValues) { return wewValues.map(function (wewValue) {
            var value = new _wew_model__WEBPACK_IMPORTED_MODULE_2__["SimpleWEWValue"]();
            value.factorClassId = wewValue.factorClassId;
            value.value = wewValue.value;
            return value;
        }); })).toPromise();
    };
    return TaxonChartEntity;
}(ChartEntity));


/***/ }),

/***/ "./src/app/models/marker.model.ts":
/*!****************************************!*\
  !*** ./src/app/models/marker.model.ts ***!
  \****************************************/
/*! exports provided: Marker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Marker", function() { return Marker; });
var Marker = /** @class */ (function () {
    function Marker() {
    }
    Marker.fromJSON = function (obj) {
        var marker = new Marker();
        marker.markerLocation = obj.location;
        marker.watertype = obj.watertype;
        marker.watertypeKrw = obj.watertypeKrw;
        marker.waterschap = obj.waterschap;
        marker.lastTakenSample = obj.lastTakenSample;
        return marker;
    };
    return Marker;
}());



/***/ }),

/***/ "./src/app/models/markerLocation.model.ts":
/*!************************************************!*\
  !*** ./src/app/models/markerLocation.model.ts ***!
  \************************************************/
/*! exports provided: MarkerLocation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkerLocation", function() { return MarkerLocation; });
var MarkerLocation = /** @class */ (function () {
    function MarkerLocation() {
    }
    MarkerLocation.fromJSON = function (obj) {
        var location = new MarkerLocation();
        location.id = obj.id;
        location.code = obj.code;
        location.description = obj.description;
        location.xCoord = obj.xCoord;
        location.yCoord = obj.yCoord;
        location.latitude = obj.latitude;
        location.longitude = obj.longitude;
        location.waterschapId = obj.waterschapId;
        location.watertypeId = obj.watertypeId;
        location.watertypeKrwId = obj.watertypeKrwId;
        return location;
    };
    return MarkerLocation;
}());



/***/ }),

/***/ "./src/app/models/reference.model.ts":
/*!*******************************************!*\
  !*** ./src/app/models/reference.model.ts ***!
  \*******************************************/
/*! exports provided: Reference */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Reference", function() { return Reference; });
var Reference = /** @class */ (function () {
    function Reference() {
    }
    Reference.fromJSON = function (obj) {
        var reference = new Reference();
        reference.id = obj.id;
        reference.watertypeId = obj.watertypeId;
        reference.taxonIds = obj.taxonIds;
        return reference;
    };
    return Reference;
}());



/***/ }),

/***/ "./src/app/models/sample.model.ts":
/*!****************************************!*\
  !*** ./src/app/models/sample.model.ts ***!
  \****************************************/
/*! exports provided: Sample */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sample", function() { return Sample; });
var Sample = /** @class */ (function () {
    function Sample() {
    }
    //Maps don't stringify
    Sample.prototype.toJSON = function () {
        var taxonValuesObj = {};
        this.taxonValues.forEach(function (value, key) { return taxonValuesObj[key] = value; });
        return {
            id: this.id,
            date: this.date,
            location_id: this.location_id,
            owner_id: this.owner_id,
            quality: this.quality,
            x_coor: this.x_coor,
            y_coor: this.y_coor,
            date_added: this.date_added,
            taxonValues: taxonValuesObj
        };
    };
    Sample.fromJSON = function (obj) {
        var sample = new Sample();
        sample.id = obj.id;
        sample.date = obj.date;
        sample.location_id = obj.location_id;
        sample.owner_id = obj.owner_id;
        sample.quality = obj.quality;
        sample.x_coor = obj.x_coor;
        sample.y_coor = obj.y_coor;
        sample.date_added = obj.date_added;
        sample.taxonValues = new Map();
        for (var key in obj.taxonValues) {
            sample.taxonValues.set(parseInt(key, 10), obj.taxonValues[key]);
        }
        return sample;
    };
    return Sample;
}());



/***/ }),

/***/ "./src/app/models/taxon.model.ts":
/*!***************************************!*\
  !*** ./src/app/models/taxon.model.ts ***!
  \***************************************/
/*! exports provided: Taxon, TaxonGroup, TaxonLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Taxon", function() { return Taxon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonGroup", function() { return TaxonGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonLevel", function() { return TaxonLevel; });
var Taxon = /** @class */ (function () {
    function Taxon() {
    }
    Taxon.fromJSON = function (obj) {
        var taxon = new Taxon();
        taxon.id = obj.id;
        taxon.name = obj.name;
        taxon.groupId = obj.groupId;
        taxon.levelId = obj.levelId;
        taxon.parentId = obj.parentId;
        taxon.referId = obj.referId;
        taxon.hydrologischeVerstoring = obj.hydrologischeVerstoring;
        taxon.morfologischeVerstoring = obj.morfologischeVerstoring;
        taxon.eutrofieringBelasting = obj.eutrofieringBelasting;
        return taxon;
    };
    return Taxon;
}());

var TaxonGroup = /** @class */ (function () {
    function TaxonGroup() {
    }
    TaxonGroup.fromJSON = function (obj) {
        var group = new TaxonGroup();
        group.id = obj.id;
        group.code = obj.code;
        group.description = obj.description;
        group.icon = obj.icon;
        return group;
    };
    return TaxonGroup;
}());

var TaxonLevel = /** @class */ (function () {
    function TaxonLevel() {
    }
    TaxonLevel.fromJSON = function (obj) {
        var level = new TaxonLevel();
        level.id = obj.id;
        level.name = obj.name;
        return level;
    };
    return TaxonLevel;
}());



/***/ }),

/***/ "./src/app/models/user.model.ts":
/*!**************************************!*\
  !*** ./src/app/models/user.model.ts ***!
  \**************************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
var User = /** @class */ (function () {
    function User() {
    }
    User.fromJSON = function (obj) {
        var user = new User();
        user.id = obj.id;
        user.email = obj.email;
        user.password = obj.password;
        user.name = obj.name;
        user.group_id = obj.group_id;
        user.waterschap_id = obj.waterschap_id;
        return user;
    };
    return User;
}());



/***/ }),

/***/ "./src/app/models/waterschap.model.ts":
/*!********************************************!*\
  !*** ./src/app/models/waterschap.model.ts ***!
  \********************************************/
/*! exports provided: Waterschap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Waterschap", function() { return Waterschap; });
var Waterschap = /** @class */ (function () {
    function Waterschap() {
    }
    Waterschap.fromJSON = function (obj) {
        var ws = new Waterschap();
        ws.id = obj.id;
        ws.name = obj.name;
        ws.address = obj.address;
        ws.houseNumber = obj.houseNumber;
        ws.zipCode = obj.zipCode;
        ws.location = obj.location;
        ws.phoneNumber = obj.phoneNumber;
        return ws;
    };
    return Waterschap;
}());



/***/ }),

/***/ "./src/app/models/watertype.model.ts":
/*!*******************************************!*\
  !*** ./src/app/models/watertype.model.ts ***!
  \*******************************************/
/*! exports provided: Watertype */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Watertype", function() { return Watertype; });
var Watertype = /** @class */ (function () {
    function Watertype() {
    }
    Watertype.fromJSON = function (obj) {
        var wt = new Watertype();
        wt.id = obj.id;
        wt.name = obj.name;
        wt.code = obj.code;
        return wt;
    };
    return Watertype;
}());



/***/ }),

/***/ "./src/app/models/wew.model.ts":
/*!*************************************!*\
  !*** ./src/app/models/wew.model.ts ***!
  \*************************************/
/*! exports provided: WEWValue, SimpleWEWValue, WewValue, WewValuePre, CalculationPreTransformed, CalculationSample, CalculationSampleOrder, FilterTaxon, WEWFactor, WEWFactorClass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEWValue", function() { return WEWValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleWEWValue", function() { return SimpleWEWValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WewValue", function() { return WewValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WewValuePre", function() { return WewValuePre; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculationPreTransformed", function() { return CalculationPreTransformed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculationSample", function() { return CalculationSample; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalculationSampleOrder", function() { return CalculationSampleOrder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterTaxon", function() { return FilterTaxon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEWFactor", function() { return WEWFactor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEWFactorClass", function() { return WEWFactorClass; });
var WEWValue = /** @class */ (function () {
    function WEWValue() {
    }
    //WEWValue is transferred between server and client in a different way than other classes, for performance reasons
    //Format: {i:id,c:factorClassId,t:taxonId,v:value}
    WEWValue.prototype.toJSON = function () {
        return {
            i: this.id,
            c: this.factorClassId,
            t: this.taxonId,
            v: this.value
        };
    };
    WEWValue.fromJSON = function (obj) {
        var value = new WEWValue();
        value.id = obj.i;
        value.factorClassId = obj.c;
        value.taxonId = obj.t;
        value.value = obj.v;
        return value;
    };
    return WEWValue;
}());

var SimpleWEWValue = /** @class */ (function () {
    function SimpleWEWValue(factorClassId, value) {
        this.factorClassId = factorClassId;
        this.value = value;
    }
    return SimpleWEWValue;
}());

var WewValue = /** @class */ (function () {
    function WewValue() {
    }
    return WewValue;
}());

var WewValuePre = /** @class */ (function () {
    function WewValuePre() {
    }
    return WewValuePre;
}());

var CalculationPreTransformed = /** @class */ (function () {
    function CalculationPreTransformed() {
    }
    return CalculationPreTransformed;
}());

var CalculationSample = /** @class */ (function () {
    function CalculationSample() {
    }
    return CalculationSample;
}());

var CalculationSampleOrder = /** @class */ (function () {
    function CalculationSampleOrder(id, taxon, wewValue) {
        this.id = id;
        this.taxon = taxon;
        this.wewValue = wewValue;
    }
    return CalculationSampleOrder;
}());

var FilterTaxon = /** @class */ (function () {
    function FilterTaxon() {
    }
    return FilterTaxon;
}());

var WEWFactor = /** @class */ (function () {
    function WEWFactor() {
    }
    WEWFactor.fromJSON = function (obj) {
        var factor = new WEWFactor();
        factor.id = obj.id;
        factor.name = obj.name;
        factor.classes = obj.classes.map(WEWFactorClass.fromJSON);
        return factor;
    };
    return WEWFactor;
}());

var WEWFactorClass = /** @class */ (function () {
    function WEWFactorClass() {
    }
    WEWFactorClass.fromJSON = function (obj) {
        var cl = new WEWFactorClass();
        cl.id = obj.id;
        cl.factorId = obj.factorId;
        cl.code = obj.code;
        cl.description = obj.description;
        cl.order = obj.order;
        return cl;
    };
    return WEWFactorClass;
}());



/***/ }),

/***/ "./src/app/models/wewValue.model.ts":
/*!******************************************!*\
  !*** ./src/app/models/wewValue.model.ts ***!
  \******************************************/
/*! exports provided: WewValueCalc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WewValueCalc", function() { return WewValueCalc; });
var WewValueCalc = /** @class */ (function () {
    function WewValueCalc(value, times) {
        this.value = value;
        this.times = times;
    }
    return WewValueCalc;
}());



/***/ }),

/***/ "./src/app/new-wew-bar-chart/new-wew-bar-chart.component.css":
/*!*******************************************************************!*\
  !*** ./src/app/new-wew-bar-chart/new-wew-bar-chart.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/new-wew-bar-chart/new-wew-bar-chart.component.html":
/*!********************************************************************!*\
  !*** ./src/app/new-wew-bar-chart/new-wew-bar-chart.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n\r\n<!-- Loading card -->\r\n<div *ngIf=\"!globalRef.finished\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Laden...</mat-card-title>\r\n  <mat-card-content>\r\n    <mat-spinner></mat-spinner>\r\n  </mat-card-content>\r\n</div>\r\n\r\n<div style=\"display: block\" *ngIf=\"globalRef.finished\">\r\n  <canvas baseChart\r\n          class=\"chart\"\r\n          [datasets]=\"globalRef.barChartData\"\r\n          [labels]=\"globalRef.barChartLabels\"\r\n          [options]=\"options\"\r\n          [legend]=\"barChartLegend\"\r\n          [chartType]=\"barChartType\"\r\n          [colors]=\"globalRef.barChartColors\"\r\n\r\n  ></canvas>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/new-wew-bar-chart/new-wew-bar-chart.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/new-wew-bar-chart/new-wew-bar-chart.component.ts ***!
  \******************************************************************/
/*! exports provided: NewWewBarChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewWewBarChartComponent", function() { return NewWewBarChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_global_reference_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/global.reference.service */ "./src/app/services/global.reference.service.ts");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _services_api_reference_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var NewWewBarChartComponent = /** @class */ (function () {
    function NewWewBarChartComponent(router, globalRef, sampleApi, locationApi, referenceApi) {
        var _this = this;
        this.router = router;
        this.globalRef = globalRef;
        this.sampleApi = sampleApi;
        this.locationApi = locationApi;
        this.referenceApi = referenceApi;
        this.barChartType = 'bar';
        this.barChartLegend = false;
        this.options = {
            multiTooltipTemplate: "<%= datasetLabel %> - <%= value %>",
            tooltips: {
                mode: 'index',
                callbacks: {
                    label: function (tooltipItem, data) { return _this.customLabel(tooltipItem, data); },
                    axisPointer: { type: 'shadow' },
                    backgroundColor: 'rgba(0,0,0,0.9)'
                }
            },
            scales: {
                xAxes: [{
                        stacked: true,
                        gridLines: {
                            color: 'rgba(244,66,66,1)'
                        }
                    }],
                yAxes: [{
                        stacked: true,
                        ticks: {
                            beginAtZero: true,
                            max: 10,
                            min: 0
                        },
                        gridLines: {
                            color: 'rgba(244,66,66,1)'
                        }
                    }]
            },
            responsive: true
        };
    }
    NewWewBarChartComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.router.params.subscribe(function (p) {
            _this.id = p['id'];
            //load sample..
            _this.globalRef.setSampleById(_this.id);
        });
        var reference;
        //not very nice but subcribe in subscribe :(((
        //Load sample and its calculations
        this.sampleApi.getSample(this.id).subscribe(function (result) {
            _this.sample = result;
            _this.locationApi.getById(_this.sample.location_id).subscribe(function (result) {
                _this.location = result;
                _this.referenceApi.getByWatertype(_this.location.watertypeKrwId).subscribe(function (result) {
                    reference = result;
                    //set the data for the barchart based on the referenceID
                    _this.globalRef.setReferenceById(reference.id);
                });
            });
        });
    };
    NewWewBarChartComponent.prototype.customLabel = function (tooltipItem, data) {
        var label = data.datasets[tooltipItem.datasetIndex].label || '';
        // console.log("tooltip:", tooltipItem)
        // console.log('dataset: ', data.datasets[tooltipItem.datasetIndex])
        if (label) {
            label += ': ';
        }
        label += Math.round(tooltipItem.yLabel * 100) / 100;
        if ((tooltipItem.index + 1 === data.datasets[tooltipItem.datasetIndex].data.length)) {
            return label;
        }
        else {
            return '';
        }
    };
    NewWewBarChartComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-wew-bar-chart',
            template: __webpack_require__(/*! ./new-wew-bar-chart.component.html */ "./src/app/new-wew-bar-chart/new-wew-bar-chart.component.html"),
            styles: [__webpack_require__(/*! ./new-wew-bar-chart.component.css */ "./src/app/new-wew-bar-chart/new-wew-bar-chart.component.css")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["trigger"])('mainCardAnim', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ opacity: 0 })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["transition"])(':enter', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])('300ms 150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ opacity: 1 }))]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["transition"])(':leave', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["animate"])('150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_6__["style"])({ opacity: 0 }))])
                ])
            ]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _services_global_reference_service__WEBPACK_IMPORTED_MODULE_2__["GlobalReferenceService"], _services_api_sample_service__WEBPACK_IMPORTED_MODULE_3__["ApiSampleService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__["ApiLocationService"], _services_api_reference_service__WEBPACK_IMPORTED_MODULE_5__["ApiReferenceService"]])
    ], NewWewBarChartComponent);
    return NewWewBarChartComponent;
}());



/***/ }),

/***/ "./src/app/reference/reference-edit/reference-edit.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/reference/reference-edit/reference-edit.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/reference/reference-edit/reference-edit.component.html":
/*!************************************************************************!*\
  !*** ./src/app/reference/reference-edit/reference-edit.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>\r\n    Referenties\r\n  </mat-card-title>\r\n  <mat-card-subtitle>Op deze pagina kunt u referentie gegevens toevoegen aan de verschillende types locaties\r\n  </mat-card-subtitle>\r\n</mat-card>\r\n<mat-card *ngIf=\"taxaList!==null\">\r\n  <mat-card-title *ngIf=\"watertype\">{{watertype.code}} - {{watertype.name}}</mat-card-title>\r\n  <mat-card-subtitle>Kopieer hier een lijst met alle referentie taxa voor deze type locatie</mat-card-subtitle>\r\n  <mat-card-content>\r\n    <textarea [rows]=\"getTaxaRows()\" cols=\"60\" [(ngModel)]=\"taxaList\"></textarea>\r\n    <br/>\r\n    <button mat-raised-button (click)=\"save()\" [disabled]=\"saving\">{{saving?'Bezig met opslaan...':'Sla op'}}\r\n    </button>\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/reference/reference-edit/reference-edit.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/reference/reference-edit/reference-edit.component.ts ***!
  \**********************************************************************/
/*! exports provided: ReferenceEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceEditComponent", function() { return ReferenceEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.watertype.service */ "./src/app/services/api.watertype.service.ts");
/* harmony import */ var _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
/* harmony import */ var _services_arrayUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/arrayUtils */ "./src/app/services/arrayUtils.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ReferenceEditComponent = /** @class */ (function () {
    function ReferenceEditComponent(referenceApi, watertypeApi, taxonApi, route) {
        this.referenceApi = referenceApi;
        this.watertypeApi = watertypeApi;
        this.taxonApi = taxonApi;
        this.route = route;
        this.taxaList = null;
        this.saving = false;
    }
    ReferenceEditComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["map"])(function (params) { return parseInt(params.id); })).subscribe(function (id) {
            _this.referenceApi.getReference(id).subscribe(function (reference) {
                _this.watertypeApi.getWatertype(reference.watertypeId).subscribe(function (watertype) {
                    _this.reference = reference;
                    _this.watertype = watertype;
                    _this.showTaxa();
                });
            });
        });
    };
    ReferenceEditComponent.prototype.showTaxa = function () {
        var _this = this;
        if (this.reference.taxonIds.length) {
            this.taxonApi.getByIds(this.reference.taxonIds).subscribe(function (taxa) { return _this.taxaList = taxa.map(function (taxon) { return taxon.name; }).join("\n"); });
        }
        else {
            this.taxaList = '';
        }
    };
    ReferenceEditComponent.prototype.getTaxaRows = function () {
        return this.taxaList.split("\n").length;
    };
    ReferenceEditComponent.prototype.save = function () {
        var _this = this;
        this.saving = true;
        var taxaNames = this.taxaList.split("\n");
        taxaNames = taxaNames.map(function (name) { return name.trim().toLowerCase(); }).filter(function (name) { return name; }).filter(_services_arrayUtils__WEBPACK_IMPORTED_MODULE_5__["uniqueFilter"]);
        this.taxonApi.findOrCreate(taxaNames).subscribe(function (taxa) {
            _this.reference.taxonIds = taxa.map(function (taxon) { return taxon.id; });
            _this.referenceApi.save(_this.reference).subscribe(function (ref) {
                _this.reference = ref;
                _this.showTaxa();
                _this.saving = false;
            });
        });
    };
    ReferenceEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-reference-edit',
            providers: [app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_2__["ApiReferenceService"], _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_3__["ApiWatertypeService"], _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_4__["ApiTaxonService"]],
            template: __webpack_require__(/*! ./reference-edit.component.html */ "./src/app/reference/reference-edit/reference-edit.component.html"),
            styles: [__webpack_require__(/*! ./reference-edit.component.css */ "./src/app/reference/reference-edit/reference-edit.component.css")]
        }),
        __metadata("design:paramtypes", [app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_2__["ApiReferenceService"],
            _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_3__["ApiWatertypeService"],
            _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_4__["ApiTaxonService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], ReferenceEditComponent);
    return ReferenceEditComponent;
}());



/***/ }),

/***/ "./src/app/reference/reference-list/reference-list.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/reference/reference-list/reference-list.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".buttons{\r\n  display:inline-block;\r\n  width:65px;\r\n  text-align:right;\r\n}\r\n\r\n.buttons .mat-icon{\r\n  margin:0 6px 0 0;\r\n  cursor:pointer;\r\n}\r\n\r\n.description{\r\n  display:inline-block;\r\n  width:400px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/reference/reference-list/reference-list.component.html":
/*!************************************************************************!*\
  !*** ./src/app/reference/reference-list/reference-list.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>\r\n    Referenties\r\n  </mat-card-title>\r\n  <mat-card-subtitle>Op deze pagina kunt u referentie gegevens toevoegen aan de verschillende types locaties\r\n  </mat-card-subtitle>\r\n</mat-card>\r\n<mat-card>\r\n  <mat-list>\r\n    <mat-list-item *ngFor=\"let item of listItems\">\r\n      <div *ngIf=\"item.reference\" class=\"buttons\">\r\n        <mat-icon (click)=\"edit(item)\">edit</mat-icon>\r\n        <mat-icon (click)=\"delete(item)\">delete</mat-icon>\r\n      </div>\r\n      <div *ngIf=\"!item.reference\" class=\"buttons\">\r\n        <mat-icon (click)=\"create(item)\">add_circle</mat-icon>\r\n      </div>\r\n      <div class=\"description\">\r\n        {{item.watertype.code}} {{item.watertype.name}}\r\n      </div>\r\n    </mat-list-item>\r\n  </mat-list>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/reference/reference-list/reference-list.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/reference/reference-list/reference-list.component.ts ***!
  \**********************************************************************/
/*! exports provided: ReferenceListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceListComponent", function() { return ReferenceListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var app_models_reference_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/models/reference.model */ "./src/app/models/reference.model.ts");
/* harmony import */ var app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.watertype.service */ "./src/app/services/api.watertype.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ReferenceListComponent = /** @class */ (function () {
    function ReferenceListComponent(referenceApi, watertypeApi, router) {
        var _this = this;
        this.referenceApi = referenceApi;
        this.watertypeApi = watertypeApi;
        this.router = router;
        var wtPr = watertypeApi.getAll().toPromise();
        var refPr = referenceApi.getAll().toPromise();
        Promise.all([wtPr, refPr]).then(function (_a) {
            var watertypes = _a[0], references = _a[1];
            return _this.makeList(watertypes, references);
        });
    }
    ReferenceListComponent.prototype.ngOnInit = function () { };
    ReferenceListComponent.prototype.makeList = function (watertypes, references) {
        var _this = this;
        this.listItems = [];
        var watertypeListItemMap = new Map();
        //Add item to the list for each watertype
        watertypes.forEach(function (watertype) {
            var listItem = { watertype: watertype };
            _this.listItems.push(listItem);
            watertypeListItemMap.set(watertype.id, listItem);
        });
        //Add references to list items
        references.forEach(function (reference) {
            var listItem = watertypeListItemMap.get(reference.watertypeId);
            if (listItem) {
                listItem.reference = reference;
            }
        });
    };
    ReferenceListComponent.prototype.delete = function (item) {
        var sure = confirm('Weet u zeker dat u de referentie van ' + item.watertype.code + ' - ' + item.watertype.name + ' wil verwijderen?');
        if (!sure)
            return;
        this.referenceApi.delete(item.reference.id).subscribe(function (success) {
            if (success)
                item.reference = null;
        });
    };
    ReferenceListComponent.prototype.edit = function (item) {
        this.router.navigate(['/reference/edit/', item.reference.id]);
    };
    ReferenceListComponent.prototype.create = function (item) {
        var _this = this;
        var reference = new app_models_reference_model__WEBPACK_IMPORTED_MODULE_2__["Reference"]();
        reference.watertypeId = item.watertype.id;
        this.referenceApi.save(reference).subscribe(function (ref) {
            item.reference = ref;
            _this.edit(item);
        });
    };
    ReferenceListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-reference-list',
            providers: [app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__["ApiReferenceService"], _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_4__["ApiWatertypeService"]],
            template: __webpack_require__(/*! ./reference-list.component.html */ "./src/app/reference/reference-list/reference-list.component.html"),
            styles: [__webpack_require__(/*! ./reference-list.component.css */ "./src/app/reference/reference-list/reference-list.component.css")]
        }),
        __metadata("design:paramtypes", [app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__["ApiReferenceService"],
            _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_4__["ApiWatertypeService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], ReferenceListComponent);
    return ReferenceListComponent;
}());



/***/ }),

/***/ "./src/app/sample-location-table/sample-Location-table.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/sample-location-table/sample-Location-table.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".taxon-icon{\r\n  border-radius:50%;\r\n  text-align:center;\r\n  height:30px;\r\n  width:30px;\r\n  font-size:18px;\r\n  padding:3px;\r\n  background:#EBEBEB;\r\n  color:#222;\r\n  display:inline-block;\r\n}\r\n\r\n:host >>> .datatable-body-row:hover .taxon-icon{\r\n  background:#FFF;\r\n}\r\n\r\n.taxon-icon-container{\r\n  width:36px;\r\n  display:inline-block;\r\n}\r\n\r\n.taxon-link{\r\n  text-decoration:none;\r\n  color:rgba(0,0,0,0.87);\r\n  text-transform:capitalize;\r\n}\r\n\r\n.button{\r\n  margin-top: 1%;\r\n}\r\n"

/***/ }),

/***/ "./src/app/sample-location-table/sample-Location-table.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/sample-location-table/sample-Location-table.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>Algemene data</mat-card-title>\r\n  <mat-form-field class=\"full-width\">\r\n    <input matInput placeholder=\"Zoeken...\" (keyup)='updateFilter($event)'>\r\n  </mat-form-field>\r\n</mat-card>\r\n<mat-card>\r\n  <mat-card-title>Recente monsters</mat-card-title>\r\n  <mat-card-content>\r\n    <ngx-datatable\r\n      class=\"material\"\r\n      [rows]=\"sampleRows\"\r\n      [columns]=\"sampleColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"20\">\r\n    </ngx-datatable>\r\n  </mat-card-content>\r\n</mat-card>\r\n<ng-template #sampleDateTemplate let-row=\"row\">\r\n  {{row.date | date:'fullDate'}}\r\n</ng-template>\r\n<ng-template #sampleDateAddedTemplate let-row=\"row\">\r\n  {{row.dateAdded | date:'fullDate'}}\r\n</ng-template>\r\n<ng-template #sampleButtonTemplate let-row=\"row\">\r\n  <a [routerLink]=\"'/sample/view/'+row.id\" mat-raised-button>Details</a>\r\n</ng-template>\r\n<mat-card>\r\n  <mat-card-title>Locaties</mat-card-title>\r\n  <mat-card-content>\r\n    <ngx-datatable\r\n      class=\"material\"\r\n      [rows]=\"locationRows\"\r\n      [columns]=\"locationColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"10\">\r\n    </ngx-datatable>\r\n    <ng-template #waterCodeTemplate let-row=\"row\">\r\n      {{row.code}}\r\n    </ng-template>\r\n    <ng-template #waterDescriptionTemplate let-row=\"row\">\r\n      {{row.description}}\r\n    </ng-template>\r\n    <ng-template #waterDetailsTemplate let-row=\"row\">\r\n      <a [routerLink]=\"'../results/water/'+row.id\" mat-raised-button>Details</a>\r\n    </ng-template>\r\n  </mat-card-content>\r\n</mat-card>\r\n<mat-card>\r\n  <mat-card-title>Waterschappen</mat-card-title>\r\n  <mat-card-content>\r\n    <ngx-datatable\r\n      class=\"material\"\r\n      [rows]=\"waterschapRows\"\r\n      [columns]=\"waterschapColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"10\">\r\n    </ngx-datatable>\r\n  </mat-card-content>\r\n</mat-card>\r\n<mat-card>\r\n  <mat-card-title>Taxa</mat-card-title>\r\n  <mat-card-content>\r\n    <ngx-datatable\r\n      class=\"material taxon-table\"\r\n      [rows]=\"taxonRows\"\r\n      [columns]=\"taxonColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"10\">\r\n    </ngx-datatable>\r\n    <ng-template #taxonNameTemplate let-row=\"row\">\r\n\t\t\t\t<span class=\"taxon-icon-container\">\r\n\t\t\t\t\t<mat-icon *ngIf=\"row.group && row.group.icon\" class=\"taxon-icon\" fontSet=\"fi\"\r\n                   [fontIcon]=\"'flaticon-'+row.group.icon\"></mat-icon>\r\n\t\t\t\t</span>\r\n      {{row.name}}\r\n    </ng-template>\r\n    <ng-template #taxonButtonTemplate let-row=\"row\">\r\n      <a [routerLink]=\"'/taxon/view/'+row.id\" mat-raised-button>Details</a>\r\n    </ng-template>\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/sample-location-table/sample-location-table.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/sample-location-table/sample-location-table.component.ts ***!
  \**************************************************************************/
/*! exports provided: SampleLocationTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleLocationTableComponent", function() { return SampleLocationTableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/api.waterschap.service */ "./src/app/services/api.waterschap.service.ts");
/* harmony import */ var _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
/* harmony import */ var _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swimlane/ngx-datatable */ "./node_modules/@swimlane/ngx-datatable/release/index.js");
/* harmony import */ var _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_arrayUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/arrayUtils */ "./src/app/services/arrayUtils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var SampleLocationTableComponent = /** @class */ (function () {
    function SampleLocationTableComponent(sampleApi, locationApi, waterschapApi, taxonApi) {
        var _this = this;
        this.sampleApi = sampleApi;
        this.locationApi = locationApi;
        this.waterschapApi = waterschapApi;
        this.taxonApi = taxonApi;
        this.samples = [];
        this.sampleRows = [];
        this.sampleColumns = [{ name: 'Locatie', prop: 'location', cellTemplate: null }, { name: 'Monster datum', prop: 'date', cellTemplate: null }, { name: 'Datum toegevoegd', prop: 'dateAdded', cellTemplate: null }, { name: 'Details', prop: 'button', cellTemplate: null }];
        this.locations = [];
        this.locationRows = [];
        this.locationColumns = [{ name: 'Mp', prop: 'code', cellTemplate: null }, { name: 'Naam', prop: 'description', cellTemplate: null }, { name: 'details', prop: 'button', cellTemplate: null }];
        this.waterschappen = [];
        this.waterschapRows = [];
        this.waterschapColumns = [{ name: 'Naam', prop: 'name' }, { name: 'Adres', prop: 'address' }, { name: 'Huisnummer', prop: 'houseNumber' }, { name: 'Postcode', prop: 'zipCode' }, { name: 'Locatie', prop: 'location' }, { name: 'Telefoonnummer', prop: 'phoneNumber' }];
        this.taxa = [];
        this.taxonRows = [];
        this.groupMap = new Map();
        this.taxonColumns = [{ name: 'Naam', prop: 'name', cellTemplate: null }, { name: 'Details', prop: 'button', cellTemplate: null }];
        this.loadResources().then(function (_a) {
            var samples = _a[0], locations = _a[1];
            return _this.toSampleRow(samples, locations);
        });
    }
    SampleLocationTableComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sampleApi.getRecent(100).subscribe(function (samples) {
            _this.sampleRows = samples;
            _this.samples = samples;
        });
        this.locationApi.getAllLocations().subscribe(function (locations) {
            _this.locationRows = locations;
            _this.locations = locations;
        });
        this.waterschapApi.getAll().subscribe(function (waterschappen) {
            _this.waterschapRows = waterschappen;
            _this.waterschappen = waterschappen;
        });
        this.taxonApi.getGroups().subscribe(function (groups) {
            groups.forEach(function (group) { return _this.groupMap.set(group.id, group); });
            _this.taxonApi.getAll().subscribe(function (taxa) {
                _this.taxa = taxa;
                _this.taxonRows = taxa.map(function (taxon) { return _this.toTaxonRow(taxon); });
            });
        });
    };
    SampleLocationTableComponent.prototype.ngAfterViewInit = function () {
        this.taxonColumns[0].cellTemplate = this.taxonNameTemplate;
        this.taxonColumns[1].cellTemplate = this.taxonButtonTemplate;
        this.locationColumns[0].cellTemplate = this.waterCodeTemplate;
        this.locationColumns[1].cellTemplate = this.waterDescriptionTemplate;
        this.locationColumns[2].cellTemplate = this.waterDetailsTemplate;
        this.sampleColumns[1].cellTemplate = this.sampleDateTemplate;
        this.sampleColumns[2].cellTemplate = this.sampleDateAddedTemplate;
        this.sampleColumns[3].cellTemplate = this.sampleButtonTemplate;
    };
    SampleLocationTableComponent.prototype.updateFilter = function (event) {
        var _this = this;
        var val = event.target.value.toLowerCase();
        var waterschappenFiltered = this.waterschappen.filter(function (d) {
            return d.name.toLowerCase().indexOf(val) !== -1 || !val;
        });
        var locationFiltered = this.locations.filter(function (d) {
            return d.description.toLowerCase().indexOf(val) !== -1 || d.code.toLowerCase().indexOf(val) !== -1 || !val;
        });
        var taxaFiltered = this.taxa.filter(function (d) {
            return d.name.toLowerCase().indexOf(val) !== -1 || !val;
        });
        var sampleFiltered = this.sampleRows.filter(function (d) {
            return d.location.toLowerCase().indexOf(val) !== -1 || !val;
        });
        this.waterschapRows = waterschappenFiltered;
        this.locationRows = locationFiltered;
        this.taxonRows = taxaFiltered.map(function (taxon) { return _this.toTaxonRow(taxon); });
        this.sampleRows = sampleFiltered;
        this.table.offset = 0;
    };
    SampleLocationTableComponent.prototype.toTaxonRow = function (taxon) {
        var row = { id: taxon.id, name: taxon.name };
        var group = this.groupMap.get(taxon.groupId);
        if (group)
            row.group = group;
        return row;
    };
    SampleLocationTableComponent.prototype.toSampleRow = function (samples, locations) {
        var _this = this;
        var locationIdMap = new Map();
        locations.forEach(function (location) { return locationIdMap.set(location.id, location); });
        this.sampleRows = samples.map(function (sample) {
            return ({ id: sample.id, date: sample.date, dateAdded: _this.stringToDate(sample.date_added), location: locationIdMap.get(sample.location_id).description });
        });
    };
    SampleLocationTableComponent.prototype.stringToDate = function (date) {
        var cuttedDate = date.substring(0, 11);
        cuttedDate += '"';
        return new Date(cuttedDate);
    };
    SampleLocationTableComponent.prototype.loadResources = function () {
        return __awaiter(this, void 0, void 0, function () {
            var samples, locationIds, locations;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.sampleApi.getRecent(100).toPromise()];
                    case 1:
                        samples = _a.sent();
                        locationIds = samples.map(function (sample) { return sample.location_id; }).filter(_services_arrayUtils__WEBPACK_IMPORTED_MODULE_6__["uniqueFilter"]);
                        if (!(locationIds.length === 0)) return [3 /*break*/, 2];
                        locations = [];
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.locationApi.getByIds(locationIds).toPromise()];
                    case 3:
                        locations = _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/, [samples, locations]];
                }
            });
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_4__["DatatableComponent"]),
        __metadata("design:type", _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_4__["DatatableComponent"])
    ], SampleLocationTableComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleDateTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "sampleDateTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleDateAddedTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "sampleDateAddedTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleButtonTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "sampleButtonTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('taxonNameTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "taxonNameTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('taxonButtonTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "taxonButtonTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('waterCodeTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "waterCodeTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('waterDescriptionTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "waterDescriptionTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('waterDetailsTemplate'),
        __metadata("design:type", Object)
    ], SampleLocationTableComponent.prototype, "waterDetailsTemplate", void 0);
    SampleLocationTableComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sample-Location-table',
            providers: [_services_api_location_service__WEBPACK_IMPORTED_MODULE_1__["ApiLocationService"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_2__["ApiWaterschapService"], _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"], _services_api_sample_service__WEBPACK_IMPORTED_MODULE_5__["ApiSampleService"]],
            template: __webpack_require__(/*! ./sample-Location-table.component.html */ "./src/app/sample-location-table/sample-Location-table.component.html"),
            styles: [__webpack_require__(/*! ./sample-Location-table.component.css */ "./src/app/sample-location-table/sample-Location-table.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_5__["ApiSampleService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_1__["ApiLocationService"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_2__["ApiWaterschapService"], _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"]])
    ], SampleLocationTableComponent);
    return SampleLocationTableComponent;
}());



/***/ }),

/***/ "./src/app/sample/new-sample-compare/new-sample-compare.component.css":
/*!****************************************************************************!*\
  !*** ./src/app/sample/new-sample-compare/new-sample-compare.component.css ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/sample/new-sample-compare/new-sample-compare.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/sample/new-sample-compare/new-sample-compare.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<!-- Loading card -->\r\n<div *ngIf=\"!globalRef.finished\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Laden...</mat-card-title>\r\n  <mat-card-content>\r\n    <mat-spinner></mat-spinner>\r\n  </mat-card-content>\r\n</div>\r\n\r\n\r\n<div style=\"display: block\" *ngIf=\"globalRef.finished\">\r\n  <canvas baseChart\r\n          class=\"chart\"\r\n          [datasets]=\"globalRef.barChartDataList[pos]\"\r\n          [labels]=\"globalRef.barChartLabels\"\r\n          [options]=\"options\"\r\n          [legend]=\"barChartLegend\"\r\n          [chartType]=\"barChartType\"\r\n          [colors]=\"globalRef.barChartColorsList[pos]\"\r\n\r\n  ></canvas>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/sample/new-sample-compare/new-sample-compare.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/sample/new-sample-compare/new-sample-compare.component.ts ***!
  \***************************************************************************/
/*! exports provided: NewSampleCompareComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewSampleCompareComponent", function() { return NewSampleCompareComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_global_reference_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/global.reference.service */ "./src/app/services/global.reference.service.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NewSampleCompareComponent = /** @class */ (function () {
    function NewSampleCompareComponent(globalRef) {
        var _this = this;
        this.globalRef = globalRef;
        this.barChartOptions = {
            scaleShowVerticalLines: false,
            responsive: true,
            scales: {
                xAxes: [{
                        stacked: true,
                        gridLines: {
                            color: 'rgba(244,66,66,1)'
                        }
                    }],
                yAxes: [{
                        stacked: true,
                        ticks: {
                            beginAtZero: true,
                            max: 1000,
                            min: 0
                        },
                        gridLines: {
                            color: 'rgba(244,66,66,1)'
                        }
                    }]
            },
        };
        this.barChartLabels = ['2006', '2007', '2008', '2009', '2010', '2011', '2012'];
        this.barChartData = [
            { data: [65], label: 'Series A', stack: 'test' },
            { data: [28], label: 'Series B', stack: 'test' },
            { data: [0, 28], label: 'Series A', stack: 'te' },
            { data: [0, 28], label: 'Series B', stack: 'te' },
        ];
        this.barChartType = 'bar';
        this.barChartLegend = false;
        this.options = {
            tooltips: {
                mode: 'index',
                callbacks: {
                    label: function (tooltipItem, data) { return _this.customLabel(tooltipItem, data); },
                    axisPointer: { type: 'shadow' },
                    backgroundColor: 'rgba(0,0,0,0.9)'
                }
            },
            scales: {
                xAxes: [{
                        stacked: true,
                        gridLines: {
                            color: 'rgba(244,66,66,1)'
                        }
                    }],
                yAxes: [{
                        stacked: true,
                        ticks: {
                            beginAtZero: true,
                            max: 10,
                            min: 0
                        },
                        gridLines: {
                            color: 'rgba(244,66,66,1)'
                        }
                    }]
            },
            responsive: true
        };
    }
    NewSampleCompareComponent.prototype.ngOnInit = function () {
        this.pos = this.settings.pos;
    };
    NewSampleCompareComponent.prototype.customLabel = function (tooltipItem, data) {
        var label = data.datasets[tooltipItem.datasetIndex].label || '';
        // console.log("tooltip:", tooltipItem)
        // console.log('dataset: ', data.datasets[tooltipItem.datasetIndex])
        if (label) {
            label += ': ';
        }
        label += Math.round(tooltipItem.yLabel * 100) / 100;
        if ((tooltipItem.index + 1 === data.datasets[tooltipItem.datasetIndex].data.length)) {
            return label;
        }
        else {
            return '';
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], NewSampleCompareComponent.prototype, "settings", void 0);
    NewSampleCompareComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-sample-compare',
            template: __webpack_require__(/*! ./new-sample-compare.component.html */ "./src/app/sample/new-sample-compare/new-sample-compare.component.html"),
            styles: [__webpack_require__(/*! ./new-sample-compare.component.css */ "./src/app/sample/new-sample-compare/new-sample-compare.component.css")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["trigger"])('mainCardAnim', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ opacity: 0 })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["transition"])(':enter', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["animate"])('300ms 150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ opacity: 1 }))]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["transition"])(':leave', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["animate"])('150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ opacity: 0 }))])
                ])
            ]
        }),
        __metadata("design:paramtypes", [_services_global_reference_service__WEBPACK_IMPORTED_MODULE_1__["GlobalReferenceService"]])
    ], NewSampleCompareComponent);
    return NewSampleCompareComponent;
}());



/***/ }),

/***/ "./src/app/sample/sample-compare/sample-compare.component.css":
/*!********************************************************************!*\
  !*** ./src/app/sample/sample-compare/sample-compare.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".comparedSampleTable {\r\n  width: auto;\r\n}\r\n"

/***/ }),

/***/ "./src/app/sample/sample-compare/sample-compare.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/sample/sample-compare/sample-compare.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card *ngIf=\"showLocationTable\">\r\n  <mat-card-title>Locaties</mat-card-title>\r\n  <mat-card-subtitle>Kies hier de monster die u wilt vergelijken</mat-card-subtitle>\r\n  <mat-card-content>\r\n    <ngx-datatable\r\n      class=\"material taxon-table\"\r\n      [rows]=\"locations\"\r\n      [columns]=\"locationColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"10\">\r\n    </ngx-datatable>\r\n  </mat-card-content>\r\n</mat-card>\r\n<ng-template #locationsButtonTemplate let-row=\"row\">\r\n  <a mat-raised-button (click)=\"onSelect(row.id)\">Bekijk monsters</a>\r\n</ng-template>\r\n\r\n<mat-card *ngIf=\"showSampleTable\">\r\n  <mat-card-title>\r\n    Monsters van {{selectedLocation.description}}\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <a mat-raised-button class=\"backButton\" (click)=\"setShowLocationTable()\">Terug\r\n      naar overzicht</a>\r\n    <a mat-raised-button class=\"backButton\" (click)=\"compareCurrentLocation()\">Vergelijk alle monsters van deze\r\n      locatie</a>\r\n    <a mat-raised-button class=\"backButton\" (click)=\"resetLocation()\">Reset</a>\r\n    <ngx-datatable\r\n      class=\"material taxon-table\"\r\n      [rows]=\"samples\"\r\n      [columns]=\"sampleColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"10\">\r\n    </ngx-datatable>\r\n  </mat-card-content>\r\n</mat-card>\r\n<ng-template #samplesButtonTemplate let-row=\"row\">\r\n  <a mat-raised-button (click)=\"onSelect(row.id)\">Toevoegen</a>\r\n</ng-template>\r\n<ng-template #sampleDateTemplate let-row=\"row\">\r\n  {{row.date | date:'fullDate'}}\r\n</ng-template>\r\n\r\n\r\n<mat-card *ngIf=\"showGraph\">\r\n  <mat-card-title>Factor waardes per monster</mat-card-title>\r\n  <mat-card-subtitle>Kies in de bovenstaande tabel monsters om te vergelijken</mat-card-subtitle>\r\n  <mat-card-content>\r\n    <a *ngIf=\"wewConfigs\" mat-raised-button class=\"backButton\" (click)=\"clearGraph()\">Grafiek leeg maken</a>\r\n    <mat-tab-group>\r\n      <mat-tab *ngFor=\"let entry of settings\"\r\n               [label]=\"entry.factors.name\">\r\n        <div class=\"factor-group\">\r\n          <app-new-sample-compare [settings]=\"entry\"\r\n                             (init)=\"onWewChartInit($event)\"></app-new-sample-compare>\r\n        </div>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n\r\n\r\n    <!--<mat-tab-group>-->\r\n      <!--<mat-tab *ngFor=\"let config of wewConfigs\"-->\r\n               <!--[label]=\"config.factors[0].name\">-->\r\n        <!--<div class=\"factor-group\">-->\r\n          <!--<app-wew-bar-chart [config]=\"config\"-->\r\n                             <!--(init)=\"onWewChartInit($event)\"></app-wew-bar-chart>-->\r\n        <!--</div>-->\r\n      <!--</mat-tab>-->\r\n    <!--</mat-tab-group>-->\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/sample/sample-compare/sample-compare.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/sample/sample-compare/sample-compare.component.ts ***!
  \*******************************************************************/
/*! exports provided: SampleCompareComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleCompareComponent", function() { return SampleCompareComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _services_palette__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/palette */ "./src/app/services/palette.ts");
/* harmony import */ var _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/chart-entity.model */ "./src/app/models/chart-entity.model.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var _services_api_reference_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _services_global_reference_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/global.reference.service */ "./src/app/services/global.reference.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var SampleCompareComponent = /** @class */ (function () {
    function SampleCompareComponent(apiSample, apiLocation, route, chartEntityManager, apiWew, apiReference, globalRef) {
        this.apiSample = apiSample;
        this.apiLocation = apiLocation;
        this.route = route;
        this.chartEntityManager = chartEntityManager;
        this.apiWew = apiWew;
        this.apiReference = apiReference;
        this.globalRef = globalRef;
        this.locations = [];
        this.settings = [];
        this.locationColumns = [
            { name: 'Mp', prop: 'code', cellTemplate: null },
            { name: 'Naam', prop: 'description', cellTemplate: null },
            { name: 'Monsters', prop: 'button', cellTemplate: null }
        ];
        this.samples = [];
        this.sampleColumns = [
            { name: 'Datum genomen', prop: 'date', cellTemplate: null },
            { name: 'Kwaliteit', prop: 'quality', cellTemplate: null },
            { name: 'Details', prop: 'button', cellTemplate: null }
        ];
        this.comparedSampleColumns = [
            { name: 'Staaf nummer', prop: 'id', cellTemplate: null },
            { name: 'Datum genomen', prop: 'date', cellTemplate: null },
            { name: 'Locatie', prop: 'locationName', cellTemplate: null }
        ];
        this.comparedSampleRows = [];
        this.showLocationTable = true;
        this.showSampleTable = false;
        this.showGraph = false;
        this.selectedLocation = {};
        this.samplesToCompare = [];
        this.entityCalc = [];
    }
    SampleCompareComponent.prototype.ngOnInit = function () {
        this.getAllLocations();
        this.loadFactors();
    };
    SampleCompareComponent.prototype.ngAfterViewInit = function () {
        this.locationColumns[2].cellTemplate = this.locationsButtonTemplate;
        this.sampleColumns[0].cellTemplate = this.sampleDateTemplate;
        this.sampleColumns[2].cellTemplate = this.samplesButtonTemplate;
        this.comparedSampleColumns[1].cellTemplate = this.sampleDateTemplate;
    };
    SampleCompareComponent.prototype.onSelectOld = function (id) {
        var _this = this;
        if (this.showLocationTable) {
            this.getLocationById(id);
            this.getSamplesByLocationId(id);
            this.showLocationTable = false;
            this.showSampleTable = true;
            return;
        }
        this.getSampleById(id);
        this.samples.forEach(function (sample) {
            if (sample.id === id) {
                var index = _this.samples.indexOf(sample, 0);
                _this.samples.splice(index, 1);
            }
        });
    };
    SampleCompareComponent.prototype.onSelect = function (id) {
        var _this = this;
        if (this.showLocationTable) {
            this.getLocationById(id);
            this.getSamplesByLocationId(id);
            this.showLocationTable = false;
            this.showSampleTable = true;
            return;
        }
        this.globalRef.addSample(id);
        this.getSampleById(id);
        this.samples.forEach(function (sample) {
            if (sample.id === id) {
                var index = _this.samples.indexOf(sample, 0);
                _this.samples.splice(index, 1);
            }
        });
    };
    SampleCompareComponent.prototype.getAllLocations = function () {
        var _this = this;
        this.apiLocation.getAllLocations()
            .subscribe(function (locations) {
            _this.locations = locations;
        }, function (error) { return console.log(error); });
    };
    SampleCompareComponent.prototype.getLocationById = function (id) {
        var _this = this;
        this.apiLocation.getById(id)
            .subscribe(function (location) {
            _this.selectedLocation = location;
            _this.globalRef.setReferenceByKrwId(location.watertypeKrwId);
        }, function (error) { return console.log(error); });
    };
    SampleCompareComponent.prototype.getSampleById = function (id) {
        var _this = this;
        this.apiSample.getSample(id)
            .subscribe(function (sample) {
            var name = _this.selectedLocation['description'];
            _this.samplesToCompare.push({
                sample: sample,
                locationName: name
            });
            _this.addToChart();
        }, function (error) { return console.log(error); });
    };
    SampleCompareComponent.prototype.getSamplesByLocationId = function (id) {
        var _this = this;
        this.apiSample.getByLocationId(id)
            .subscribe(function (samples) {
            _this.samples = samples;
        }, function (error) { return console.log(error); });
    };
    SampleCompareComponent.prototype.setShowLocationTable = function () {
        this.showSampleTable = false;
        this.showLocationTable = true;
        this.selectedLocation = {};
    };
    SampleCompareComponent.prototype.loadFactors = function () {
        var _this = this;
        this.apiWew.getFactors()
            .subscribe(function (factors) {
            _this.factors = factors;
        }, function (error) { return console.log(error); });
    };
    SampleCompareComponent.prototype.addToChart = function () {
        var _this = this;
        this.comparedSampleRows.splice(0);
        var palette = new _services_palette__WEBPACK_IMPORTED_MODULE_4__["MaterialPalette"]().shift();
        var chartEntities = [];
        var entityCounter = 1;
        this.samplesToCompare.forEach(function (item) {
            var name = item.sample.date.toLocaleString('nl-NL', {
                day: 'numeric',
                month: 'short',
                year: 'numeric'
            });
            chartEntities.push(_this.chartEntityManager
                .createFromSample(item.sample, entityCounter.toString(), palette.clone()));
            _this.comparedSampleRows.push({
                id: entityCounter,
                date: name,
                locationName: item.locationName
            });
            entityCounter++;
        });
        var pos = 0;
        this.settings = [];
        this.wewConfigs = this.factors.map(function (factor) {
            _this.settings.push({ pos: pos, factors: factor });
            pos++;
            var config = {
                entities: chartEntities,
                factors: [factor],
                xAxis: 'entity',
                width: (chartEntities.length + 1) * 100,
                height: 350,
            };
            return config;
        });
        this.showGraph = true;
        if (this.wewChartInstance) {
            this.wewChartInstance.reload(this.wewConfigs);
        }
    };
    SampleCompareComponent.prototype.onWewChartInit = function (wewChartInstance) {
        if (!wewChartInstance)
            this.wewChartInstance = wewChartInstance;
    };
    SampleCompareComponent.prototype.compareCurrentLocation = function () {
        var _this = this;
        var ids = [];
        this.samples.forEach(function (item) {
            _this.samplesToCompare.push({ sample: item, locationName: _this.selectedLocation['description'] });
            ids.push(item.id);
        });
        this.samples.splice(0);
        this.addToChart();
        this.globalRef.addSamples(ids);
    };
    SampleCompareComponent.prototype.clearGraph = function () {
        this.globalRef.clearGraph();
        this.samplesToCompare.splice(0);
        this.wewConfigs.splice(0);
        this.comparedSampleRows.splice(0);
        this.getSamplesByLocationId(this.selectedLocation['id']);
        this.showGraph = false;
    };
    SampleCompareComponent.prototype.resetLocation = function () {
        this.globalRef.clearGraph();
        if (this.samplesToCompare)
            this.samplesToCompare.splice(0);
        if (this.wewConfigs)
            this.wewConfigs.splice(0);
        if (this.comparedSampleRows)
            this.comparedSampleRows.splice(0);
        this.getSamplesByLocationId(this.selectedLocation['id']);
        this.showGraph = false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('locationsButtonTemplate'),
        __metadata("design:type", Object)
    ], SampleCompareComponent.prototype, "locationsButtonTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('samplesButtonTemplate'),
        __metadata("design:type", Object)
    ], SampleCompareComponent.prototype, "samplesButtonTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleDateTemplate'),
        __metadata("design:type", Object)
    ], SampleCompareComponent.prototype, "sampleDateTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('locationsButtonTemplateAll'),
        __metadata("design:type", Object)
    ], SampleCompareComponent.prototype, "locationsButtonTemplateAll", void 0);
    SampleCompareComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            providers: [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_1__["ApiSampleService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_3__["ApiLocationService"], _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_5__["ChartEntityManager"], _services_api_wew_service__WEBPACK_IMPORTED_MODULE_6__["ApiWewService"]],
            selector: 'app-sample-compare',
            template: __webpack_require__(/*! ./sample-compare.component.html */ "./src/app/sample/sample-compare/sample-compare.component.html"),
            styles: [__webpack_require__(/*! ./sample-compare.component.css */ "./src/app/sample/sample-compare/sample-compare.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_1__["ApiSampleService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_3__["ApiLocationService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_5__["ChartEntityManager"],
            _services_api_wew_service__WEBPACK_IMPORTED_MODULE_6__["ApiWewService"], _services_api_reference_service__WEBPACK_IMPORTED_MODULE_7__["ApiReferenceService"], _services_global_reference_service__WEBPACK_IMPORTED_MODULE_8__["GlobalReferenceService"]])
    ], SampleCompareComponent);
    return SampleCompareComponent;
}());



/***/ }),

/***/ "./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.css":
/*!********************************************************************************!*\
  !*** ./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.css ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".factor{\r\n  border:1px solid #AAA;\r\n  padding:1em;\r\n  margin:1em;\r\n  float:left;\r\n  min-height:270px;\r\n}\r\n\r\n.head,.factorClass,.total{\r\n  padding:0 2px;\r\n}\r\n\r\n.head span,.factorClass span,.total span{\r\n  display:inline-block;\r\n}\r\n\r\n.factorName{\r\n  font-size:1.5em;\r\n}\r\n\r\n.factorName,.head,.total{\r\n  font-weight:bold;\r\n}\r\n\r\n.total{\r\n  border-top:1px solid #AAA;\r\n  margin-top:6px;\r\n  padding-top:3px;\r\n}\r\n\r\n/* Width stuff */\r\n\r\n.factor{\r\n  --fc-code-width:50px;\r\n  --fc-desc-width:200px;\r\n  --ref-width:70px;\r\n  --sam-width:60px;\r\n  --diff-width:60px;\r\n  --total-width:calc(var(--fc-code-width) + var(--fc-desc-width) + var(--ref-width) + var(--sam-width) + var(--diff-width) + 1em)\r\n}\r\n\r\n.factor,.total,.head,.factorClass{\r\n  width:var(--total-width);\r\n}\r\n\r\n.fcCode{width:var(--fc-code-width);}\r\n\r\n.fcDesc{width:var(--fc-desc-width);}\r\n\r\n.fc{width:calc(var(--fc-code-width) + var(--fc-desc-width));}\r\n\r\n.ref{width:var(--ref-width);}\r\n\r\n.sam{width:var(--sam-width);}\r\n\r\n.diff{width:var(--diff-width);}\r\n\r\n.total .label{width:calc(var(--fc-code-width) + var(--fc-desc-width) + var(--ref-width) + var(--sam-width) + .75em);}\r\n\r\n.total .value{width:var(--fc-diff-width);}\r\n"

/***/ }),

/***/ "./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.html":
/*!*********************************************************************************!*\
  !*** ./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>\r\n    Monster kwaliteit\r\n  </mat-card-title>\r\n</mat-card>\r\n<mat-card>\r\n  <div *ngIf=\"sample && location\">\r\n    <mat-card-title>Monster genomen bij {{location.description}}</mat-card-title>\r\n    <mat-card-subtitle>{{sample.date|date:'d MMMM y'}}</mat-card-subtitle>\r\n  </div>\r\n  <mat-card-content>\r\n    <div *ngIf=\"totalDiff\">\r\n      Totale verschil met de referentie: {{totalDiff.toFixed(2)}} punten\r\n    </div>\r\n    <div>\r\n      <div class=\"factor\" *ngFor=\"let factorCalc of factorCalcs\">\r\n        <div class=\"factorName\">{{factorCalc.factor.name}}</div>\r\n        <div class=\"head\">\r\n          <span class=\"fc\">Factor Klasse</span>\r\n          <span class=\"ref\">Referentie</span>\r\n          <span class=\"sam\">Monster</span>\r\n          <span class=\"diff\">Verschil</span>\r\n        </div>\r\n        <div class=\"factorClass\" *ngFor=\"let classCalc of factorCalc.calculations\">\r\n          <span class=\"fcCode\">{{classCalc.factorClass.code}}</span>\r\n          <span class=\"fcDesc\">{{classCalc.factorClass.description}}</span>\r\n          <span class=\"ref\">{{classCalc.referenceValue.toFixed(2)}}</span>\r\n          <span class=\"sam\">{{classCalc.sampleValue.toFixed(2)}}</span>\r\n          <span class=\"diff\">{{classCalc.difference.toFixed(2)}}</span>\r\n        </div>\r\n        <div class=\"total\">\r\n          <span class=\"label\">Totaal</span>\r\n          <span class=\"value\">{{factorCalc.total.toFixed(2)}}</span>\r\n        </div>\r\n      </div>\r\n      <div style=\"clear:both\"></div>\r\n    </div>\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.ts ***!
  \*******************************************************************************/
/*! exports provided: SampleQualitySheetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleQualitySheetComponent", function() { return SampleQualitySheetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/api.location.service */ "./src/app/services/api.location.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var SampleQualitySheetComponent = /** @class */ (function () {
    function SampleQualitySheetComponent(sampleApi, referenceApi, wewApi, locationApi, route) {
        this.sampleApi = sampleApi;
        this.referenceApi = referenceApi;
        this.wewApi = wewApi;
        this.locationApi = locationApi;
        this.route = route;
    }
    SampleQualitySheetComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var id, factorsPr, _a, sampleCalcPr, _b, reference, refCalcPr, _c, _d, _e;
            return __generator(this, function (_f) {
                switch (_f.label) {
                    case 0: return [4 /*yield*/, this.getSampleId()];
                    case 1:
                        id = _f.sent();
                        factorsPr = this.wewApi.getFactors().toPromise();
                        //Load sample and its calculations
                        _a = this;
                        return [4 /*yield*/, this.sampleApi.getSample(id).toPromise()];
                    case 2:
                        //Load sample and its calculations
                        _a.sample = _f.sent();
                        sampleCalcPr = this.sampleApi.getCalculationsBySample(this.sample.id).toPromise();
                        //Load reference and is calculations
                        _b = this;
                        return [4 /*yield*/, this.locationApi.getById(this.sample.location_id).toPromise()];
                    case 3:
                        //Load reference and is calculations
                        _b.location = _f.sent();
                        return [4 /*yield*/, this.referenceApi.getByWatertype(this.location.watertypeKrwId).toPromise()];
                    case 4:
                        reference = _f.sent();
                        refCalcPr = this.referenceApi.getCalculationsByReference(reference.id).toPromise();
                        //Wait for factors to be loaded
                        _c = this;
                        return [4 /*yield*/, factorsPr];
                    case 5:
                        //Wait for factors to be loaded
                        _c.factors = _f.sent();
                        this.factorClassIdMap = new Map();
                        this.factors.forEach(function (factor) { return factor.classes.forEach(function (fc) { return _this.factorClassIdMap.set(fc.id, fc); }); });
                        //Make easy lookup maps Map<WEWFactorClass,SimpleWEWValue>
                        _d = this;
                        return [4 /*yield*/, this.makeFactorClassCalcMap(sampleCalcPr)];
                    case 6:
                        //Make easy lookup maps Map<WEWFactorClass,SimpleWEWValue>
                        _d.sampleCalcMap = _f.sent();
                        _e = this;
                        return [4 /*yield*/, this.makeFactorClassCalcMap(refCalcPr)];
                    case 7:
                        _e.referenceCalcMap = _f.sent();
                        //Make objects to show on the page
                        this.doCalculations();
                        return [2 /*return*/];
                }
            });
        });
    };
    SampleQualitySheetComponent.prototype.getSampleId = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var idPr, id, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        idPr = new Promise(function (resolve, reject) {
                            _this.route.paramMap.subscribe(function (paramMap) { return resolve(paramMap.get('id')); }, reject);
                        });
                        _b = (_a = Number).parseInt;
                        return [4 /*yield*/, idPr];
                    case 1:
                        id = _b.apply(_a, [_c.sent()]);
                        return [2 /*return*/, id];
                }
            });
        });
    };
    SampleQualitySheetComponent.prototype.makeFactorClassCalcMap = function (calcsPr) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var calcs, map;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, calcsPr];
                    case 1:
                        calcs = _a.sent();
                        map = new Map();
                        calcs.forEach(function (calc) { return map.set(_this.factorClassIdMap.get(calc.factorClassId), calc); });
                        return [2 /*return*/, map];
                }
            });
        });
    };
    SampleQualitySheetComponent.prototype.doCalculations = function () {
        var _this = this;
        this.factorCalcs = this.factors.map(function (factor) {
            var calculations = factor.classes.map(function (factorClass) {
                var referenceValue = _this.referenceCalcMap.get(factorClass).value;
                var sampleValue = _this.sampleCalcMap.get(factorClass).value;
                return {
                    factorClass: factorClass,
                    referenceValue: referenceValue,
                    sampleValue: sampleValue,
                    difference: Math.abs(referenceValue - sampleValue)
                };
            });
            return {
                factor: factor,
                calculations: calculations,
                total: calculations.reduce(function (total, next) { return total + next.difference; }, 0)
            };
        });
        this.totalDiff = this.factorCalcs.reduce(function (result, _a) {
            var total = _a.total;
            return result + total;
        }, 0);
    };
    SampleQualitySheetComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sample-quality-sheet',
            providers: [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__["ApiSampleService"], _services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__["ApiReferenceService"], _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__["ApiWewService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_5__["ApiLocationService"]],
            template: __webpack_require__(/*! ./sample-quality-sheet.component.html */ "./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.html"),
            styles: [__webpack_require__(/*! ./sample-quality-sheet.component.css */ "./src/app/sample/sample-quality-sheet/sample-quality-sheet.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__["ApiSampleService"],
            _services_api_reference_service__WEBPACK_IMPORTED_MODULE_3__["ApiReferenceService"],
            _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__["ApiWewService"],
            _services_api_location_service__WEBPACK_IMPORTED_MODULE_5__["ApiLocationService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], SampleQualitySheetComponent);
    return SampleQualitySheetComponent;
}());



/***/ }),

/***/ "./src/app/sample/sample-upload/sample-upload.component.css":
/*!******************************************************************!*\
  !*** ./src/app/sample/sample-upload/sample-upload.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/sample/sample-upload/sample-upload.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/sample/sample-upload/sample-upload.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>Importeer monsters</mat-card-title>\r\n</mat-card>\r\n<!-- ToDo: handle errors nicely -->\r\n<mat-card *ngIf=\"state=='error'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Error</mat-card-title>\r\n  <mat-card-content>{{errors|json}}</mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Loading card -->\r\n<mat-card *ngIf=\"state=='loading'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Laden...</mat-card-title>\r\n  <mat-card-content>\r\n    <mat-spinner></mat-spinner>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Start, show file input -->\r\n<mat-card *ngIf=\"state=='start'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Upload CSV bestanden</mat-card-title>\r\n  <mat-card-content>\r\n    <input type=\"file\" accept=\".csv, text/csv\" (change)=\"fileChange($event)\" multiple/>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Let the user confirm sample subresources -->\r\n<div *ngIf=\"state=='confirmatata'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card>\r\n    <mat-card-title>Bevestiging vereist</mat-card-title>\r\n    <mat-card-content>\r\n      <p>De volgende watertypes, locaties of soorten zijn nog niet in het systeem bekend, controleer of deze\r\n        correct zijn.</p>\r\n      <button mat-raised-button (click)=\"confirmAll()\">Bevestig alles</button>\r\n    </mat-card-content>\r\n  </mat-card>\r\n  <mat-card *ngIf=\"confirm.watertypes.length\">\r\n    <mat-card-title>Nieuwe watertypes</mat-card-title>\r\n    <mat-card-content>\r\n      <mat-list dense>\r\n        <mat-list-item *ngFor=\"let watertype of confirm.watertypes\">\r\n          {{watertype.code}} - {{watertype.name}}\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </mat-card-content>\r\n  </mat-card>\r\n  <mat-card *ngIf=\"confirm.locations.length\">\r\n    <mat-card-title>Nieuwe locaties</mat-card-title>\r\n    <mat-card-content>\r\n      <mat-list dense>\r\n        <mat-list-item *ngFor=\"let location of confirm.locations\">\r\n          {{location.code}} - {{location.description}}\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </mat-card-content>\r\n  </mat-card>\r\n  <mat-card *ngIf=\"confirm.taxonIds.length\">\r\n    <mat-card-title>Nieuwe soorten</mat-card-title>\r\n    <mat-card-content>\r\n      <mat-list dense>\r\n        <mat-list-item *ngFor=\"let taxon of confirm.taxonIds\">\r\n          {{taxon.name}}\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n\r\n<!-- Let the user confirm the samples -->\r\n<div *ngIf=\"state=='confirmSample'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card>\r\n    <mat-card-title>Monster controle</mat-card-title>\r\n    <mat-card-content>\r\n      <p>Controleer de volgende monster gegevens voor ze opgeslagen worden.</p>\r\n      <button mat-raised-button (click)=\"confirmSamples()\">Bevestig alles</button>\r\n    </mat-card-content>\r\n  </mat-card>\r\n  <mat-card *ngFor=\"let sample of confirm.samplesFast\">\r\n    <mat-card-header>\r\n      <mat-card-title><strong>{{sample.locationCode}}:</strong> {{sample.locationDescription}}</mat-card-title>\r\n      <mat-card-subtitle>{{sample.date|date:'d MMMM y'}}</mat-card-subtitle>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      {{sample.taxonValues.size}} soorten\r\n      <!-- TODO: Makes the page very slow\r\n            <mat-list dense>\r\n                <mat-list-item *ngFor=\"let .. of sample.taxonValues\">\r\n                    ...\r\n                </mat-list-item>\r\n            </mat-list>\r\n            -->\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n\r\n<!-- Show final confirmation -->\r\n<mat-card *ngIf=\"state=='finished'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Klaar</mat-card-title>\r\n  <mat-card-content>\r\n    De monsters zijn opgeslagen.\r\n    <button mat-raised-button (click)=\"goToStart()\">Importeer meer monsters</button>\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/sample/sample-upload/sample-upload.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/sample/sample-upload/sample-upload.component.ts ***!
  \*****************************************************************/
/*! exports provided: SampleUploadComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleUploadComponent", function() { return SampleUploadComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/api.watertype.service */ "./src/app/services/api.watertype.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var SampleUploadComponent = /** @class */ (function () {
    function SampleUploadComponent() {
    }
    SampleUploadComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sample-upload',
            providers: [app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__["ApiSampleService"], _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__["ApiLocationService"], _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_5__["ApiWatertypeService"]],
            template: __webpack_require__(/*! ./sample-upload.component.html */ "./src/app/sample/sample-upload/sample-upload.component.html"),
            styles: [__webpack_require__(/*! ./sample-upload.component.css */ "./src/app/sample/sample-upload/sample-upload.component.css")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('mainCardAnim', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':enter', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('300ms 150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 }))]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':leave', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }))])
                ])
            ]
        })
    ], SampleUploadComponent);
    return SampleUploadComponent;
}());



/***/ }),

/***/ "./src/app/sample/sample-view/sample-view.component.css":
/*!**************************************************************!*\
  !*** ./src/app/sample/sample-view/sample-view.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ngui-map {\r\n  width:80%;\r\n  margin-left: 10%;\r\n}\r\n\r\n.echart {\r\n  height: 1000px;\r\n  max-width:90%;\r\n}\r\n\r\n.detailsButton {\r\n  margin-bottom: 18px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/sample/sample-view/sample-view.component.html":
/*!***************************************************************!*\
  !*** ./src/app/sample/sample-view/sample-view.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"sample && location\">\r\n  <h1>Monster genomen bij {{location.description}}</h1>\r\n  <h2>{{sample.date|date:'d MMMM y'}}</h2>\r\n</div>\r\n\r\n\r\n\r\n<!--<mat-card>-->\r\n  <!--<mat-card-title>-->\r\n    <!--Waterkwaliteit-->\r\n  <!--</mat-card-title>-->\r\n  <!--<mat-card-content>-->\r\n    <!--<div class=\"detailsButton\">-->\r\n      <!--<a *ngIf=\"sample\" [routerLink]=\"'/sample/quality/'+sample.id\" mat-raised-button>Bekijk de kwaliteit-->\r\n        <!--analyse</a><br/>-->\r\n    <!--</div>-->\r\n    <!--<app-wew-bar-chart *ngIf=\"wewConfig\" [config]=\"wewConfig\"></app-wew-bar-chart>-->\r\n    <!--<mat-spinner *ngIf=\"!wewConfig\"></mat-spinner>-->\r\n  <!--</mat-card-content>-->\r\n<!--</mat-card>-->\r\n\r\n\r\n\r\n<!--new barchart-->\r\n<mat-card>\r\n  <mat-card-title>\r\n    Waterkwaliteit\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <div class=\"detailsButton\">\r\n      <a *ngIf=\"sample\" [routerLink]=\"'/sample/quality/'+sample.id\" mat-raised-button>Bekijk de kwaliteit\r\n        analyse</a><br/>\r\n    </div>\r\n    <app-new-wew-bar-chart></app-new-wew-bar-chart>\r\n    <mat-spinner *ngIf=\"!wewConfig\"></mat-spinner>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n\r\n<mat-card *ngIf=\"sample && location && taxon && showChart\">\r\n  <mat-card-title>\r\n    Gevonden taxa\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <div *ngIf=\"secondGraphEnabled\"><a mat-raised-button class=\"backButton\" (click)=\"this.setActiveGraph(0);\">Terug\r\n      naar overzicht</a></div>\r\n    <div echarts *ngIf=\"firstGraphEnabled\" (chartInit)=\"onChartInit($event)\" [options]=\"option\"\r\n         class=\"pie-echart\"></div>\r\n    <div echarts *ngIf=\"secondGraphEnabled\" [options]=\"option2\" class=\"pie-echart\"></div>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n\r\n\r\n<mat-card *ngIf=\"location\">\r\n  <mat-card-title>\r\n    {{location.description}}\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <!--<ngui-map [options]=\"mapConfig\">\r\n      <marker *ngIf=\"markerPos\" [position]=\"markerPos\">\r\n      </marker>\r\n    </ngui-map>-->\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/sample/sample-view/sample-view.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/sample/sample-view/sample-view.component.ts ***!
  \*************************************************************/
/*! exports provided: SampleViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SampleViewComponent", function() { return SampleViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/api.watertype.service */ "./src/app/services/api.watertype.service.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var _services_palette__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/palette */ "./src/app/services/palette.ts");
/* harmony import */ var _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/chart-entity.model */ "./src/app/models/chart-entity.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var SampleViewComponent = /** @class */ (function () {
    function SampleViewComponent(apiSample, apiTaxon, apiLocation, apiReference, apiWatertype, apiWew, chartEntityManager, route) {
        var _this = this;
        this.apiSample = apiSample;
        this.apiTaxon = apiTaxon;
        this.apiLocation = apiLocation;
        this.apiReference = apiReference;
        this.apiWatertype = apiWatertype;
        this.apiWew = apiWew;
        this.chartEntityManager = chartEntityManager;
        this.route = route;
        this.showChart = false;
        this.firstGraphEnabled = 1;
        this.secondGraphEnabled = 0;
        this.mapStyle = [
            { elementType: 'labels', stylers: [{ visibility: 'off' }] },
            { featureType: 'administrative.country', stylers: [{ visibility: 'on' }] },
            {
                featureType: 'administrative.country',
                elementType: 'labels.text.fill',
                stylers: [{ color: '#606060' }]
            },
            {
                featureType: 'administrative.locality', elementType: 'labels',
                stylers: [{ visibility: 'simplified' }]
            },
            {
                featureType: 'administrative.locality',
                elementType: 'labels.text.fill',
                stylers: [{ color: '#606060' }]
            },
            { featureType: 'road', stylers: [{ visibility: 'off' }] },
            { featureType: 'water', stylers: [{ visibility: 'on' }] },
            {
                featureType: 'water', elementType: 'geometry.fill',
                stylers: [{ color: '#0d9ac7' }, { visibility: 'on' }]
            },
            {
                featureType: 'water', elementType: 'labels',
                stylers: [{ visibility: 'on' }]
            },
            {
                featureType: 'water', elementType: 'labels.text.fill',
                stylers: [{ color: '#000000' }, { visibility: 'on' }]
            }
        ];
        this.mapConfig = {
            styles: this.mapStyle,
            mapTypeId: "satellite",
            center: {},
            zoom: 18,
            disableDefaultUI: false,
            clickableIcons: true,
        };
        this.option = this.defaultSettings();
        this.option2 = this.defaultSettings();
        this.groupsPr = this.apiTaxon.getGroups().toPromise().then(function (groups) { return _this.groups = groups; });
    }
    SampleViewComponent.prototype.setActiveGraph = function (bool) {
        if (bool) {
            this.firstGraphEnabled = 0;
            this.secondGraphEnabled = 1;
        }
        else {
            this.firstGraphEnabled = 1;
            this.secondGraphEnabled = 0;
        }
    };
    SampleViewComponent.prototype.defaultSettings = function () {
        return {
            title: {
                text: 'Aantal beestjes gevonden',
                subtext: 'per monster',
                x: 'center'
            },
            toolbox: {
                right: 150,
                feature: {
                    saveAsImage: {
                        title: "Download grafiek",
                    }
                }
            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)",
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data: []
            },
            series: [
                {
                    name: 'Gevonden',
                    type: 'pie',
                    radius: '55%',
                    center: ['50%', '60%'],
                    data: [],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
    };
    SampleViewComponent.prototype.updateGraph = function (group, taxonValues) {
        var names = Array.from(taxonValues.keys()).map(function (taxon) { return taxon.name; });
        var output = [];
        taxonValues.forEach(function (value, taxon) {
            output.push({ name: taxon.name, value: value });
        });
        this.option2.legend.data = names;
        this.option2.series[0].data = output;
    };
    SampleViewComponent.prototype.onChartInit = function (echart) {
        var _this = this;
        this.echart = echart;
        echart.on('click', function (params) {
            _this.setActiveGraph(1);
            var group = params.data.data.group;
            var taxa = params.data.data.taxa;
            var taxonValues = new Map();
            taxa.forEach(function (taxon) { return taxonValues.set(taxon, _this.sample.taxonValues.get(taxon.id)); });
            _this.updateGraph(group, taxonValues);
        });
    };
    SampleViewComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__["map"])(function (params) { return parseInt(params.id); })).subscribe(function (id) {
            //Retrieve sample
            var samplePr = _this.apiSample.getSample(id).toPromise().then(function (sample) { return _this.sample = sample; });
            //Retrieve location
            var locationPr = samplePr.then(function (sample) { return _this.retrieveLocation(); });
            //Retrieve reference
            var referencePr = locationPr.then(function (location) { return _this.apiReference.getByWatertype(location.watertypeKrwId).toPromise(); });
            //Create config object for the WEW chart
            referencePr.then(function (reference) {
                _this.reference = reference;
                var palette = new _services_palette__WEBPACK_IMPORTED_MODULE_8__["MaterialPalette"]().shift();
                var entArr = [];
                if (reference)
                    entArr.push(_this.chartEntityManager.createFromReference(reference, 'Referentie', palette.clone()));
                entArr.push(_this.chartEntityManager.createFromSample(_this.sample, 'Monster', palette.clone()));
                _this.wewConfig = {
                    entities: entArr
                };
            }, function (err) {
                _this.reference = null;
                _this.wewConfig = { entities: [] };
            });
            //When sample and taxon groups are in, retrieve taxa
            Promise.all([samplePr, _this.groupsPr]).then(function (_a) {
                var sample = _a[0], groups = _a[1];
                _this.retrieveTaxon();
            });
        });
    };
    SampleViewComponent.prototype.retrieveTaxon = function () {
        var _this = this;
        var groupMap = new Map();
        this.groups.forEach(function (group) { return groupMap.set(group.id, group); });
        var taxonIds = Array.from(this.sample.taxonValues.keys());
        this.apiTaxon.getByIds(taxonIds).subscribe(function (taxon) {
            var output = [];
            _this.taxon = taxon;
            var groupTaxaMap = new Map();
            _this.groups.forEach(function (group) {
                groupTaxaMap.set(group, taxon.filter(function (tax) { return tax.groupId == group.id; }));
            });
            groupTaxaMap.forEach(function (taxa, group) {
                var totalValue = taxa.map(function (tax) { return _this.sample.taxonValues.get(tax.id); }).reduce(function (cur, total) { return total + cur; }, 0);
                if (totalValue) {
                    var data = { group: group, taxa: taxa };
                    output.push({ value: totalValue, name: group.description, data: data });
                }
            });
            _this.option.legend.data = output.map(function (taxon) { return taxon.name; });
            _this.option.series[0].data = output;
            _this.showChart = true;
        }, function (error) { return console.log(error); });
    };
    SampleViewComponent.prototype.retrieveLocation = function () {
        var _this = this;
        var locationPr = this.apiLocation.getById(this.sample.location_id).toPromise();
        locationPr.then(function (location) {
            _this.location = location;
            _this.mapConfig.center = {
                lat: location.latitude,
                lng: location.longitude
            };
            _this.markerPos = {
                lat: location.latitude,
                lng: location.longitude
            };
        }, function (error) { return console.log(error); });
        return locationPr;
    };
    SampleViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sample-view',
            providers: [app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__["ApiSampleService"], _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__["ApiLocationService"], app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_5__["ApiReferenceService"], _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_6__["ApiWatertypeService"], _services_api_wew_service__WEBPACK_IMPORTED_MODULE_7__["ApiWewService"], _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_9__["ChartEntityManager"]],
            template: __webpack_require__(/*! ./sample-view.component.html */ "./src/app/sample/sample-view/sample-view.component.html"),
            styles: [__webpack_require__(/*! ./sample-view.component.css */ "./src/app/sample/sample-view/sample-view.component.css")]
        }),
        __metadata("design:paramtypes", [app_services_api_sample_service__WEBPACK_IMPORTED_MODULE_2__["ApiSampleService"],
            _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"],
            _services_api_location_service__WEBPACK_IMPORTED_MODULE_4__["ApiLocationService"],
            app_services_api_reference_service__WEBPACK_IMPORTED_MODULE_5__["ApiReferenceService"],
            _services_api_watertype_service__WEBPACK_IMPORTED_MODULE_6__["ApiWatertypeService"],
            _services_api_wew_service__WEBPACK_IMPORTED_MODULE_7__["ApiWewService"],
            _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_9__["ChartEntityManager"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], SampleViewComponent);
    return SampleViewComponent;
}());



/***/ }),

/***/ "./src/app/services/AuthInterceptor.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/AuthInterceptor.service.ts ***!
  \*****************************************************/
/*! exports provided: AuthInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthInterceptor", function() { return AuthInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AuthInterceptor = /** @class */ (function () {
    function AuthInterceptor() {
    }
    AuthInterceptor.prototype.intercept = function (req, next) {
        var url = 'http://127.0.0.1:5000';
        var idToken = localStorage.getItem('token');
        req = req.clone({
            url: url + req.url
        });
        if (idToken) {
            var cloned = req.clone({
                headers: req.headers.set("Authorization", "Bearer " + idToken)
            });
            return next.handle(cloned);
        }
        else {
            return next.handle(req);
        }
    };
    AuthInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], AuthInterceptor);
    return AuthInterceptor;
}());



/***/ }),

/***/ "./src/app/services/api.location.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/api.location.service.ts ***!
  \**************************************************/
/*! exports provided: ApiLocationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiLocationService", function() { return ApiLocationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/markerLocation.model */ "./src/app/models/markerLocation.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiLocationService = /** @class */ (function (_super) {
    __extends(ApiLocationService, _super);
    function ApiLocationService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve a list of all locations
    ApiLocationService.prototype.getAllLocations = function () {
        return this.get('/location/all').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (markerLocations) {
            return markerLocations.map(function (markerLocation) { return _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__["MarkerLocation"].fromJSON(markerLocation); });
        }));
    };
    // Retrieve a location by its ID
    ApiLocationService.prototype.getById = function (id) {
        return this.get('/location/id/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (markerLocation) { return _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__["MarkerLocation"].fromJSON(markerLocation); }));
    };
    ApiLocationService.prototype.getByIds = function (ids) {
        return this.post('/location/ids', ids).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (markerLocations) { return markerLocations.map(function (markerLocation) { return _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__["MarkerLocation"].fromJSON(markerLocation); }); }));
    };
    // Retrieve a location by its code
    ApiLocationService.prototype.getByCode = function (code) {
        return this.get('/location/code/' + code).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (markerLocation) { return _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__["MarkerLocation"].fromJSON(markerLocation); }));
    };
    // Save a location to the server
    ApiLocationService.prototype.save = function (markerLocation) {
        return this.post('/location', markerLocation).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (markerLocation) { return _models_markerLocation_model__WEBPACK_IMPORTED_MODULE_3__["MarkerLocation"].fromJSON(markerLocation); }));
    };
    ApiLocationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiLocationService);
    return ApiLocationService;
}(_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.marker.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/api.marker.service.ts ***!
  \************************************************/
/*! exports provided: ApiMarkerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiMarkerService", function() { return ApiMarkerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_marker_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/marker.model */ "./src/app/models/marker.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiMarkerService = /** @class */ (function (_super) {
    __extends(ApiMarkerService, _super);
    function ApiMarkerService(http) {
        return _super.call(this, http) || this;
    }
    // Retrieve a list of filtered markers
    ApiMarkerService.prototype.getAllFilteredMarkers = function (markerFilter) {
        return this.post('/markers/filter', markerFilter).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (markers) {
            return markers.map(function (marker) { return _models_marker_model__WEBPACK_IMPORTED_MODULE_3__["Marker"].fromJSON(marker); });
        }));
    };
    ApiMarkerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiMarkerService);
    return ApiMarkerService;
}(_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.reference.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/api.reference.service.ts ***!
  \***************************************************/
/*! exports provided: ApiReferenceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiReferenceService", function() { return ApiReferenceService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_reference_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/reference.model */ "./src/app/models/reference.model.ts");
/* harmony import */ var _models_wew_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/wew.model */ "./src/app/models/wew.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var ApiReferenceService = /** @class */ (function (_super) {
    __extends(ApiReferenceService, _super);
    function ApiReferenceService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve all references
    ApiReferenceService.prototype.getAll = function () {
        return this.get('/reference').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (references) { return references.map(function (reference) { return _models_reference_model__WEBPACK_IMPORTED_MODULE_3__["Reference"].fromJSON(reference); }); }));
    };
    //Retrieve a reference by its id
    ApiReferenceService.prototype.getReference = function (id) {
        return this.get('/reference/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (reference) { return _models_reference_model__WEBPACK_IMPORTED_MODULE_3__["Reference"].fromJSON(reference); }));
    };
    // // NIEUWE MANIER ZODAT FILTEREN MOGELIJK IS
    // public getCalculationBySample(sampleId: number): Observable<CalculationSample[]>{
    //   return this.get('/calculate/reference2/' + sampleId).pipe(map(objs => objs.map(obj => {
    //     let calculation = new calculationSample();
    //     calculation.sampleId = obj.sample_id;
    //     calculation.taxon = obj.taxon;
    //     calculation.taxon.id = obj.taxon.id;
    //     calculation.taxon.name = obj.taxon.name;
    //     calculation.taxon.hydrologischeVerstoring = obj.taxon.hydrologische_verstoring;
    //     calculation.taxon.morfologischeVerstoring = obj.taxon.morfologische_verstoring;
    //     calculation.taxon.eutrofieringBelasting = obj.taxon.eutrofiering_belasting;
    //     calculation.wewValue = obj.wew_value;
    //     return calculation;
    //   })));
    // }
    // NIEUWE MANIER ZODAT FILTEREN MOGELIJK IS
    ApiReferenceService.prototype.getCalculationBySample = function (sampleId) {
        return this.get('/calculate/reference2/' + sampleId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (obj) {
            var CalculationPreTransformed = new _models_wew_model__WEBPACK_IMPORTED_MODULE_4__["CalculationSample"]();
            CalculationPreTransformed.id = obj.reference_id;
            CalculationPreTransformed.taxon = obj.taxon;
            CalculationPreTransformed.wewValue = obj.wew_value;
            return CalculationPreTransformed;
        }));
    };
    //Retrieve a reference by its watertype
    ApiReferenceService.prototype.getByWatertype = function (watertypeId) {
        return this.get('/reference/watertype/' + watertypeId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (reference) { return _models_reference_model__WEBPACK_IMPORTED_MODULE_3__["Reference"].fromJSON(reference); }));
    };
    //Save a reference to the server
    ApiReferenceService.prototype.save = function (reference) {
        return this.post('/admin/reference', reference).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (reference) { return _models_reference_model__WEBPACK_IMPORTED_MODULE_3__["Reference"].fromJSON(reference); }));
    };
    //Deletes a reference and all its calculations
    ApiReferenceService.prototype.delete = function (id) {
        return this.post('/admin/reference/delete/' + id, null);
    };
    //Get a list of calculations for the given reference id
    ApiReferenceService.prototype.getCalculationsByReference = function (referenceId) {
        return this.get('/calculate/reference/' + referenceId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (objs) { return objs.map(function (obj) {
            var value = new _models_wew_model__WEBPACK_IMPORTED_MODULE_4__["SimpleWEWValue"]();
            value.factorClassId = obj.factorClassId;
            value.value = obj.computedValue;
            return value;
        }); }));
    };
    ApiReferenceService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiReferenceService);
    return ApiReferenceService;
}(_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.sample.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/api.sample.service.ts ***!
  \************************************************/
/*! exports provided: ApiSampleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiSampleService", function() { return ApiSampleService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_sample_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/sample.model */ "./src/app/models/sample.model.ts");
/* harmony import */ var _models_wew_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/wew.model */ "./src/app/models/wew.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var ApiSampleService = /** @class */ (function (_super) {
    __extends(ApiSampleService, _super);
    function ApiSampleService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve a sample by its id
    ApiSampleService.prototype.getSample = function (id) {
        return this.get('/sample/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (sample) { return _models_sample_model__WEBPACK_IMPORTED_MODULE_3__["Sample"].fromJSON(sample); }));
    };
    //Save a sample to the server
    ApiSampleService.prototype.save = function (sample) {
        return this.post('/sample', [sample]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (samples) { return _models_sample_model__WEBPACK_IMPORTED_MODULE_3__["Sample"].fromJSON(samples[0]); }));
    };
    //Save a list of samples to the server
    ApiSampleService.prototype.saveMulti = function (samples) {
        return this.post('/sample', samples).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (samples) { return samples.map(function (sample) { return _models_sample_model__WEBPACK_IMPORTED_MODULE_3__["Sample"].fromJSON(sample); }); }));
    };
    //Get a list of calculations for the given sample id
    ApiSampleService.prototype.getCalculationsBySample = function (sampleId) {
        return this.get('/calculate/sample/' + sampleId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (objs) { return objs.map(function (obj) {
            var value = new _models_wew_model__WEBPACK_IMPORTED_MODULE_4__["SimpleWEWValue"]();
            value.factorClassId = obj.factorClassId;
            value.value = obj.computedValue;
            return value;
        }); }));
    };
    // NIEUWE MANIER ZODAT FILTEREN MOGELIJK IS
    ApiSampleService.prototype.getCalculationBySample = function (sampleId) {
        return this.get('/calculate/sample2/' + sampleId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (obj) {
            var calculation = new _models_wew_model__WEBPACK_IMPORTED_MODULE_4__["CalculationSample"]();
            calculation.id = obj.sample_id;
            calculation.taxon = obj.taxon;
            calculation.wewValue = obj.wew_value;
            return calculation;
        }));
    };
    ApiSampleService.prototype.getByLocationId = function (locationId) {
        return this.get('/sample/location/' + locationId).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (samples) { return samples.map(function (sample) { return _models_sample_model__WEBPACK_IMPORTED_MODULE_3__["Sample"].fromJSON(sample); }); }));
    };
    ApiSampleService.prototype.getByDate = function (date) {
        return this.get('/sample/date/' + date).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (samples) { return samples.map(function (sample) { return _models_sample_model__WEBPACK_IMPORTED_MODULE_3__["Sample"].fromJSON(sample); }); }));
    };
    ApiSampleService.prototype.getDistinctYears = function () {
        return this.get('/sample/getyears');
    };
    ApiSampleService.prototype.getRecent = function (count) {
        return this.get('/sample/recent/' + count).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(function (samples) { return samples.map(function (sample) { return _models_sample_model__WEBPACK_IMPORTED_MODULE_3__["Sample"].fromJSON(sample); }); }));
    };
    ApiSampleService.prototype.delete = function (id) {
        return this.post('/admin/sample/delete', id);
    };
    ApiSampleService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiSampleService);
    return ApiSampleService;
}(_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.service.ts":
/*!*****************************************!*\
  !*** ./src/app/services/api.service.ts ***!
  \*****************************************/
/*! exports provided: ApiService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiService", function() { return ApiService; });
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__);


//Offers generic methods for communication with the API
//Parts of the application should create their own api service that extends this class
var ApiService = /** @class */ (function () {
    function ApiService(http) {
        this.http = http;
        this.apiUri = this._window().apiUri;
    }
    ApiService.prototype._window = function () {
        // return the global native browser window object
        return window;
    };
    //Turns the json string that came from the API into an object
    ApiService.prototype.transformResult = function (res, observer) {
        observer.next(res.json());
    };
    //Turns any errors that come from the server into an object
    ApiService.prototype.transformError = function (res, observer) {
        if (res.json)
            observer.error(res.json());
        else
            observer.error(res);
    };
    //Add authorization headers to every api call
    ApiService.addToAuthHeaders = function (headerType, value) {
        ApiService.authHeaders[headerType] = value;
    };
    //Returns a Header object to be used in an http request
    ApiService.prototype.getHeaderObject = function () {
        var headers = new _angular_http__WEBPACK_IMPORTED_MODULE_0__["Headers"]();
        headers.append('token', localStorage.getItem('token'));
        return headers;
    };
    //Do a GET request to the given path
    ApiService.prototype.get = function (path) {
        var _this = this;
        path = this.apiUri + path;
        var headers = this.getHeaderObject();
        return rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"].create(function (observer) {
            _this.http.get(path, { headers: headers })
                .subscribe(function (res) { return _this.transformResult(res, observer); }, function (err) { return _this.transformError(err, observer); }, function () { return observer.complete(); });
        });
    };
    //Do a POST request to the given path
    //Data is converted to JSON and sent along
    ApiService.prototype.post = function (path, data) {
        var _this = this;
        path = this.apiUri + path;
        var headers = this.getHeaderObject();
        headers.append('Content-Type', 'application/json');
        return rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_1__["Observable"].create(function (observer) {
            _this.http.post(path, JSON.stringify(data), { headers: headers })
                .subscribe(function (res) { return _this.transformResult(res, observer); }, function (err) { return _this.transformError(err, observer); }, function () { return observer.complete(); });
        });
    };
    //Retrieve the value of a cookie
    ApiService.prototype.getCookie = function (cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ')
                c = c.substring(1);
            if (c.indexOf(name) == 0)
                return c.substring(name.length, c.length);
        }
        return "";
    };
    ApiService.authHeaders = {};
    return ApiService;
}());



/***/ }),

/***/ "./src/app/services/api.taxon.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/api.taxon.service.ts ***!
  \***********************************************/
/*! exports provided: ApiTaxonService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiTaxonService", function() { return ApiTaxonService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var app_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/taxon.model */ "./src/app/models/taxon.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiTaxonService = /** @class */ (function (_super) {
    __extends(ApiTaxonService, _super);
    function ApiTaxonService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve a taxon by its id
    ApiTaxonService.prototype.getById = function (id) {
        return this.get('/taxon/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }));
    };
    //Retrieve a list of taxonIds by their ids
    ApiTaxonService.prototype.getByIds = function (ids) {
        return this.post('/taxon/ids', ids).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Retrieve all species in db
    ApiTaxonService.prototype.getAll = function () {
        return this.get('/taxon/all').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Retrieve a taxon and all its ancestors and descendants
    ApiTaxonService.prototype.getFamily = function (id) {
        return this.get('/taxon/family/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Retrieve a list of taxonIds by their names
    ApiTaxonService.prototype.getByNames = function (names) {
        return this.post('/taxon/find', names).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Retrieve a list of taxonIds by their name, if the taxon doesn't exist yet it will be created
    ApiTaxonService.prototype.findOrCreate = function (names) {
        return this.post('/taxon/findorcreate', names).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Save list of taxonIds to the server
    ApiTaxonService.prototype.save = function (taxonIds) {
        return this.post('/taxon', taxonIds).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Save list of taxonIds to the server
    //When no ID is set, find existing ones by name first and merge with those
    ApiTaxonService.prototype.saveMerge = function (taxonIds) {
        return this.post('/taxon/merge', taxonIds).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (taxonIds) { return taxonIds.map(function (taxon) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"].fromJSON(taxon); }); }));
    };
    //Retrieve list of all taxon groups
    ApiTaxonService.prototype.getGroups = function () {
        return this.get('/taxongroup/all').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (groups) { return groups.map(function (group) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["TaxonGroup"].fromJSON(group); }); }));
    };
    //Save list of groups to the server
    ApiTaxonService.prototype.saveGroups = function (groups) {
        return this.post('/taxongroup', groups).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (groups) { return groups.map(function (group) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["TaxonGroup"].fromJSON(group); }); }));
    };
    //Retrieve list of all taxon levels
    ApiTaxonService.prototype.getLevels = function () {
        return this.get('/taxonlevel/all').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (levels) { return levels.map(function (level) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["TaxonLevel"].fromJSON(level); }); }));
    };
    //save list of taxon levels to the server
    ApiTaxonService.prototype.saveLevels = function (levels) {
        return this.post('/taxon/level', levels).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (levels) { return levels.map(function (level) { return _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["TaxonLevel"].fromJSON(level); }); }));
    };
    ApiTaxonService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiTaxonService);
    return ApiTaxonService;
}(app_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.user.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/api.user.service.ts ***!
  \**********************************************/
/*! exports provided: ApiUserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiUserService", function() { return ApiUserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var app_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_user_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/user.model */ "./src/app/models/user.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiUserService = /** @class */ (function (_super) {
    __extends(ApiUserService, _super);
    function ApiUserService(http) {
        return _super.call(this, http) || this;
    }
    // Retrieve a user by its ID
    ApiUserService.prototype.getUser = function (id) {
        return this.get('/user/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (user) { return _models_user_model__WEBPACK_IMPORTED_MODULE_3__["User"].fromJSON(user); }));
    };
    // Retrieve the user currently logged in
    ApiUserService.prototype.getCurrentUser = function () {
        return this.get('/user/currentuser').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (user) { return _models_user_model__WEBPACK_IMPORTED_MODULE_3__["User"].fromJSON(user); }));
    };
    // Save a user to the server
    ApiUserService.prototype.createUser = function (user) {
        return this.post('/admin', user);
    };
    // Change the current user's password
    ApiUserService.prototype.editPassword = function (oldPassword, newPassword, confirmPassword) {
        return this.post('/user/editpassword', { oldPassword: oldPassword, newPassword: newPassword, confirmPassword: confirmPassword });
    };
    // Change the data of a user
    ApiUserService.prototype.editUser = function (user) {
        return this.post('/user/edit', user);
    };
    ApiUserService.prototype.resetPassword = function (user) {
        return this.post('/admin/password', user);
    };
    ApiUserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiUserService);
    return ApiUserService;
}(app_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.waterschap.service.ts":
/*!****************************************************!*\
  !*** ./src/app/services/api.waterschap.service.ts ***!
  \****************************************************/
/*! exports provided: ApiWaterschapService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiWaterschapService", function() { return ApiWaterschapService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var app_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_waterschap_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/waterschap.model */ "./src/app/models/waterschap.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiWaterschapService = /** @class */ (function (_super) {
    __extends(ApiWaterschapService, _super);
    function ApiWaterschapService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve a waterschap by its ID
    ApiWaterschapService.prototype.getById = function (id) {
        return this.get('/waterschap/id/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((function (waterschap) { return _models_waterschap_model__WEBPACK_IMPORTED_MODULE_3__["Waterschap"].fromJSON(waterschap); })));
    };
    //Retrieve a list of all waterschappen
    ApiWaterschapService.prototype.getAll = function () {
        return this.get('/waterschap/all').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (waterschappen) {
            return waterschappen.map(function (waterschap) { return _models_waterschap_model__WEBPACK_IMPORTED_MODULE_3__["Waterschap"].fromJSON(waterschap); });
        }));
    };
    //Save a waterschap to the server
    ApiWaterschapService.prototype.save = function (waterschap) {
        return this.post('/waterschap/all', waterschap);
    };
    ApiWaterschapService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiWaterschapService);
    return ApiWaterschapService;
}(app_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.watertype.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/api.watertype.service.ts ***!
  \***************************************************/
/*! exports provided: ApiWatertypeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiWatertypeService", function() { return ApiWatertypeService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var app_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_watertype_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/watertype.model */ "./src/app/models/watertype.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiWatertypeService = /** @class */ (function (_super) {
    __extends(ApiWatertypeService, _super);
    function ApiWatertypeService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve a watertype by its id
    ApiWatertypeService.prototype.getWatertype = function (id) {
        return this.get('/watertype/id/' + id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (watertype) { return _models_watertype_model__WEBPACK_IMPORTED_MODULE_3__["Watertype"].fromJSON(watertype); }));
    };
    //Retrieve a list of all watertypes
    ApiWatertypeService.prototype.getAll = function () {
        return this.get('/watertype/all').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (watertypes) { return watertypes.map(function (watertype) { return _models_watertype_model__WEBPACK_IMPORTED_MODULE_3__["Watertype"].fromJSON(watertype); }); }));
    };
    //Save a watertype to the server
    ApiWatertypeService.prototype.save = function (watertype) {
        return this.post('/watertype', watertype).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (watertype) { return _models_watertype_model__WEBPACK_IMPORTED_MODULE_3__["Watertype"].fromJSON(watertype); }));
    };
    ApiWatertypeService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiWatertypeService);
    return ApiWatertypeService;
}(app_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/api.wew.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/api.wew.service.ts ***!
  \*********************************************/
/*! exports provided: ApiWewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiWewService", function() { return ApiWewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var app_services_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _models_wew_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/wew.model */ "./src/app/models/wew.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ApiWewService = /** @class */ (function (_super) {
    __extends(ApiWewService, _super);
    function ApiWewService(http) {
        return _super.call(this, http) || this;
    }
    //Retrieve all WEW values from the taxon with these ids
    ApiWewService.prototype.getByTaxon = function (ids) {
        return this.get('/wew/value/taxon/' + ids.join(',')).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (values) { return values.map(function (value) { return _models_wew_model__WEBPACK_IMPORTED_MODULE_3__["WEWValue"].fromJSON(value); }); }));
    };
    //Saves a list of values
    //Returns number of inserted values
    ApiWewService.prototype.saveValues = function (values) {
        return this.post('/wew/value', values).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (obj) { return obj.count; }));
    };
    //Retrieves all factors and factor classes in them
    ApiWewService.prototype.getFactors = function () {
        return this.get('/wew/factor').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (factors) { return factors.map(function (factor) { return _models_wew_model__WEBPACK_IMPORTED_MODULE_3__["WEWFactor"].fromJSON(factor); }); }));
    };
    //Saves a list of factors and factor classes in them
    ApiWewService.prototype.saveFactors = function (factors) {
        return this.post('/wew/factor', factors).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(function (factors) { return factors.map(function (factor) { return _models_wew_model__WEBPACK_IMPORTED_MODULE_3__["WEWFactor"].fromJSON(factor); }); }));
    };
    //Checks if all WEW tables are empty
    ApiWewService.prototype.areTablesEmpty = function () {
        return this.get('/wew/admin/isEmpty');
    };
    //Delete everything from all WEW tables
    ApiWewService.prototype.emptyAllTables = function () {
        return this.post('/wew/admin/emptyAll', null);
    };
    ApiWewService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"])),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], ApiWewService);
    return ApiWewService;
}(app_services_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/arrayUtils.ts":
/*!****************************************!*\
  !*** ./src/app/services/arrayUtils.ts ***!
  \****************************************/
/*! exports provided: shuffle, rotate, rotateParts, uniqueFilter, pad2D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shuffle", function() { return shuffle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rotate", function() { return rotate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rotateParts", function() { return rotateParts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uniqueFilter", function() { return uniqueFilter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pad2D", function() { return pad2D; });
//Randomizes the array order
function shuffle(array) {
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    return array;
}
//Rotates array values
//rotate([1,2,3,4,5],1) becomes [2,3,4,5,1]
//rotate([1,2,3,4,5],2) becomes [3,4,5,1,2]
function rotate(array, rotateBy) {
    return array.slice(rotateBy).concat(array.slice(0, rotateBy));
}
//rotateParts([1,2,3,4,5,6,7,8,9,10], 2) becomes [1,3,5,7,9,2,4,6,8,10]
//rotateParts([1,2,3,4,5,6,7,8,9,10], 3) becomes [1,4,7,10,2,5,8,3,6,9]
function rotateParts(array, shift) {
    var shiftedValues = [];
    for (var i = 0, count = array.length, take = 0, takeStart = 0; i < count; ++i) {
        shiftedValues.push(array[take]);
        take += shift;
        if (take >= count) {
            ++takeStart;
            take = takeStart;
        }
    }
    return shiftedValues;
}
//Remove duplicates from an array
//[1,2,1,2,3].filter(uniqueFilter) becomes [1,2,3]
function uniqueFilter(value, index, self) {
    return self.indexOf(value) === index;
}
//Makes all rows in an array have the same length
//[ [1,2,3], [4,5], [6,7,8] ] becomes [ [1,2,3], [4,5,null], [6,7,8] ]
function pad2D(array, fill) {
    if (fill === void 0) { fill = null; }
    //Length of the longest row
    var max = array.map(function (row) { return row.length; }).reduce(function (next, max) { return Math.max(next, max); });
    //Fill all rows starting at the original length
    array = array.map(function (row) {
        var len = row.length;
        row.length = max;
        row.fill(fill, len);
        return row;
    });
    return array;
}


/***/ }),

/***/ "./src/app/services/auth.guard.ts":
/*!****************************************!*\
  !*** ./src/app/services/auth.guard.ts ***!
  \****************************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AuthGuard = /** @class */ (function () {
    function AuthGuard(router) {
        this.router = router;
    }
    AuthGuard.prototype.canActivate = function () {
        if (true) {
            return true;
        }
    };
    AuthGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/services/auth.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/auth.service.ts ***!
  \******************************************/
/*! exports provided: AuthenticationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return AuthenticationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/http */ "./node_modules/@angular/http/fesm5/http.js");
/* harmony import */ var _api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.service */ "./src/app/services/api.service.ts");
/* harmony import */ var _api_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./api.user.service */ "./src/app/services/api.user.service.ts");
/* harmony import */ var _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @auth0/angular-jwt */ "./node_modules/@auth0/angular-jwt/index.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AuthenticationService = /** @class */ (function (_super) {
    __extends(AuthenticationService, _super);
    function AuthenticationService(http) {
        var _this = _super.call(this, http) || this;
        _this.helper = new _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_4__["JwtHelperService"]();
        _this.userService = new _api_user_service__WEBPACK_IMPORTED_MODULE_3__["ApiUserService"](http);
        return _this;
    }
    //
    // addToStorage(token: string): void {
    //   // Sets an expiration date for the logged in user 24 hours from now
    //   let expireDate = Date.now() + (24 * 60 * 60 * 1000);
    //
    //   // Puts the token and expiration date in local storage
    //   localStorage.setItem('currentUser', JSON.stringify({token: token, expireDate: expireDate}));
    //
    //   // Creates an auth header for API calls with the token
    //   ApiService.addToAuthHeaders('X-Authorization', token);
    // }
    //
    // saveUserRole() {
    //   this.userService.getCurrentUser().subscribe(user => {
    //     let currentUser = user;
    //     localStorage.setItem('currentUserRole', JSON.stringify({role: user.group_id}));
    //     ApiService.addToAuthHeaders('User-Role', JSON.stringify(user.group_id));
    //     localStorage.setItem('currentWaterschap', JSON.stringify({waterschapid: user.waterschap_id}));
    //   }, error => console.log(error));
    // }
    AuthenticationService.prototype.login = function (email, password) {
        var json = { 'email': email, 'password': password };
        return this.post('/authenticate/login', json);
    };
    AuthenticationService.prototype.logout = function () {
        localStorage.clear();
    };
    AuthenticationService.prototype.isAdmin = function () {
        try {
            if (this.helper.decodeToken(localStorage.getItem('token'))['group_id'] === "2") {
                return true;
            }
            return false;
        }
        catch (_a) {
            return false;
        }
    };
    AuthenticationService.prototype.isLoggedIn = function () {
        return !this.verifyToken();
    };
    AuthenticationService.prototype.verifyToken = function () {
        try {
            return this.helper.isTokenExpired(localStorage.getItem('token'));
        }
        catch (_a) {
            return true;
        }
    };
    AuthenticationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_http__WEBPACK_IMPORTED_MODULE_1__["Http"]])
    ], AuthenticationService);
    return AuthenticationService;
}(_api_service__WEBPACK_IMPORTED_MODULE_2__["ApiService"]));



/***/ }),

/***/ "./src/app/services/color.ts":
/*!***********************************!*\
  !*** ./src/app/services/color.ts ***!
  \***********************************/
/*! exports provided: HSL, RGB */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HSL", function() { return HSL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RGB", function() { return RGB; });
//Class representing an HSL color
//H, S and L are in range 0.0 .. 1.0
var HSL = /** @class */ (function () {
    function HSL(hue, saturation, lightness) {
        this.hue = hue;
        this.saturation = saturation;
        this.lightness = lightness;
    }
    //Copy of itself
    HSL.prototype.asHSL = function () {
        return new HSL(this.hue, this.saturation, this.lightness);
    };
    //Convert to RGB
    HSL.prototype.asRGB = function () {
        var r, g, b;
        if (this.saturation == 0) {
            r = g = b = this.lightness;
        }
        else {
            var hue2rgb = function (p, q, t) {
                if (t < 0)
                    t += 1;
                if (t > 1)
                    t -= 1;
                if (t < 1 / 6)
                    return p + (q - p) * 6 * t;
                if (t < 1 / 2)
                    return q;
                if (t < 2 / 3)
                    return p + (q - p) * (2 / 3 - t) * 6;
                return p;
            };
            var q = this.lightness < .5 ? this.lightness * (1 + this.saturation) : this.lightness + this.saturation - this.lightness * this.saturation;
            var p = 2 * this.lightness - q;
            r = hue2rgb(p, q, this.hue + 1 / 3);
            g = hue2rgb(p, q, this.hue);
            b = hue2rgb(p, q, this.hue - 1 / 3);
        }
        return new RGB(r * 255, g * 255, b * 255);
    };
    //Returns this color as hsl(h,s,l) string
    HSL.prototype.toString = function () {
        return "hsl(" + this.hue * 360 + "," + this.saturation * 100 + "%," + this.lightness * 100 + "%)";
    };
    return HSL;
}());

//Class representing an RGB color
//R, G and B are in range 0..255
var RGB = /** @class */ (function () {
    function RGB(red, green, blue) {
        this.red = red;
        this.green = green;
        this.blue = blue;
    }
    //Return copy of itself
    RGB.prototype.asRGB = function () {
        return new RGB(this.red, this.green, this.blue);
    };
    //Convert to HSL
    RGB.prototype.asHSL = function () {
        var r = this.red / 255;
        var g = this.green / 255;
        var b = this.blue / 255;
        var max = Math.max(r, g, b);
        var min = Math.min(r, g, b);
        var h, s, l = (max + min) / 2;
        if (max === min) {
            h = s = 0;
        }
        else {
            var d = max - min;
            s = l > .5 ? d / (2 - max - min) : d / (max + min);
            switch (max) {
                case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / d + 2;
                    break;
                case b:
                    h = (r - g) / d + 4;
                    break;
            }
            h /= 6;
        }
        return new HSL(h, s, l);
    };
    //Returns this color as rgb(r,g,b) string
    RGB.prototype.toString = function () {
        return "rgb(" + this.red + "," + this.green + "," + this.blue + ")";
    };
    return RGB;
}());



/***/ }),

/***/ "./src/app/services/global.reference.service.ts":
/*!******************************************************!*\
  !*** ./src/app/services/global.reference.service.ts ***!
  \******************************************************/
/*! exports provided: GlobalReferenceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GlobalReferenceService", function() { return GlobalReferenceService; });
/* harmony import */ var _models_wew_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/wew.model */ "./src/app/models/wew.model.ts");
/* harmony import */ var _models_wewValue_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/wewValue.model */ "./src/app/models/wewValue.model.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _palette__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./palette */ "./src/app/services/palette.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var GlobalReferenceService = /** @class */ (function () {
    function GlobalReferenceService() {
        //current ReferenceID and refernceList
        this.referenceId = 0;
        this.reference = new Array();
        this.sample = new Array();
        this.test = [];
        this.expected = 1;
        this.valueMapperRef = new Map();
        this.valueMapperSample = new Map();
        this.barChartDataList = [];
        this.valueMapperList = [];
        //global vars for barcharts, any barchart with reference should take this data.
        this.barChartData = [
            { data: [0], label: 'test', stack: 'test' }
        ];
        this.barChartLabels = ['test', 'test2'];
        this.barChartColors = [];
        this.barChartColorsList = [];
        this.factors = [];
        this.finished = false;
    }
    //always call before using barchart to set the reference!!
    //this function sets the data for the barchart based on the reference ID
    GlobalReferenceService.prototype.setReferenceById = function (id) {
        this.finished = false;
        this.krwId = 0;
        if (this.factors.length === 0) {
            this.getWewFactor();
        }
        //if the array is empty or the ids arent the same get new reference
        if (this.reference == null || this.referenceId !== id) {
            this.referenceId = id;
            this.setReference();
        }
        else {
            this.filter(this.reference);
            this.setData();
            //this.calculateComputedValues(this.reference, this.valueMapperRef);
        }
    };
    GlobalReferenceService.prototype.clearGraph = function () {
        this.expected = 1;
        this.finished = false;
        this.barChartDataList.length = 0;
        this.barChartData.length = 0;
        this.valueMapperList.length = 0;
        this.barChartColorsList.length = 0;
    };
    GlobalReferenceService.prototype.setReferenceByKrwId = function (krwId) {
        this.finished = false;
        this.referenceId = 0;
        this.clearGraph();
        if (this.factors.length === 0) {
            this.getWewFactor();
        }
        this.krwId = krwId;
        this.setReferenceKrw();
    };
    //set this in the highest class ex: app.compontent.
    GlobalReferenceService.prototype.setService = function (service, wewService, refApi) {
        this.apiReferenceServer = refApi;
        this.apiWewService = wewService;
        this.pallete = new _palette__WEBPACK_IMPORTED_MODULE_3__["MaterialPalette"]().shift();
        this.apiSampleServer = service;
    };
    //sets the reference based on the global reference ID
    //also sets the split values in the subscribe by calling calculateComputedValues()
    GlobalReferenceService.prototype.setReference = function () {
        var _this = this;
        this.apiReferenceServer.getCalculationBySample(this.referenceId).subscribe(function (result) {
            _this.reference = _this.orderResult(result);
            _this.filter(_this.reference);
            _this.setData();
        });
    };
    GlobalReferenceService.prototype.setReferenceKrw = function () {
        var _this = this;
        this.apiReferenceServer.getByWatertype(this.krwId).subscribe(function (result) {
            _this.apiReferenceServer.getCalculationBySample(result.id).subscribe(function (result) {
                _this.reference = _this.orderResult(result);
                _this.filter(_this.reference);
                _this.setDataSplit();
            });
        });
    };
    //calculates the data from the reference or filterd refList
    GlobalReferenceService.prototype.calculateComputedValues = function (data, valueMapper) {
        //set mapper to 0
        var wew_classes = data[0].wewValue.length;
        for (var i = 1; i < wew_classes + 1; i++) {
            valueMapper.set(i, new _models_wewValue_model__WEBPACK_IMPORTED_MODULE_1__["WewValueCalc"](0, 0));
        }
        data.forEach(function (x) {
            x.wewValue.forEach(function (x) {
                if (x.value != null) {
                    var previousValue = valueMapper.get(x.factor_class_id);
                    valueMapper.set(x.factor_class_id, new _models_wewValue_model__WEBPACK_IMPORTED_MODULE_1__["WewValueCalc"](previousValue.value + x.value, previousValue.times + 1));
                }
            });
        });
    };
    GlobalReferenceService.prototype.setData = function () {
        var dataRef = this.createData(this.valueMapperRef, 'Reference');
        var dataSample = this.createData(this.valueMapperSample, 'Sample');
        dataSample.forEach(function (entry) {
            dataRef.push(entry);
        });
        this.barChartData = dataRef;
        this.done();
    };
    //filters the data based on the vars set in the filterbar.
    GlobalReferenceService.prototype.filter = function (data) {
        if (this.eutro_checked === true) {
            if (this.eutro_3_checked === true) {
                console.log("Eutro +3 filter");
                var filter = function (data) { return data.filter(function (calculation) { return calculation.taxon.eutrofieringBelasting === 3; }); };
                data = filter(data);
            }
            else {
                console.log("Eutro waarden filter");
                var filter = function (data) { return data.filter(function (calculation) { return calculation.taxon.eutrofieringBelasting != null; }); };
                data = filter(data);
            }
        }
        if (this.hydro_checked === true) {
            if (this.hydro_3_checked === true) {
                console.log("Hydro +3 filter");
                var filter = function (data) { return data.filter(function (calculation) { return calculation.taxon.hydrologischeVerstoring && calculation.taxon.morfologischeVerstoring === 3; }); };
                data = filter(data);
            }
            else {
                console.log("Hydro waarden filter");
                var filter = function (data) { return data.filter(function (calculation) { return calculation.taxon.hydrologischeVerstoring && calculation.taxon.morfologischeVerstoring != null; }); };
                data = filter(data);
            }
        }
        this.calculateComputedValues(data, this.valueMapperRef); // Used to calculate the values
    };
    GlobalReferenceService.prototype.createData = function (valueMapper, type) {
        var _this = this;
        var newData = [];
        var pos = 0;
        this.barChartLabels.length = 0;
        this.factors.forEach(function (entry) {
            _this.barChartLabels.push(entry.name);
            entry.classes.forEach(function (clas) {
                var data = [];
                for (var i = 0; i < pos; i++) {
                    data.push(0);
                }
                var wew = valueMapper.get(clas.id);
                data.push((wew.value / wew.times).toFixed(2));
                newData.push({ data: data, label: clas.description, stack: type });
            });
            pos++;
        });
        return newData;
    };
    GlobalReferenceService.prototype.createDataSplitRef = function (valueMapper) {
        var _this = this;
        this.barChartDataList.length = 0;
        this.barChartLabels = ['ref'];
        this.factors.forEach(function (entry) {
            var newData = [];
            var newColor = [];
            var color = 0;
            entry.classes.forEach(function (clas) {
                var data = [];
                var wew = valueMapper.get(clas.id);
                newColor.push({ backgroundColor: _this.pallete.colorAt(color) });
                data.push((wew.value / wew.times).toFixed(2));
                newData.push({ data: data, label: clas.description });
                color++;
            });
            _this.barChartDataList.push(newData);
            _this.barChartColorsList.push(newColor);
        });
    };
    GlobalReferenceService.prototype.doFilter = function () {
        if (this.reference != null) {
            this.filter(this.reference);
            if (this.referenceId !== 0) {
                this.setData();
            }
            else {
                this.setDataSplit();
            }
        }
    };
    GlobalReferenceService.prototype.getWewFactor = function () {
        var _this = this;
        this.apiWewService.getFactors().subscribe(function (result) {
            _this.factors = result;
            _this.setColorWew(result);
            _this.setColorWew(result);
        });
    };
    GlobalReferenceService.prototype.setColorWew = function (factors) {
        var _this = this;
        var test = 0;
        factors.forEach(function (entry) {
            var pos = 0;
            entry.classes.forEach(function (clas) {
                _this.barChartColors.push({ backgroundColor: _this.pallete.colorAt(pos) });
                pos++;
                test++;
            });
        });
    };
    GlobalReferenceService.prototype.setSampleById = function (id) {
        this.finished = false;
        if (this.sample == null || this.sampleId !== id) {
            this.sampleId = id;
            this.setSample();
        }
        else {
            this.calculateComputedValues(this.sample, this.valueMapperSample);
        }
    };
    GlobalReferenceService.prototype.setSample = function () {
        var _this = this;
        this.apiSampleServer.getCalculationBySample(this.sampleId).subscribe(function (result) {
            _this.sample = _this.orderResult(result);
            _this.calculateComputedValues(_this.sample, _this.valueMapperSample);
            _this.setData();
        });
    };
    GlobalReferenceService.prototype.done = function () {
        if (this.reference.length != 0 && this.sample.length != 0) {
            this.finished = true;
            console.log('done loading!');
        }
    };
    GlobalReferenceService.prototype.orderResult = function (result) {
        var order_sampleList = [];
        result.taxon.forEach(function (taxon) {
            var valueList = [];
            result.wewValue.forEach(function (wew) {
                if (wew.taxon_id == taxon.id) {
                    valueList.push(wew);
                }
            });
            order_sampleList.push(new _models_wew_model__WEBPACK_IMPORTED_MODULE_0__["CalculationSampleOrder"](1, taxon, valueList));
        });
        return order_sampleList;
    };
    GlobalReferenceService.prototype.addSample = function (id) {
        var _this = this;
        this.finished = false;
        var sampleMap = new Map();
        this.apiSampleServer.getCalculationBySample(id).subscribe(function (result) {
            _this.calculateComputedValues(_this.orderResult(result), sampleMap);
            _this.valueMapperList.push(sampleMap);
            _this.setDataSplit();
        });
    };
    GlobalReferenceService.prototype.addSamples = function (ids) {
        var _this = this;
        this.finished = false;
        this.expected = ids.length;
        ids.forEach(function (id) {
            var sampleMap = new Map();
            _this.apiSampleServer.getCalculationBySample(id).subscribe(function (result) {
                _this.calculateComputedValues(_this.orderResult(result), sampleMap);
                _this.valueMapperList.push(sampleMap);
                _this.setDataSplit();
            });
        });
    };
    GlobalReferenceService.prototype.setDataSplit = function () {
        this.createDataSplitRef(this.valueMapperRef);
        this.createDataSplitSample(this.valueMapperList);
        this.doneSplit();
    };
    GlobalReferenceService.prototype.doneSplit = function () {
        if (this.reference.length > 0 && this.valueMapperList.length >= this.expected) {
            this.finished = true;
            console.log('done loading!');
        }
    };
    GlobalReferenceService.prototype.createDataSplitSample = function (valueMapperList) {
        var _this = this;
        this.finished = false;
        var name = 1;
        valueMapperList.forEach(function (map) {
            _this.barChartLabels.push(name);
            var pos = 0;
            _this.factors.forEach(function (factor) {
                var color = 0;
                var newData = [];
                // let newColor:any[] = [];
                factor.classes.forEach(function (clas) {
                    var data = [];
                    for (var i = 0; i < name; i++) {
                        data.push(0);
                    }
                    var wew = map.get(clas.id);
                    // newColor.push({backgroundColor: this.pallete.colorAt(color)});
                    data.push((wew.value / wew.times).toFixed(2));
                    _this.barChartColorsList[pos].push({ backgroundColor: _this.pallete.colorAt(color) });
                    var clone = JSON.parse(JSON.stringify(_this.barChartDataList[pos]));
                    clone.push({ data: data, label: clas.description });
                    _this.barChartDataList[pos] = clone;
                    color++;
                });
                pos++;
                // this.barChartDataList[0].push(newData);
            });
            name++;
        });
    };
    GlobalReferenceService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])()
    ], GlobalReferenceService);
    return GlobalReferenceService;
}());



/***/ }),

/***/ "./src/app/services/palette.ts":
/*!*************************************!*\
  !*** ./src/app/services/palette.ts ***!
  \*************************************/
/*! exports provided: Palette, RandomPalette, HuePalette, SaturationPalette, LightnessPalette, PastelPalette, DarkPalette, PlainPalette, BrightPalette, MaterialPalette */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Palette", function() { return Palette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RandomPalette", function() { return RandomPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HuePalette", function() { return HuePalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaturationPalette", function() { return SaturationPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LightnessPalette", function() { return LightnessPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PastelPalette", function() { return PastelPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DarkPalette", function() { return DarkPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlainPalette", function() { return PlainPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrightPalette", function() { return BrightPalette; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaterialPalette", function() { return MaterialPalette; });
/* harmony import */ var _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../waterscan-frontend/src/app/services/color */ "./src/app/services/color.ts");
/* harmony import */ var _waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../waterscan-frontend/src/app/services/arrayUtils */ "./src/app/services/arrayUtils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


//A palette is a list of HSL or RGB colors
var Palette = /** @class */ (function () {
    function Palette(loop) {
        this.loop = loop == null ? true : loop;
    }
    Object.defineProperty(Palette.prototype, "colors", {
        get: function () {
            return this.currentColors;
        },
        set: function (colors) {
            this.originalColors = colors;
            this.currentColors = colors;
        },
        enumerable: true,
        configurable: true
    });
    //Reset color array to before any transformations
    Palette.prototype.reset = function () {
        this.currentColors = this.originalColors.slice();
    };
    //Make copy of palette
    Palette.prototype.clone = function () {
        var cloneObj = Object.create(this);
        cloneObj.originalColors = this.originalColors.map(function (color) { return color.asHSL(); });
        cloneObj.currentColors = this.currentColors.map(function (color) { return color.asHSL(); });
        return cloneObj;
    };
    //When loop is off, index must be smaller than colors.length
    Palette.prototype.colorAt = function (index) {
        return this.loop ? this.colors[index % this.colors.length] : this.colors[index];
    };
    //Rotate the color palette
    Palette.prototype.rotate = function (amount) {
        if (!amount)
            amount = Math.floor(Math.random() * this.colors.length);
        this.colors = Object(_waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_1__["rotate"])(this.colors, amount);
        return this;
    };
    //Shifts values within the palette apart from each other
    Palette.prototype.shift = function (amount) {
        if (!amount)
            amount = Math.round(Math.pow(this.colors.length, .5)) + 1;
        this.colors = Object(_waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_1__["rotateParts"])(this.colors, amount);
        return this;
    };
    //Reverses the order of colors in the palete
    Palette.prototype.reverse = function () {
        this.colors.reverse();
        return this;
    };
    //Randomizes the order of the palette
    Palette.prototype.randomize = function () {
        Object(_waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_1__["shuffle"])(this.colors);
        return this;
    };
    //Changes every color in the filter
    Palette.prototype.transform = function (hue, saturation, lightness) {
        this.colors = this.colors.map(function (color) {
            var c = color.asHSL();
            c.hue = Math.max(Math.min(c.hue + hue, 1), 0);
            c.saturation = Math.max(Math.min(c.saturation + saturation, 1), 0);
            c.lightness = Math.max(Math.min(c.lightness + lightness, 1), 0);
            return c;
        });
        return this;
    };
    return Palette;
}());

//A completely random color is given every time colorAt() is used
var RandomPalette = /** @class */ (function (_super) {
    __extends(RandomPalette, _super);
    function RandomPalette() {
        var _this = _super.call(this, false) || this;
        _this.colors = [];
        return _this;
    }
    RandomPalette.prototype.colorAt = function (index) {
        return new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["HSL"](Math.floor(Math.random() * 360), Math.round(Math.random() * 100), Math.round(Math.random() * 100));
    };
    return RandomPalette;
}(Palette));

//A palette with different hues, but the saturation and lightness are set in the constructor
//The first parameter of the constructor determines how many colors there are in the palette
//A higher number means more different colors, but the colors will be more difficult to tell apart
var HuePalette = /** @class */ (function (_super) {
    __extends(HuePalette, _super);
    function HuePalette(howManyColors, saturation, lightness, loop) {
        var _this = _super.call(this, loop) || this;
        var hues = new Array(howManyColors).fill(0).map(function (v, index) { return 1 / howManyColors * index; });
        _this.colors = hues.map(function (hue) { return new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["HSL"](hue, saturation, lightness); });
        return _this;
    }
    return HuePalette;
}(Palette));

//A palette with different saturations, but the hue and lightness are set in the constructor
var SaturationPalette = /** @class */ (function (_super) {
    __extends(SaturationPalette, _super);
    function SaturationPalette(howManyColors, hue, lightness, loop) {
        var _this = _super.call(this, loop) || this;
        var saturations = new Array(howManyColors).fill(0).map(function (v, index) { return 1 / howManyColors * index; });
        _this.colors = saturations.map(function (saturation) { return new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["HSL"](hue, saturation, lightness); });
        return _this;
    }
    return SaturationPalette;
}(Palette));

//A palette with different lightnesses, but the hue and saturation are set in the constructor
var LightnessPalette = /** @class */ (function (_super) {
    __extends(LightnessPalette, _super);
    function LightnessPalette(howManyColors, hue, saturation, loop) {
        var _this = _super.call(this, loop) || this;
        var lightnesses = new Array(howManyColors).fill(0).map(function (v, index) { return 1 / howManyColors * index; });
        _this.colors = lightnesses.map(function (lightness) { return new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["HSL"](hue, saturation, lightness); });
        return _this;
    }
    return LightnessPalette;
}(Palette));

//A palette of pastel colors
var PastelPalette = /** @class */ (function (_super) {
    __extends(PastelPalette, _super);
    function PastelPalette(howManyColors, loop) {
        return _super.call(this, howManyColors, 1, .8, loop) || this;
    }
    return PastelPalette;
}(HuePalette));

//Dark colors
var DarkPalette = /** @class */ (function (_super) {
    __extends(DarkPalette, _super);
    function DarkPalette(howManyColors, loop) {
        return _super.call(this, howManyColors, 1, .2, loop) || this;
    }
    return DarkPalette;
}(HuePalette));

//Colors with saturation and lightness at 50%
var PlainPalette = /** @class */ (function (_super) {
    __extends(PlainPalette, _super);
    function PlainPalette(howManyColors, loop) {
        return _super.call(this, howManyColors, .5, .5, loop) || this;
    }
    return PlainPalette;
}(HuePalette));

//Bright colors
var BrightPalette = /** @class */ (function (_super) {
    __extends(BrightPalette, _super);
    function BrightPalette(howManyColors, loop) {
        return _super.call(this, howManyColors, 1, .5, loop) || this;
    }
    return BrightPalette;
}(HuePalette));

//Colors from https://material.io/guidelines/style/color.html#color-color-palette
var MaterialPalette = /** @class */ (function (_super) {
    __extends(MaterialPalette, _super);
    function MaterialPalette(loop) {
        var _this = _super.call(this, loop) || this;
        _this.colors = [
            new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](244, 67, 54), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](233, 30, 99), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](156, 39, 176), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](103, 58, 183),
            new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](63, 81, 181), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](33, 150, 243), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](0, 188, 212), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](0, 150, 136),
            new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](76, 175, 80), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](139, 195, 74), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](205, 220, 57), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](255, 235, 59),
            new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](255, 152, 0), new _waterscan_frontend_src_app_services_color__WEBPACK_IMPORTED_MODULE_0__["RGB"](255, 87, 34)
        ];
        return _this;
    }
    return MaterialPalette;
}(Palette));



/***/ }),

/***/ "./src/app/sidenav/sidenav.component.css":
/*!***********************************************!*\
  !*** ./src/app/sidenav/sidenav.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host >>> .mat-nav-list .mat-list-item .mat-list-item-content{\r\n  height: 100%;\r\n  padding: 1rem;\r\n}\r\n\r\n:host >>> .mat-nav-list .mat-list-item-content:hover{\r\n  background: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.mat-nav-list .mat-list-item{\r\n  color: #fff;\r\n}\r\n\r\n.mat-divider{\r\n  border-top-color: rgba(255,255,255,.2);\r\n}\r\n\r\n.logo-field {\r\n  height: 135px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/sidenav/sidenav.component.html":
/*!************************************************!*\
  !*** ./src/app/sidenav/sidenav.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-nav-list>\r\n  <!-- Logo that links to home -->\r\n  <div class=\"nav-header\">\r\n    <div class=\"logo-field\">\r\n      <a mat-list-item routerLink=\"/\" class=\"logo\"><img src=\"/assets/logo.svg\"></a>\r\n    </div>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n\r\n  <!-- Menu items for guests only -->\r\n  <div *ngIf=\"!authenticationService.isLoggedIn()\">\r\n    <a mat-list-item routerLink=\"/login\">Login</a>\r\n  </div>\r\n\r\n  <!-- Menu items for users only -->\r\n  <div *ngIf=\"authenticationService.isLoggedIn()\">\r\n    <a mat-list-item routerLink=\"/map\">Landkaart</a>\r\n    <a mat-list-item routerLink=\"/data\">Algemene data</a>\r\n    <a mat-list-item routerLink=\"/sample/compare\">Monsters vergelijken</a>\r\n    <a mat-list-item routerLink=\"/sample/upload\">Uploaden monster</a>\r\n    <mat-divider></mat-divider>\r\n    <a mat-list-item routerLink=\"/account\">Account aanpassen</a>\r\n    <a mat-list-item routerLink=\"/help\">Hulp en contact</a>\r\n  </div>\r\n\r\n  <!-- Menu items for admins only -->\r\n  <div *ngIf=\"authenticationService.isAdmin()\">\r\n    <mat-divider></mat-divider>\r\n    <a mat-list-item routerLink=\"/wew/upload\">WEW-lijst importeren</a>\r\n    <a mat-list-item routerLink=\"/taxon/import\">Taxon-lijst importeren</a>\r\n    <a mat-list-item routerLink=\"/taxon/group\">Taxongroepen beheren</a>\r\n    <a mat-list-item routerLink=\"/reference/list\">Referenties beheren</a>\r\n    <mat-divider></mat-divider>\r\n    <a mat-list-item routerLink=\"/admin/create-account\">Accounts beheren</a>\r\n  </div>\r\n</mat-nav-list>\r\n"

/***/ }),

/***/ "./src/app/sidenav/sidenav.component.ts":
/*!**********************************************!*\
  !*** ./src/app/sidenav/sidenav.component.ts ***!
  \**********************************************/
/*! exports provided: SidenavComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidenavComponent", function() { return SidenavComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var app_services_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/services/auth.service */ "./src/app/services/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SidenavComponent = /** @class */ (function () {
    function SidenavComponent(authenticationService) {
        this.authenticationService = authenticationService;
    }
    SidenavComponent.prototype.ngOnInit = function () {
    };
    SidenavComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-navigatie',
            template: __webpack_require__(/*! ./sidenav.component.html */ "./src/app/sidenav/sidenav.component.html"),
            providers: [app_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthenticationService"]],
            styles: [__webpack_require__(/*! ./sidenav.component.css */ "./src/app/sidenav/sidenav.component.css")]
        }),
        __metadata("design:paramtypes", [app_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthenticationService"]])
    ], SidenavComponent);
    return SidenavComponent;
}());



/***/ }),

/***/ "./src/app/taxon/taxon-import-structure/taxon-import-structure.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/taxon/taxon-import-structure/taxon-import-structure.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".taxonList{\r\n  padding:0;\r\n}\r\n:host >>> ul{\r\n  padding:0 2em;\r\n}\r\n.taxonList li,:host >>> li{\r\n  list-style-type:none;\r\n}\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-import-structure/taxon-import-structure.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/taxon/taxon-import-structure/taxon-import-structure.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>Importeer soorten structuur</mat-card-title>\r\n</mat-card>\r\n\r\n<!-- ToDo: handle errors nicely -->\r\n<mat-card *ngIf=\"state=='error'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Error</mat-card-title>\r\n  <mat-card-content>{{errors|json}}</mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Loading card -->\r\n<mat-card *ngIf=\"state=='loading'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Laden...</mat-card-title>\r\n  <mat-card-content>\r\n    <mat-spinner></mat-spinner>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Start -->\r\n<mat-card *ngIf=\"state=='start'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Upload soorten structuur (XLS)</mat-card-title>\r\n  <mat-card-content>\r\n    <input type=\"file\" (change)=\"fileChange($event)\"/>\r\n    <p>\r\n      Het bestand dient de volgende kolommen te hebben: taxonname, taxongroup, taxonlevel, parentname, refername.\r\n    </p>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Finished, or not? -->\r\n<mat-card *ngIf=\"state=='finished'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimatone($event)\">\r\n  <mat-card-title>Klaar</mat-card-title>\r\n  <mat-card-content>\r\n    Alle taxonIds zijn opgeslagen.\r\n    ToDo: knop naar view\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-import-structure/taxon-import-structure.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/taxon/taxon-import-structure/taxon-import-structure.component.ts ***!
  \**********************************************************************************/
/*! exports provided: TaxonImportStructureComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonImportStructureComponent", function() { return TaxonImportStructureComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
/* harmony import */ var _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/taxon.model */ "./src/app/models/taxon.model.ts");
/* harmony import */ var _waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../waterscan-frontend/src/app/services/arrayUtils */ "./src/app/services/arrayUtils.ts");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! xlsx */ "./node_modules/xlsx/xlsx.js");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_5__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TaxonImportStructureComponent = /** @class */ (function () {
    function TaxonImportStructureComponent(taxonApi) {
        var _this = this;
        this.taxonApi = taxonApi;
        //The state of the import process
        this.state = 'start';
        //Any errors that happen during the process
        this.errors = [];
        //Retrieve known taxon groups and levels
        this.groupPr = new Promise(function (resolve, reject) { return _this.taxonApi.getGroups().subscribe(function (groups) { return resolve(groups); }, function (err) { return reject(err); }); });
        this.levelPr = new Promise(function (resolve, reject) { return _this.taxonApi.getLevels().subscribe(function (levels) { return resolve(levels); }, function (err) { return reject(err); }); });
    }
    TaxonImportStructureComponent.prototype.ngOnInit = function () { };
    //Set the state of the importing process
    TaxonImportStructureComponent.prototype.setState = function (state) {
        this.state = 'anim';
        this.nextState = state;
    };
    //Go to the next state when the :leave animation finishes
    TaxonImportStructureComponent.prototype.mainCardAnimDone = function ($event) {
        if ($event.toState === 'void') {
            this.state = this.nextState;
        }
    };
    //ToDo: improve error handling
    //Right now we just print the array as json on the page
    TaxonImportStructureComponent.prototype.handleError = function () {
        var error = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            error[_i] = arguments[_i];
        }
        this.setState('error');
        this.errors.push(error);
    };
    //A file is choses from the upload page
    TaxonImportStructureComponent.prototype.fileChange = function ($event) {
        this.setState('loading');
        var files = $event.target.files;
        var file = files.item(0);
        this.importFile(file);
    };
    //Take care of the whole importing process
    TaxonImportStructureComponent.prototype.importFile = function (file) {
        var _this = this;
        this.handleFile(file)
            .then(function (wb) { return _this.handleWorkBook(wb); })
            .then(function (_a) {
            var taxonIds = _a.taxonIds, parentMap = _a.parentMap, referMap = _a.referMap;
            return _this.saveTaxa(taxonIds, parentMap, referMap);
        });
    };
    //Reads and parses the file and turns it into a workbook
    TaxonImportStructureComponent.prototype.handleFile = function (file) {
        //Require by XLSX when using readAsArrayBuffer
        function fixdata(data) {
            var o = "", l = 0, w = 10240;
            for (; l < data.byteLength / w; ++l)
                o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w, l * w + w)));
            o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)));
            return o;
        }
        //Resolves when the file is parsed and available as XLSX.WorkBook
        return new Promise(function (resolve, reject) {
            var reader = new FileReader();
            var name = file.name;
            reader.onload = function (e) {
                setTimeout(function () {
                    var data = e.target.result;
                    var arr = fixdata(data);
                    var workbook = xlsx__WEBPACK_IMPORTED_MODULE_5__["read"](btoa(arr), { type: 'base64' });
                    resolve(workbook);
                });
            };
            reader.onerror = function (e) {
                reject(e);
            };
            reader.readAsArrayBuffer(file);
        });
    };
    //Start work on the workbook once XLSX has parsed the file
    TaxonImportStructureComponent.prototype.handleWorkBook = function (wb) {
        var _this = this;
        //Get the first sheet from the workbook
        var sheet = wb.Sheets[wb.SheetNames[0]];
        //Turn the worksheet in a 2D array
        var rows = xlsx__WEBPACK_IMPORTED_MODULE_5__["utils"].sheet_to_json(sheet);
        //Trim spaces and make lower case
        rows.forEach(function (row) {
            row.taxonname = row.taxonname.trim().toLowerCase();
            row.taxongroup = row.taxongroup.trim();
            row.taxonlevel = row.taxonlevel.trim();
            row.parentname = row.parentname.trim().toLowerCase();
            row.refername = row.refername.trim().toLowerCase();
        });
        //Take care of the taxon groups and levels
        this.groupPr = this.groupPr.then(function (groups) { return _this.handleGroups(rows, groups); });
        this.levelPr = this.levelPr.then(function (levels) { return _this.handleLevels(rows, levels); });
        //Groups and levels are all saved and available
        //Turn rows into taxon objects
        return Promise.all([this.groupPr, this.levelPr])
            .then(function (_a) {
            var groups = _a[0], levels = _a[1];
            return _this.handleRows(rows, groups, levels);
        });
    };
    //Creates groups that don't exist yet
    TaxonImportStructureComponent.prototype.handleGroups = function (rows, groups) {
        var _this = this;
        //Existing groups
        var groupMap = new Map();
        groups.forEach(function (group) { return groupMap.set(group.code, group); });
        //New groups from the import
        var newGroups = rows.map(function (row) { return row.taxongroup; })
            .filter(_waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_4__["uniqueFilter"])
            .filter(function (code) { return code; })
            .filter(function (code) { return !groupMap.has(code); })
            .map(function (code) {
            var group = new _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["TaxonGroup"]();
            group.code = code;
            return group;
        });
        //Return groups array if no new ones are being imported
        if (!newGroups.length)
            return Promise.resolve(groups);
        //Save them and return a promise
        return new Promise(function (resolve, reject) {
            _this.taxonApi.saveGroups(newGroups).subscribe(function (newGroups) {
                resolve(groups.concat(newGroups));
            }, function (error) { return reject(error); });
        });
    };
    //Creates levels that don't exist yet
    TaxonImportStructureComponent.prototype.handleLevels = function (rows, levels) {
        var _this = this;
        //Existing levels
        var levelMap = new Map();
        levels.forEach(function (level) { return levelMap.set(level.name, level); });
        //New levels from the import
        var newLevels = rows.map(function (row) { return row.taxonlevel; })
            .filter(_waterscan_frontend_src_app_services_arrayUtils__WEBPACK_IMPORTED_MODULE_4__["uniqueFilter"])
            .filter(function (name) { return name; })
            .filter(function (name) { return !levelMap.has(name); })
            .map(function (name) {
            var level = new _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["TaxonLevel"]();
            level.name = name;
            return level;
        });
        //Return levels array if no new ones are being imported
        if (!newLevels.length)
            return Promise.resolve(levels);
        //Save them and return a promise
        return new Promise(function (resolve, reject) {
            _this.taxonApi.saveLevels(newLevels).subscribe(function (newLevels) {
                resolve(levels.concat(newLevels));
            }, function (error) { return reject(error); });
        });
    };
    //Turn the rows into objects that can be saved to the server
    TaxonImportStructureComponent.prototype.handleRows = function (rows, groups, levels) {
        //Map taxon names to their objects
        var taxonRowMap = new Map();
        rows.forEach(function (row) { return taxonRowMap.set(row.taxonname, row); });
        //Easy lookup for groups and levels
        var groupMap = new Map();
        var levelMap = new Map();
        groups.forEach(function (group) { return groupMap.set(group.code, group); });
        levels.forEach(function (level) { return levelMap.set(level.name, level); });
        //Store parent and refer relations for after stuff is saved, as we don't know the ids yet
        var parentMap = new Map();
        var referMap = new Map();
        //Create taxon objects
        var taxonIds = rows.map(function (row) {
            var taxon = new _models_taxon_model__WEBPACK_IMPORTED_MODULE_3__["Taxon"]();
            taxon.name = row.taxonname;
            if (row.taxongroup)
                taxon.groupId = groupMap.get(row.taxongroup).id;
            if (row.taxonlevel)
                taxon.levelId = levelMap.get(row.taxonlevel).id;
            //Store parents and refers for later
            if (row.parentname)
                parentMap.set(row.taxonname, row.parentname);
            if (row.refername)
                referMap.set(row.taxonname, row.refername);
            return taxon;
        });
        return { taxonIds: taxonIds, parentMap: parentMap, referMap: referMap };
    };
    TaxonImportStructureComponent.prototype.saveTaxa = function (taxonIds, parentMap, referMap) {
        var _this = this;
        this.taxonApi.saveMerge(taxonIds).subscribe(function (taxonIds) {
            //Create new lookup map
            var taxonNameMap = new Map();
            taxonIds.forEach(function (taxon) { return taxonNameMap.set(taxon.name, taxon); });
            //Set parent and refer relations
            var changed = [];
            taxonIds.forEach(function (taxon) {
                if (parentMap.has(taxon.name)) {
                    taxon.parentId = taxonNameMap.get(parentMap.get(taxon.name)).id;
                    changed.push(taxon);
                }
                else if (referMap.has(taxon.name)) {
                    taxon.referId = taxonNameMap.get(referMap.get(taxon.name)).id;
                    changed.push(taxon);
                }
            });
            //Save the changed ones
            _this.taxonApi.save(changed).subscribe(function (changed) {
                _this.setState('finished');
            });
        });
    };
    TaxonImportStructureComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-taxon-import-structure',
            providers: [_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_2__["ApiTaxonService"]],
            template: __webpack_require__(/*! ./taxon-import-structure.component.html */ "./src/app/taxon/taxon-import-structure/taxon-import-structure.component.html"),
            styles: [__webpack_require__(/*! ./taxon-import-structure.component.css */ "./src/app/taxon/taxon-import-structure/taxon-import-structure.component.css")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('mainCardAnim', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':enter', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('300ms 150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 }))]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':leave', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])('150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }))])
                ])
            ]
        }),
        __metadata("design:paramtypes", [_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_2__["ApiTaxonService"]])
    ], TaxonImportStructureComponent);
    return TaxonImportStructureComponent;
}());



/***/ }),

/***/ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups-edit.component.html":
/*!***********************************************************************************!*\
  !*** ./src/app/taxon/taxon-manage-groups/taxon-manage-groups-edit.component.html ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"group editing\">\r\n  <mat-card>\r\n    <mat-card-header>\r\n      <div mat-card-avatar>\r\n        <mat-icon *ngIf=\"group.icon\" class=\"taxon-icon\" fontSet=\"fi\"\r\n                 [fontIcon]=\"'flaticon-'+group.icon\"></mat-icon>\r\n        <span *ngIf=\"!group.icon\" class=\"taxon-icon\">?</span>\r\n      </div>\r\n      <mat-card-title>{{group.code}}</mat-card-title>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <div>\r\n        <div class=\"edit-label\">Icoon</div>\r\n        <mat-select [(ngModel)]=\"group.icon\">\r\n          <mat-option *ngFor=\"let icon of parent.icons\" [value]=\"icon\">\r\n            <span *ngIf=\"!icon\">?</span>\r\n            <mat-icon *ngIf=\"icon\" fontSet=\"fi\" [fontIcon]=\"'flaticon-'+icon\"></mat-icon>\r\n            {{icon}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </div>\r\n      <div>\r\n        <div class=\"edit-label\">Beschrijving</div>\r\n        <mat-form-field class=\"groupDescription\">\r\n          <input matInput [(ngModel)]=\"group.description\"/>\r\n        </mat-form-field>\r\n      </div>\r\n    </mat-card-content>\r\n    <mat-card-actions>\r\n      <button mat-button mat-dialog-close>\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n      <button mat-button mat-dialog-close (click)=\"save()\">\r\n        <mat-icon>check</mat-icon>\r\n      </button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".group{\r\n  display:inline-block;\r\n  width:320px;\r\n  margin:-20px -20px 0 0;\r\n}\r\n\r\n.group.editing{\r\n  width:350px;\r\n  margin:0;\r\n}\r\n\r\n.group.editing .mat-card{\r\n  box-shadow:none;\r\n  padding:0;\r\n  margin:0;\r\n}\r\n\r\n.groupDescription{\r\n  text-transform:capitalize;\r\n}\r\n\r\n.noName{\r\n  font-style:italic;\r\n}\r\n\r\n.taxon-icon{\r\n  border-radius:inherit;\r\n  text-align:center;\r\n  height:28px;\r\n  width:28px;\r\n  font-size:28px;\r\n  padding:4px 6px 8px 6px;\r\n  background:#EBEBEB;\r\n  color:#222;\r\n  display:inline-block;\r\n}\r\n\r\n.group md-card-actions{\r\n  text-align:right;\r\n}\r\n\r\n.group md-card-content{\r\n  margin-top:16px;\r\n}\r\n\r\n.edit-label{\r\n  display:inline-block;\r\n  width:100px;\r\n  font-weight:bold;\r\n}\r\n\r\n.mat-option .mat-icon{\r\n  font-size:26px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1>Taxon Groepen</h1>\r\n<div class=\"group\" *ngFor=\"let group of groups; index as index\">\r\n  <mat-card>\r\n    <mat-card-header>\r\n      <div mat-card-avatar>\r\n        <mat-icon *ngIf=\"group.icon\" class=\"taxon-icon\" fontSet=\"fi\"\r\n                 [fontIcon]=\"'flaticon-'+group.icon\"></mat-icon>\r\n        <span *ngIf=\"!group.icon\" class=\"taxon-icon\">?</span>\r\n      </div>\r\n      <mat-card-title>{{group.code}}</mat-card-title>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <p>\r\n        <span class=\"groupDescription\" [ngClass]=\"{noName:!group.description}\">{{group.description?group.description:'Geen naam'}}</span>\r\n      </p>\r\n    </mat-card-content>\r\n    <mat-card-actions>\r\n      <button mat-button (click)=\"edit(group)\">\r\n        <mat-icon>edit</mat-icon>\r\n      </button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.ts ***!
  \****************************************************************************/
/*! exports provided: TaxonManageGroupsComponent, TaxonManageGroupsEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonManageGroupsComponent", function() { return TaxonManageGroupsComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonManageGroupsEditComponent", function() { return TaxonManageGroupsEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var app_models_taxon_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/models/taxon.model */ "./src/app/models/taxon.model.ts");
/* harmony import */ var app_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var TaxonManageGroupsComponent = /** @class */ (function () {
    function TaxonManageGroupsComponent(taxonApi, dialog) {
        var _this = this;
        this.taxonApi = taxonApi;
        this.dialog = dialog;
        this.icons = [null, 'animals', 'animals-1', 'ant', 'ant-1', 'asparagus-beetle', 'bedbug', 'bee', 'big-mussel', 'big-shrimp', 'bug', 'bumblebee',
            'butterfly', 'butterfly-1', 'caterpillar', 'centipede', 'centipede-1', 'chrysomela', 'cicada', 'cockroach', 'cockroach-1', 'dragonfly',
            'dragonfly-1', 'dragonfly-hand-drawn-insect', 'earth-worm', 'earthworm-shape', 'firefly', 'fly', 'golden-ground-beetle', 'grasshopper',
            'hoverfly', 'insects', 'insects-1', 'ladybug', 'leaf-butterfly', 'leaf-insect', 'lobster', 'lobster-1', 'lobster-2', 'locust', 'louse',
            'madagascan', 'mite', 'mosquito', 'mosquito-1', 'mosquito-2', 'mosquito-3', 'mosquito-4', 'moth', 'mussel', 'opiliones', 'pollen-beetle',
            'pond-skater', 'psocoptera', 'pyrrhocoridae', 'red-soldier-beetle', 'sawfly', 'scorpio', 'shrimp', 'silverfish', 'snail', 'snail-1',
            'spider', 'spider-1', 'spider-black-widow', 'stag-beetle', 'stag-beetle-1', 'stick-insect', 'stone', 'strepsiptera', 'swamp-monster',
            'tarantula', 'termite', 'tree-lobster', 'tree-of-dots-foliage', 'wasp', 'wharf-borer', 'worm-facing-left', 'worm-outline-inside-a-circle'];
        taxonApi.getGroups().subscribe(function (groups) {
            groups.sort(function (a, b) { return a.code.localeCompare(b.code); });
            _this.groups = groups;
        });
    }
    TaxonManageGroupsComponent.prototype.ngOnInit = function () { };
    TaxonManageGroupsComponent.prototype.edit = function (group) {
        var dialogRef = this.dialog.open(TaxonManageGroupsEditComponent);
        dialogRef.componentInstance.parent = this;
        dialogRef.componentInstance.group = Object.assign(new app_models_taxon_model__WEBPACK_IMPORTED_MODULE_2__["TaxonGroup"](), group);
    };
    TaxonManageGroupsComponent.prototype.save = function (group) {
        var _this = this;
        this.groups.forEach(function (gr, index) {
            if (gr.id == group.id)
                _this.groups[index] = group;
        });
        this.taxonApi.saveGroups([group]).subscribe();
    };
    TaxonManageGroupsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-taxon-manage-groups',
            providers: [app_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"]],
            template: __webpack_require__(/*! ./taxon-manage-groups.component.html */ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.html"),
            styles: [__webpack_require__(/*! ./taxon-manage-groups.component.css */ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.css")]
        }),
        __metadata("design:paramtypes", [app_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], TaxonManageGroupsComponent);
    return TaxonManageGroupsComponent;
}());

var TaxonManageGroupsEditComponent = /** @class */ (function () {
    function TaxonManageGroupsEditComponent(dialogRef) {
        this.dialogRef = dialogRef;
    }
    TaxonManageGroupsEditComponent.prototype.save = function () {
        this.group.description = this.group.description.toLowerCase();
        this.parent.save(this.group);
    };
    TaxonManageGroupsEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-taxon-manage-groups-edit',
            template: __webpack_require__(/*! ./taxon-manage-groups-edit.component.html */ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups-edit.component.html"),
            styles: [__webpack_require__(/*! ./taxon-manage-groups.component.css */ "./src/app/taxon/taxon-manage-groups/taxon-manage-groups.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]])
    ], TaxonManageGroupsEditComponent);
    return TaxonManageGroupsEditComponent;
}());



/***/ }),

/***/ "./src/app/taxon/taxon-tree/taxon-tree.component.css":
/*!***********************************************************!*\
  !*** ./src/app/taxon/taxon-tree/taxon-tree.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".depthLines{\r\n  font-family:monospace;\r\n  white-space:pre;\r\n}\r\n\r\n.treeRow{\r\n  box-sizing:border-box;\r\n  height:22px;\r\n  font-size:22px;\r\n}\r\n\r\n.root .treeRowTaxon{\r\n  color:#800;\r\n  text-decoration:underline;\r\n}\r\n\r\n.treeRowTaxon{\r\n  font-family:sans-serif;\r\n  color:#333;\r\n  font-size:14px;\r\n  font-weight:bold;\r\n  position:relative;\r\n  top:-3px;\r\n  left:2px;\r\n}\r\n\r\n.referrer{\r\n  font-style:italic;\r\n  font-weight:normal;\r\n}\r\n\r\n.postfix{\r\n  color:#7B7F85;\r\n  font-size:12px;\r\n  font-style:italic;\r\n  font-weight:normal;\r\n}\r\n\r\n.root .postfix{\r\n  text-decoration:underline;\r\n}\r\n\r\n.taxonLink:link,.taxonLink:visited{\r\n  color:#333;\r\n  text-decoration:none;\r\n}\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-tree/taxon-tree.component.html":
/*!************************************************************!*\
  !*** ./src/app/taxon/taxon-tree/taxon-tree.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"tree\" [ngStyle]=\"{'height.px':treeRows.length*22}\">\r\n  <div class=\"treeRow\" *ngFor=\"let row of treeRows\" [ngClass]=\"{root:row.taxon===root}\">\r\n    <span class=\"depthLines\">{{row.depthLines}}</span>\r\n    <span class=\"treeRowTaxon\" [ngClass]=\"{referrer:row.isRefer}\">\r\n\t\t\t{{row.isRefer?'Referrer: ':''}}\r\n\t\t\t<a class=\"taxonLink\" [routerLink]=\"'/taxon/view/'+row.taxon.id\">{{row.taxon.name}}</a>\r\n\t\t\t<span class=\"postfix\">{{row.postfix}}</span>\r\n\t\t</span>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-tree/taxon-tree.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/taxon/taxon-tree/taxon-tree.component.ts ***!
  \**********************************************************/
/*! exports provided: TaxonTreeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonTreeComponent", function() { return TaxonTreeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_taxon_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/taxon.model */ "./src/app/models/taxon.model.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TaxonTreeComponent = /** @class */ (function () {
    function TaxonTreeComponent() {
    }
    TaxonTreeComponent.prototype.ngOnInit = function () {
        this.createTree();
    };
    TaxonTreeComponent.prototype.createTree = function () {
        //Create easy lookup maps
        var groupIdMap = new Map();
        var levelIdMap = new Map();
        var taxonIdMap = new Map();
        this.groups.forEach(function (group) { return groupIdMap.set(group.id, group); });
        this.levels.forEach(function (level) { return levelIdMap.set(level.id, level); });
        this.taxonIds.forEach(function (taxon) { return taxonIdMap.set(taxon.id, taxon); });
        //Create a hierarchy
        var taxonParentMap = new Map();
        var taxonReferMap = new Map();
        //Make empty arrays
        this.taxonIds.forEach(function (taxon) {
            taxonParentMap.set(taxon, []);
            taxonReferMap.set(taxon, []);
        });
        //Fill arrays
        this.taxonIds.filter(function (taxon) { return taxon.parentId; }).forEach(function (taxon) { return taxonParentMap.get(taxonIdMap.get(taxon.parentId)).push(taxon); });
        this.taxonIds.filter(function (taxon) { return taxon.referId; }).forEach(function (taxon) { return taxonReferMap.get(taxonIdMap.get(taxon.referId)).push(taxon); });
        //Only use the taxonIds we actually want to show
        var activeTaxa = [this.root];
        var firstTaxon = this.root;
        //Ancestors
        if (this.showAncestors && this.root.parentId) {
            var ancestor = taxonIdMap.get(this.root.parentId);
            while (ancestor) {
                activeTaxa.push(ancestor);
                ancestor = ancestor.parentId ? taxonIdMap.get(ancestor.parentId) : null;
            }
            //Store final ancestor to start the tree with
            firstTaxon = activeTaxa[activeTaxa.length - 1];
        }
        //Descendants
        if (this.showDescendants) {
            var lookingFor = [this.root];
            var _loop_1 = function () {
                var newLookingFor = [];
                lookingFor.forEach(function (taxon) {
                    var children = taxonParentMap.get(taxon);
                    if (children.length) {
                        newLookingFor.push.apply(newLookingFor, children);
                        activeTaxa.push.apply(activeTaxa, children);
                    }
                });
                lookingFor = newLookingFor;
            };
            while (lookingFor.length) {
                _loop_1();
            }
        }
        //Turn hierarchy into a list
        var treeRows = [];
        var addRecursive = function (list, taxon, depth, depthLines, lastChildOfParent) {
            if (!activeTaxa.includes(taxon))
                return;
            var postfix = [];
            if (taxon.groupId) {
                var group = groupIdMap.get(taxon.groupId);
                postfix.push(group.description ? group.description : group.code);
            }
            if (taxon.levelId)
                postfix.push(levelIdMap.get(taxon.levelId).name);
            list.push({
                taxon: taxon,
                depth: depth,
                isRefer: !!taxon.referId,
                postfix: postfix.length ? '(' + postfix.join(', ') + ')' : '',
                depthLines: depth ? depthLines + (lastChildOfParent ? ' ââ' : ' ââ') : ''
            });
            if (depth)
                depthLines += lastChildOfParent ? '   ' : ' â ';
            taxonReferMap.get(taxon).forEach(function (taxon, index, array) { return addRecursive(list, taxon, depth + 1, depthLines, index === array.length - 1); });
            taxonParentMap.get(taxon).forEach(function (taxon, index, array) { return addRecursive(list, taxon, depth + 1, depthLines, index === array.length - 1); });
        };
        addRecursive(treeRows, firstTaxon, 0, '', false);
        this.treeRows = treeRows;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_taxon_model__WEBPACK_IMPORTED_MODULE_1__["Taxon"])
    ], TaxonTreeComponent.prototype, "root", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], TaxonTreeComponent.prototype, "taxonIds", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], TaxonTreeComponent.prototype, "groups", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], TaxonTreeComponent.prototype, "levels", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], TaxonTreeComponent.prototype, "showAncestors", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], TaxonTreeComponent.prototype, "showDescendants", void 0);
    TaxonTreeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-taxon-tree',
            template: __webpack_require__(/*! ./taxon-tree.component.html */ "./src/app/taxon/taxon-tree/taxon-tree.component.html"),
            styles: [__webpack_require__(/*! ./taxon-tree.component.css */ "./src/app/taxon/taxon-tree/taxon-tree.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], TaxonTreeComponent);
    return TaxonTreeComponent;
}());



/***/ }),

/***/ "./src/app/taxon/taxon-view/taxon-view.component.css":
/*!***********************************************************!*\
  !*** ./src/app/taxon/taxon-view/taxon-view.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".taxon-icon{\r\n  border-radius:50%;\r\n  text-align:center;\r\n  height:28px;\r\n  width:28px;\r\n  font-size:28px;\r\n  padding:4px 6px 8px 6px;\r\n  background:#EBEBEB;\r\n  color:#222;\r\n  display:inline-block;\r\n}\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-view/taxon-view.component.html":
/*!************************************************************!*\
  !*** ./src/app/taxon/taxon-view/taxon-view.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 *ngIf=\"!root\">Taxon bekijken</h1>\r\n<h1 *ngIf=\"root\">Taxon: {{root.name}}</h1>\r\n\r\n<!-- ToDo: handle errors nicely -->\r\n<mat-card *ngIf=\"state=='error'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimDone($event)\">\r\n  <mat-card-title>Error</mat-card-title>\r\n  <mat-card-content>{{errors|json}}</mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Loading card -->\r\n<mat-card *ngIf=\"state=='loading'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimDone($event)\">\r\n  <mat-card-title>Laden...</mat-card-title>\r\n  <mat-card-content>\r\n    <mat-spinner></mat-spinner>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Ready -->\r\n<div *ngIf=\"state=='ready'\" [@mainCardAnim] (@mainCardAnim.done)=\"mainCardAnimDone($event)\">\r\n  <!-- Family tree -->\r\n  <mat-card>\r\n    <mat-card-title>\r\n\t\t\t<span *ngIf=\"rootGroup && rootGroup.icon\">\r\n\t\t\t\t<mat-icon class=\"taxon-icon\" fontSet=\"fi\" [fontIcon]=\"'flaticon-'+rootGroup.icon\"></mat-icon>\r\n\t\t\t</span>\r\n      Taxon familie\r\n    </mat-card-title>\r\n    <mat-card-content>\r\n      <app-taxon-tree [groups]=\"groups\" [levels]=\"levels\" [taxonIds]=\"taxonIds\" [root]=\"root\"\r\n                      [showAncestors]=\"true\" [showDescendants]=\"true\"></app-taxon-tree>\r\n    </mat-card-content>\r\n  </mat-card>\r\n\r\n  <!-- WEW-info -->\r\n  <mat-card>\r\n    <mat-card-title>WEW gegevens</mat-card-title>\r\n    <mat-card-content>\r\n      <app-wew-bar-chart *ngIf=\"wewConfig\" [config]=\"wewConfig\"></app-wew-bar-chart>\r\n      <mat-spinner *ngIf=\"!wewConfig\"></mat-spinner>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/taxon/taxon-view/taxon-view.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/taxon/taxon-view/taxon-view.component.ts ***!
  \**********************************************************/
/*! exports provided: TaxonViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaxonViewComponent", function() { return TaxonViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var app_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var app_services_palette__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/services/palette */ "./src/app/services/palette.ts");
/* harmony import */ var _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/chart-entity.model */ "./src/app/models/chart-entity.model.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TaxonViewComponent = /** @class */ (function () {
    function TaxonViewComponent(taxonApi, wewApi, chartEntityManager, route) {
        var _this = this;
        this.taxonApi = taxonApi;
        this.wewApi = wewApi;
        this.chartEntityManager = chartEntityManager;
        this.route = route;
        //The state of the import process
        this.state = 'loading';
        //Any errors that happen during the process
        this.errors = [];
        this.groupsPr = taxonApi.getGroups().toPromise();
        this.groupsPr.then(function (groups) { return _this.groups = groups; });
        taxonApi.getLevels().subscribe(function (levels) { return _this.levels = levels; });
    }
    TaxonViewComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["map"])(function (params) { return parseInt(params.id); })).subscribe(function (id) {
            var familyPr = _this.taxonApi.getFamily(id).toPromise();
            familyPr.then(function (taxonIds) {
                _this.taxonIds = taxonIds;
                //The taxon this page is about
                _this.root = taxonIds.filter(function (taxon) { return taxon.id == id; })[0];
                //Find what group the root taxon is in
                _this.groupsPr.then(function (groups) {
                    groups.forEach(function (group) {
                        if (group.id === _this.root.groupId)
                            _this.rootGroup = group;
                    });
                });
                //The config for the wew chart
                _this.wewConfig = {
                    entities: [_this.chartEntityManager.createFromTaxon(_this.root, new app_services_palette__WEBPACK_IMPORTED_MODULE_5__["MaterialPalette"]().shift())]
                };
                _this.setState('ready');
            });
        });
    };
    //Set the state of the importing process
    TaxonViewComponent.prototype.setState = function (state) {
        this.state = 'anim';
        this.nextState = state;
    };
    //Go to the next state when the :leave animation finishes
    TaxonViewComponent.prototype.mainCardAnimDone = function ($event) {
        if ($event.toState === 'void') {
            this.state = this.nextState;
        }
    };
    //ToDo: improve error handling
    //Right now we just print the array as json on the page
    TaxonViewComponent.prototype.handleError = function () {
        var error = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            error[_i] = arguments[_i];
        }
        this.setState('error');
        this.errors.push(error);
    };
    TaxonViewComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-taxon-view',
            providers: [app_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"], _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__["ApiWewService"], _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_6__["ChartEntityManager"]],
            template: __webpack_require__(/*! ./taxon-view.component.html */ "./src/app/taxon/taxon-view/taxon-view.component.html"),
            styles: [__webpack_require__(/*! ./taxon-view.component.css */ "./src/app/taxon/taxon-view/taxon-view.component.css")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["trigger"])('mainCardAnim', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ opacity: 0 })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["transition"])(':enter', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["animate"])('300ms 150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ opacity: 1 }))]),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["transition"])(':leave', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["animate"])('150ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ opacity: 0 }))])
                ])
            ]
        }),
        __metadata("design:paramtypes", [app_services_api_taxon_service__WEBPACK_IMPORTED_MODULE_3__["ApiTaxonService"],
            _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__["ApiWewService"],
            _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_6__["ChartEntityManager"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], TaxonViewComponent);
    return TaxonViewComponent;
}());



/***/ }),

/***/ "./src/app/user/create-account/create-account.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/user/create-account/create-account.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>\r\n    Maak een nieuwe gebruiker aan\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"complexForm\" (ngSubmit)=\"submitForm(complexForm.value)\">\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"name\" [formControl]=\"complexForm.controls['name']\" placeholder=\"Naam\" required>\r\n      </mat-form-field>\r\n\r\n      <div *ngIf=\"complexForm.controls['name'].hasError('required') && complexForm.controls['name'].touched\"\r\n           class=\"alert alert-danger\">Vul een naam in.\r\n      </div>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"email\" placeholder=\"E-mail\" [formControl]=\"complexForm.controls['email']\" required>\r\n      </mat-form-field>\r\n\r\n      <div *ngIf=\"complexForm.controls['email'].hasError('required') && complexForm.controls['email'].touched\"\r\n           class=\"alert alert-danger\">Vul een email adres in.\r\n      </div>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"password\" placeholder=\"Wachtwoord\" type=\"password\"\r\n               [formControl]=\"complexForm.controls['password']\" required>\r\n      </mat-form-field>\r\n\r\n      <div *ngIf=\"complexForm.controls['password'].hasError('required') && complexForm.controls['password'].touched\"\r\n           class=\"alert alert-danger\">Vul een wachtwoord in.\r\n      </div>\r\n\r\n      <br><br><div>Rol *</div>\r\n      <p>\r\n        <mat-select name=\"group_id\" [formControl]=\"complexForm.controls['group_id']\" placeholder=\"Kies een rol...\">\r\n          <mat-option *ngFor=\"let rol of rollen\" [value]=\"rol.value\">\r\n            {{ rol.viewValue }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </p>\r\n      <div *ngIf=\"complexForm.controls['group_id'].hasError('required') && complexForm.controls['group_id'].touched\"\r\n           class=\"alert alert-danger\">Selecteer een rol.\r\n      </div><br>\r\n\r\n\r\n      <div>Waterschap *</div>\r\n      <p>\r\n        <mat-select name=\"waterschap_id\" [formControl]=\"complexForm.controls['waterschap_id']\"\r\n                   placeholder=\"Kies een waterschap...\">\r\n          <mat-option *ngFor=\"let waterschap of waterschappen\" [value]=\"waterschap.id\">\r\n            {{ waterschap.name }}\r\n          </mat-option>\r\n          <mat-option [value]=\"isNull\">\r\n            Maak een nieuw waterschap aan...\r\n          </mat-option>\r\n        </mat-select>\r\n      </p><br>\r\n      <p>\r\n        <button mat-raised-button type=\"submit\" [disabled]=\"!complexForm.valid\">Opslaan</button>\r\n      </p>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<mat-card *ngIf=\"complexForm.value.waterschap_id == undefined && complexForm.controls['waterschap_id'].touched\">\r\n  <mat-card-title>\r\n    Maak een nieuw waterschap aan\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"waterschapForm\" (ngSubmit)=\"submitWaterschapForm(waterschapForm.value)\">\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"name\" [formControl]=\"waterschapForm.controls['name']\"\r\n               placeholder=\"Waterschap naam\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"address\" [formControl]=\"waterschapForm.controls['address']\"\r\n               placeholder=\"Waterschap adres\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"houseNumber\" [formControl]=\"waterschapForm.controls['houseNumber']\"\r\n               placeholder=\"Waterschap huisnummer\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"zipCode\" [formControl]=\"waterschapForm.controls['zipCode']\"\r\n               placeholder=\"Waterschap postcode\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"location\" [formControl]=\"waterschapForm.controls['location']\"\r\n               placeholder=\"Waterschap locatie\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"phoneNumber\" [formControl]=\"waterschapForm.controls['phoneNumber']\"\r\n               placeholder=\"Waterschap telefoonnummer\">\r\n      </mat-form-field>\r\n      <p>\r\n        <button mat-raised-button type=\"submit\" [disabled]=\"!waterschapForm.valid\">Opslaan</button>\r\n      </p>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<mat-card>\r\n  <mat-card-title>Wachtwoord resetten</mat-card-title>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"passwordForm\" (ngSubmit)=\"resetPassword(passwordForm.value)\">\r\n    <mat-form-field class=\"full-width\">\r\n      <input matInput name=\"Email\" [formControl]=\"passwordForm.controls['email']\" placeholder=\"Email van gebruiker\">\r\n    </mat-form-field>\r\n      <p>\r\n        <button mat-raised-button type=\"submit\" [disabled]=\"!passwordForm.valid\">Reset</button>\r\n      </p>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/user/create-account/create-account.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/user/create-account/create-account.component.ts ***!
  \*****************************************************************/
/*! exports provided: CreateAccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateAccountComponent", function() { return CreateAccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_api_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.user.service */ "./src/app/services/api.user.service.ts");
/* harmony import */ var _models_user_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/user.model */ "./src/app/models/user.model.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/api.waterschap.service */ "./src/app/services/api.waterschap.service.ts");
/* harmony import */ var _models_waterschap_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/waterschap.model */ "./src/app/models/waterschap.model.ts");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sweetalert2 */ "./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_7__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateAccountComponent = /** @class */ (function () {
    function CreateAccountComponent(apiUser, route, apiWaterschap, fb) {
        this.isNull = null;
        this.rollen = [
            { value: 1, viewValue: 'Gebruiker' },
            { value: 2, viewValue: 'Administrator' },
            { value: 3, viewValue: 'Waterschap' }
        ];
        this.apiUser = apiUser;
        this.apiWaterschap = apiWaterschap;
        this.route = route;
        this.complexForm = fb.group({
            'name': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'email': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'password': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'group_id': [1, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'waterschap_id': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]
        });
        this.waterschapForm = fb.group({
            'name': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'address': [],
            'houseNumber': [],
            'zipCode': [],
            'location': [],
            'phoneNumber': [],
        });
        this.passwordForm = fb.group({
            'email': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]
        });
    }
    CreateAccountComponent.prototype.ngOnInit = function () {
        this.retrieveWaterschappen(false);
    };
    CreateAccountComponent.prototype.submitForm = function (value) {
        var _this = this;
        this.apiUser.createUser(_models_user_model__WEBPACK_IMPORTED_MODULE_3__["User"].fromJSON(value)).subscribe(function (data) {
            sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('', "Gebruiker " + data.name + " aangemaakt!", 'success');
            _this.resetForm();
        }, function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('Oops...', error.detailMessage, 'error'); });
    };
    CreateAccountComponent.prototype.resetForm = function () {
        this.complexForm.reset();
        this.complexForm.clearValidators();
    };
    CreateAccountComponent.prototype.submitWaterschapForm = function (value) {
        var _this = this;
        console.log(_models_waterschap_model__WEBPACK_IMPORTED_MODULE_6__["Waterschap"].fromJSON(value));
        this.apiWaterschap.save(_models_waterschap_model__WEBPACK_IMPORTED_MODULE_6__["Waterschap"].fromJSON(value)).subscribe(function (data) {
            sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('', "Waterschap " + data.name + " aangemaakt!", 'success');
            _this.resetWaterschapForm();
        }, function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('Oops...', error.detailMessage, 'error'); });
    };
    CreateAccountComponent.prototype.retrieveWaterschappen = function (selectLast) {
        var _this = this;
        this.apiWaterschap.getAll().subscribe(function (waterschappen) {
            _this.waterschappen = waterschappen;
            if (selectLast)
                _this.complexForm.patchValue({ 'waterschap_id': _this.waterschappen[_this.waterschappen.length - 1].id });
        }), function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('Oops...', error.detailMessage, 'error'); };
    };
    CreateAccountComponent.prototype.resetWaterschapForm = function () {
        this.waterschapForm.reset();
        this.retrieveWaterschappen(true);
    };
    CreateAccountComponent.prototype.resetPassword = function (user) {
        console.log(user);
        this.apiUser.resetPassword(user).subscribe(function (res) {
            return sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('', 'Wachtwoord is veranderd naar: ' + res['pin'], 'success');
        }), function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_7___default()('Oops...', error.detailMessage, 'error'); };
        this.passwordForm.reset();
    };
    CreateAccountComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            providers: [_services_api_user_service__WEBPACK_IMPORTED_MODULE_2__["ApiUserService"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_5__["ApiWaterschapService"]],
            selector: 'create-account-form',
            template: __webpack_require__(/*! ./create-account.component.html */ "./src/app/user/create-account/create-account.component.html")
        }),
        __metadata("design:paramtypes", [_services_api_user_service__WEBPACK_IMPORTED_MODULE_2__["ApiUserService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_5__["ApiWaterschapService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"]])
    ], CreateAccountComponent);
    return CreateAccountComponent;
}());



/***/ }),

/***/ "./src/app/user/edit-account/edit-account.component.css":
/*!**************************************************************!*\
  !*** ./src/app/user/edit-account/edit-account.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".editPasswordForm {\r\n  width: 50%;\r\n}\r\n.editPasswordField {\r\n  width: 49.75%;\r\n}\r\n"

/***/ }),

/***/ "./src/app/user/edit-account/edit-account.component.html":
/*!***************************************************************!*\
  !*** ./src/app/user/edit-account/edit-account.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card *ngIf=\"currentUser\">\r\n  <mat-card-title>\r\n    <span class=\"mat-headline\">Accountgegevens</span>\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"complexForm\" (ngSubmit)=\"editAccount(complexForm.value)\">\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"name\" [formControl]=\"complexForm.controls['name']\" placeholder=\"Naam\"\r\n               [(ngModel)]=\"currentUser.name\" required>\r\n      </mat-form-field>\r\n\r\n      <div *ngIf=\"complexForm.controls['name'].hasError('required') && complexForm.controls['name'].touched\"\r\n           class=\"alert alert-danger\">Vul een gebruikersnaam in.\r\n      </div>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"email\" placeholder=\"E-mail\" [(ngModel)]=\"currentUser.email\"\r\n               [formControl]=\"complexForm.controls['email']\" required>\r\n      </mat-form-field>\r\n\r\n      <div *ngIf=\"complexForm.controls['email'].hasError('required') && complexForm.controls['email'].touched\"\r\n           class=\"alert alert-danger\">Vul een email adres in.\r\n      </div>\r\n\r\n      <p>\r\n        <button mat-raised-button type=\"submit\" [disabled]=\"!complexForm.valid\">Aanpassen</button>\r\n      </p>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n<mat-card>\r\n  <mat-card-title>\r\n    <span class=\"mat-headline\">Wachtwoord aanpassen</span>\r\n  </mat-card-title>\r\n  <form (ngSubmit)=\"editPassword()\">\r\n    <mat-card-content>\r\n      <div class=\"editPasswordForm\">\r\n        <mat-form-field class=\"full-width\">\r\n          <input matInput type=\"password\" placeholder=\"Oud Wachtwoord\" name=\"oldPassword\"\r\n                 [(ngModel)]=\"model.oldPassword\" required>\r\n        </mat-form-field>\r\n        <section layout=\"row\">\r\n          <mat-form-field class=\"editPasswordField\">\r\n            <input matInput type=\"password\" placeholder=\"Nieuw Wachtwoord\" name=\"newPassword\"\r\n                   [(ngModel)]=\"model.newPassword\" required>\r\n          </mat-form-field>\r\n          <mat-form-field class=\"editPasswordField\">\r\n            <input matInput type=\"password\" placeholder=\"Bevestig Nieuw Wachtwoord\" name=\"confirmPassword\"\r\n                   [(ngModel)]=\"model.confirmPassword\" required>\r\n          </mat-form-field>\r\n        </section>\r\n        <button type=\"submit\" mat-raised-button>Aanpassen</button>\r\n      </div>\r\n    </mat-card-content>\r\n  </form>\r\n</mat-card>\r\n<mat-card *ngIf=\"waterschap\">\r\n  <mat-card-title>\r\n    Waterschap gegevens\r\n  </mat-card-title>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"waterschapForm\" (ngSubmit)=\"submitWaterschapForm(waterschapForm.value)\">\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"name\" [(ngModel)]=\"waterschap.name\" [formControl]=\"waterschapForm.controls['name']\"\r\n               placeholder=\"Waterschap naam\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"address\" [(ngModel)]=\"waterschap.address\"\r\n               [formControl]=\"waterschapForm.controls['address']\" placeholder=\"Waterschap adres\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"houseNumber\" [(ngModel)]=\"waterschap.houseNumber\"\r\n               [formControl]=\"waterschapForm.controls['houseNumber']\" placeholder=\"Waterschap huisnummer\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"zipCode\" [(ngModel)]=\"waterschap.zipCode\"\r\n               [formControl]=\"waterschapForm.controls['zipCode']\" placeholder=\"Waterschap postcode\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"location\" [(ngModel)]=\"waterschap.location\"\r\n               [formControl]=\"waterschapForm.controls['location']\" placeholder=\"Waterschap locatie\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"full-width\">\r\n        <input matInput name=\"phoneNumber\" [(ngModel)]=\"waterschap.phoneNumber\"\r\n               [formControl]=\"waterschapForm.controls['phoneNumber']\" placeholder=\"Waterschap telefoonnummer\">\r\n      </mat-form-field>\r\n      <p>\r\n        <button mat-raised-button type=\"submit\" [disabled]=\"!waterschapForm.valid\">Aanpassen</button>\r\n      </p>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/user/edit-account/edit-account.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/user/edit-account/edit-account.component.ts ***!
  \*************************************************************/
/*! exports provided: EditAccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditAccountComponent", function() { return EditAccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var app_services_api_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/services/api.user.service */ "./src/app/services/api.user.service.ts");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sweetalert2 */ "./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var app_models_user_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/models/user.model */ "./src/app/models/user.model.ts");
/* harmony import */ var _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/api.waterschap.service */ "./src/app/services/api.waterschap.service.ts");
/* harmony import */ var _models_waterschap_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/waterschap.model */ "./src/app/models/waterschap.model.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EditAccountComponent = /** @class */ (function () {
    function EditAccountComponent(userService, fb, apiWaterschap, route) {
        this.model = {};
        this.userService = userService;
        this.apiWaterschap = apiWaterschap;
        this.complexForm = fb.group({
            'name': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'email': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]
        });
        this.waterschapForm = fb.group({
            'name': [null, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required],
            'address': [null],
            'houseNumber': [null],
            'zipCode': [null],
            'location': [null],
            'phoneNumber': [null],
        });
        this.route = route;
    }
    EditAccountComponent.prototype.resetForm = function () {
        this.complexForm.reset();
        this.complexForm.clearValidators();
    };
    EditAccountComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.getCurrentUser().subscribe(function (user) {
            _this.currentUser = user;
            if (user.waterschap_id != undefined)
                _this.retrieveWaterschap(user.waterschap_id);
        }, function (error) { return console.log(error); });
    };
    EditAccountComponent.prototype.editPassword = function () {
        this.userService.editPassword(this.model.oldPassword, this.model.newPassword, this.model.confirmPassword).subscribe(function () {
            sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('', "Wachtwoord aangepast!", 'success');
        }, function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('Oops...', error.detailMessage, 'error'); });
    };
    EditAccountComponent.prototype.editAccount = function () {
        this.userService.editUser(app_models_user_model__WEBPACK_IMPORTED_MODULE_5__["User"].fromJSON(this.currentUser)).subscribe(function (data) {
            sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('', "Gebruiker " + data.name + " aangepast!", 'success');
            // this.resetForm();
            // Ik zou geen resetform doen aangezien hij hem dan terug zet naar lege waardes in plaats van nieuwe waardes
        }, function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('Oops...', error.detailMessage, 'error'); });
    };
    EditAccountComponent.prototype.submitWaterschapForm = function () {
        this.apiWaterschap.save(_models_waterschap_model__WEBPACK_IMPORTED_MODULE_7__["Waterschap"].fromJSON(this.waterschap)).subscribe(function (data) {
            sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('', "Waterschap " + data.name + " gewijzigd!", 'success');
        }, function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('Oops...', error.detailMessage, 'error'); });
    };
    EditAccountComponent.prototype.retrieveWaterschap = function (id) {
        var _this = this;
        this.apiWaterschap.getById(id).subscribe(function (waterschap) {
            _this.waterschap = waterschap;
        }), function (error) { return sweetalert2__WEBPACK_IMPORTED_MODULE_3___default()('Oops...', error.detailMessage, 'error'); };
    };
    EditAccountComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            providers: [app_services_api_user_service__WEBPACK_IMPORTED_MODULE_2__["ApiUserService"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_6__["ApiWaterschapService"]],
            selector: 'app-edit-account',
            template: __webpack_require__(/*! ./edit-account.component.html */ "./src/app/user/edit-account/edit-account.component.html"),
            styles: [__webpack_require__(/*! ./edit-account.component.css */ "./src/app/user/edit-account/edit-account.component.css")]
        }),
        __metadata("design:paramtypes", [app_services_api_user_service__WEBPACK_IMPORTED_MODULE_2__["ApiUserService"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"], _services_api_waterschap_service__WEBPACK_IMPORTED_MODULE_6__["ApiWaterschapService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], EditAccountComponent);
    return EditAccountComponent;
}());



/***/ }),

/***/ "./src/app/water/water.component.css":
/*!*******************************************!*\
  !*** ./src/app/water/water.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/water/water.component.html":
/*!********************************************!*\
  !*** ./src/app/water/water.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card *ngIf=\"currentLocation\">\r\n  <mat-card-title>Monsters van {{currentLocation.description}}</mat-card-title>\r\n  <mat-card-content>\r\n    <ngx-datatable\r\n      class=\"material\"\r\n      [rows]=\"sampleRows\"\r\n      [columns]=\"sampleColumns\"\r\n      [columnMode]=\"'force'\"\r\n      [headerHeight]=\"50\"\r\n      [footerHeight]=\"50\"\r\n      [rowHeight]=\"'auto'\"\r\n      [limit]=\"10\">\r\n    </ngx-datatable>\r\n  </mat-card-content>\r\n</mat-card>\r\n<ng-template #sampleDateTemplate let-row=\"row\">\r\n  {{row.date | date:'fullDate'}}\r\n</ng-template>\r\n<ng-template #sampleQualityTemplate let-row=\"row\">\r\n  {{row.quality==null?'?':row.quality.toFixed(2)}}\r\n</ng-template>\r\n<ng-template #sampleDetailsTemplate let-row=\"row\">\r\n  <button [routerLink]=\"'/sample/view/'+row.id\" mat-raised-button>Details</button>\r\n</ng-template>\r\n\r\n\r\n<mat-tab-group>\r\n  <mat-tab *ngFor=\"let entry of settings\"\r\n           [label]=\"entry.factors.name\">\r\n    <div class=\"factor-group\">\r\n      <app-new-sample-compare [settings]=\"entry\"></app-new-sample-compare>\r\n    </div>\r\n  </mat-tab>\r\n</mat-tab-group>\r\n\r\n<mat-card>\r\n  <mat-card-title>Afwijking van referentie</mat-card-title>\r\n  <mat-card-content>\r\n    <div *ngIf=\"qualityChartOptions\" echarts (chartInit)=\"onQualityChartInit($event)\"\r\n         [options]=\"qualityChartOptions\" style=\"width:1000px;height:350px;\"></div>\r\n    <mat-spinner *ngIf=\"!qualityChartOptions\"></mat-spinner>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!--<mat-card *ngIf=\"currentLocation\">-->\r\n  <!--<mat-card-title>Waterkwaliteit van {{currentLocation.description}}</mat-card-title>-->\r\n  <!--<mat-tab-group *ngIf=\"currentLocation && wewConfigs\">-->\r\n    <!--<mat-tab *ngFor=\"let config of wewConfigs\" [label]=\"config.factors[0].name\">-->\r\n      <!--<app-wew-bar-chart [config]=\"config\"></app-wew-bar-chart>-->\r\n    <!--</mat-tab>-->\r\n  <!--</mat-tab-group>-->\r\n<!--</mat-card>-->\r\n\r\n\r\n<!--<mat-card *ngIf=\"markerPos\">-->\r\n  <!--<mat-card-content>-->\r\n    <!--&lt;!&ndash;<ngui-map [options]=\"mapConfig\">-->\r\n      <!--<marker [position]=\"markerPos\">-->\r\n      <!--</marker>-->\r\n    <!--</ngui-map>&ndash;&gt;-->\r\n  <!--</mat-card-content>-->\r\n<!--</mat-card>-->\r\n"

/***/ }),

/***/ "./src/app/water/water.component.ts":
/*!******************************************!*\
  !*** ./src/app/water/water.component.ts ***!
  \******************************************/
/*! exports provided: WaterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WaterComponent", function() { return WaterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swimlane/ngx-datatable */ "./node_modules/@swimlane/ngx-datatable/release/index.js");
/* harmony import */ var _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _services_api_location_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api.location.service */ "./src/app/services/api.location.service.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var _services_palette__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/palette */ "./src/app/services/palette.ts");
/* harmony import */ var _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/chart-entity.model */ "./src/app/models/chart-entity.model.ts");
/* harmony import */ var _services_api_sample_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../services/api.sample.service */ "./src/app/services/api.sample.service.ts");
/* harmony import */ var _services_api_reference_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/api.reference.service */ "./src/app/services/api.reference.service.ts");
/* harmony import */ var _services_global_reference_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/global.reference.service */ "./src/app/services/global.reference.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var WaterComponent = /** @class */ (function () {
    function WaterComponent(apiSample, apiLocation, apiWew, apiReference, chartEntityManager, route, globalRef) {
        this.apiSample = apiSample;
        this.apiLocation = apiLocation;
        this.apiWew = apiWew;
        this.apiReference = apiReference;
        this.chartEntityManager = chartEntityManager;
        this.route = route;
        this.globalRef = globalRef;
        this.sampleRows = [];
        this.sampleColumns = [
            { name: 'Datum', prop: 'date', cellTemplate: null },
            { name: 'Kwaliteit', prop: 'quality', cellTemplate: null },
            { name: 'details', prop: 'button', cellTemplate: null }
        ];
        this.settings = [];
        this.qualityChartOptions = {
            title: { text: 'Verschil tussen monsters en referentie', subtext: 'Lager is beter' },
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'shadow' },
                backgroundColor: 'rgba(0,0,0,0.9)',
                formatter: function (params) {
                    if (!params[0] || !params[0].data || !params[0].data[0] || !params[0].data[1])
                        return;
                    var date = params[0].data[0].toLocaleString('nl-NL', { day: 'numeric', month: 'short', year: 'numeric' });
                    var value = params[0].data[1].toFixed(2);
                    return date + ': ' + value;
                }
            },
            grid: { left: '3%', right: '4%', bottom: '4%', containLabel: true },
            xAxis: { type: 'time', data: [], axisLabel: { formatter: function (val) { return new Date(val).toLocaleString('nl-NL', { day: 'numeric', month: 'short', year: 'numeric' }); } } },
            yAxis: { type: 'value', boundaryGap: [0, 0.01], min: 0 },
            series: {},
            toolbox: { right: 50, feature: { saveAsImage: { title: 'Download grafiek' } } }
        };
        this.mapStyle = [
            { elementType: 'labels', stylers: [{ visibility: 'off' }] },
            { featureType: 'administrative.country', stylers: [{ visibility: 'on' }] },
            {
                featureType: 'administrative.country',
                elementType: 'labels.text.fill',
                stylers: [{ color: '#606060' }]
            },
            {
                featureType: 'administrative.locality', elementType: 'labels',
                stylers: [{ visibility: 'simplified' }]
            },
            {
                featureType: 'administrative.locality',
                elementType: 'labels.text.fill',
                stylers: [{ color: '#606060' }]
            },
            { featureType: 'road', stylers: [{ visibility: 'off' }] },
            { featureType: 'water', stylers: [{ visibility: 'on' }] },
            {
                featureType: 'water', elementType: 'geometry.fill',
                stylers: [{ color: '#0d9ac7' }, { visibility: 'on' }]
            },
            {
                featureType: 'water', elementType: 'labels',
                stylers: [{ visibility: 'on' }]
            },
            {
                featureType: 'water', elementType: 'labels.text.fill',
                stylers: [{ color: '#000000' }, { visibility: 'on' }]
            }
        ];
        this.mapConfig = {
            styles: this.mapStyle,
            mapTypeId: "satellite",
            center: {},
            zoom: 18,
            disableDefaultUI: false,
            clickableIcons: true,
        };
    }
    WaterComponent.prototype.ngOnInit = function () {
        this.loadResources();
    };
    WaterComponent.prototype.ngAfterViewInit = function () {
        this.sampleColumns[0].cellTemplate = this.sampleDateTemplate;
        this.sampleColumns[1].cellTemplate = this.sampleQualityTemplate;
        this.sampleColumns[2].cellTemplate = this.sampleDetailsTemplate;
    };
    WaterComponent.prototype.onQualityChartInit = function (echart) {
        this.qualityEchart = echart;
    };
    WaterComponent.prototype.loadResources = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var locationId, locationPr, samplesPr, factorsPr, referencePr;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getLocationId()];
                    case 1:
                        locationId = _a.sent();
                        locationPr = this.loadLocation(locationId);
                        samplesPr = this.loadSamples(locationId);
                        factorsPr = this.loadFactors();
                        referencePr = locationPr.then(function () { return _this.loadReference(); });
                        Promise.all([samplesPr, factorsPr, referencePr]).then(function () {
                            _this.loadMap();
                            _this.loadQualityChart();
                            _this.loadWewCharts();
                            _this.loadGlobalChart();
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    WaterComponent.prototype.getLocationId = function () {
        return __awaiter(this, void 0, void 0, function () {
            var params, id;
            return __generator(this, function (_a) {
                params = this.route.snapshot.paramMap;
                id = parseInt(params.get('id'));
                return [2 /*return*/, id];
            });
        });
    };
    WaterComponent.prototype.loadLocation = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.apiLocation.getById(id).toPromise()];
                    case 1:
                        _a.currentLocation = _b.sent();
                        ;
                        return [2 /*return*/];
                }
            });
        });
    };
    WaterComponent.prototype.loadSamples = function (locationId) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.apiSample.getByLocationId(locationId).toPromise()];
                    case 1:
                        _a.samples = _b.sent();
                        this.samples.sort(function (a, b) { return a.date.valueOf() - b.date.valueOf(); });
                        this.sampleRows = this.samples;
                        return [2 /*return*/];
                }
            });
        });
    };
    WaterComponent.prototype.loadFactors = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.apiWew.getFactors().toPromise()];
                    case 1:
                        _a.factors = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    WaterComponent.prototype.loadReference = function () {
        return __awaiter(this, void 0, void 0, function () {
            var watertype, _a, err_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        watertype = this.currentLocation.watertypeKrwId;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        _a = this;
                        return [4 /*yield*/, this.apiReference.getByWatertype(watertype).toPromise()];
                    case 2:
                        _a.reference = _b.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _b.sent();
                        this.reference = null;
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    WaterComponent.prototype.loadQualityChart = function () {
        var samples = this.samples.filter(function (sample) { return sample.quality !== null; });
        this.qualityChartOptions.series = {
            type: 'line',
            data: samples.map(function (sample) { return [sample.date, sample.quality]; })
        };
        this.qualityChartOptions.xAxis.data = samples.map(function (sample) { return sample.date; });
        this.qualityEchart.setOption(this.qualityChartOptions, true);
    };
    WaterComponent.prototype.loadGlobalChart = function () {
        var _this = this;
        var pos = 0;
        this.factors.forEach(function (factor) {
            _this.settings.push({ pos: pos, factors: factor });
            pos++;
        });
        this.globalRef.setReferenceByKrwId(this.currentLocation.watertypeKrwId);
        var ids = [];
        this.samples.forEach(function (sample) {
            ids.push(sample.id);
        });
        this.globalRef.addSamples(ids);
    };
    WaterComponent.prototype.loadWewCharts = function () {
        var _this = this;
        if (!this.reference)
            return;
        var chartReference = this.chartEntityManager.createFromReference(this.reference, 'Referentie', new _services_palette__WEBPACK_IMPORTED_MODULE_5__["MaterialPalette"]().shift());
        var chartSamples = this.samples.map(function (sample) {
            var name = sample.date.toLocaleString('nl-NL', { month: 'short', year: 'numeric' });
            return _this.chartEntityManager.createFromSample(sample, name, new _services_palette__WEBPACK_IMPORTED_MODULE_5__["MaterialPalette"]().shift());
        });
        this.wewConfigs = this.factors.map(function (factor) {
            var config = {
                entities: [chartReference].concat(chartSamples),
                factors: [factor],
                xAxis: 'entity',
                width: (chartSamples.length + 1) * 90,
                height: 350,
            };
            return config;
        });
    };
    WaterComponent.prototype.loadMap = function () {
        this.mapConfig.center = {
            lat: this.currentLocation.latitude,
            lng: this.currentLocation.longitude
        };
        this.markerPos = {
            lat: this.currentLocation.latitude,
            lng: this.currentLocation.longitude
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_2__["DatatableComponent"]),
        __metadata("design:type", _swimlane_ngx_datatable__WEBPACK_IMPORTED_MODULE_2__["DatatableComponent"])
    ], WaterComponent.prototype, "table", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleDateTemplate'),
        __metadata("design:type", Object)
    ], WaterComponent.prototype, "sampleDateTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleDetailsTemplate'),
        __metadata("design:type", Object)
    ], WaterComponent.prototype, "sampleDetailsTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('sampleQualityTemplate'),
        __metadata("design:type", Object)
    ], WaterComponent.prototype, "sampleQualityTemplate", void 0);
    WaterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-water',
            providers: [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_7__["ApiSampleService"], _services_api_location_service__WEBPACK_IMPORTED_MODULE_3__["ApiLocationService"], _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__["ApiWewService"], _services_api_reference_service__WEBPACK_IMPORTED_MODULE_8__["ApiReferenceService"], _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_6__["ChartEntityManager"]],
            template: __webpack_require__(/*! ./water.component.html */ "./src/app/water/water.component.html"),
            styles: [__webpack_require__(/*! ./water.component.css */ "./src/app/water/water.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_sample_service__WEBPACK_IMPORTED_MODULE_7__["ApiSampleService"],
            _services_api_location_service__WEBPACK_IMPORTED_MODULE_3__["ApiLocationService"],
            _services_api_wew_service__WEBPACK_IMPORTED_MODULE_4__["ApiWewService"],
            _services_api_reference_service__WEBPACK_IMPORTED_MODULE_8__["ApiReferenceService"],
            _models_chart_entity_model__WEBPACK_IMPORTED_MODULE_6__["ChartEntityManager"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_global_reference_service__WEBPACK_IMPORTED_MODULE_9__["GlobalReferenceService"]])
    ], WaterComponent);
    return WaterComponent;
}());



/***/ }),

/***/ "./src/app/wew/wew-bar-chart/wew-bar-chart.component.css":
/*!***************************************************************!*\
  !*** ./src/app/wew/wew-bar-chart/wew-bar-chart.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/wew/wew-bar-chart/wew-bar-chart.component.html":
/*!****************************************************************!*\
  !*** ./src/app/wew/wew-bar-chart/wew-bar-chart.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"!hasData\">Geen gegevens beschikbaar</div>\r\n<div *ngIf=\"hasData\" echarts [options]=\"chartOptions\" (chartInit)=\"onChartInit($event)\"\r\n     [ngStyle]=\"{'width.px':width,'height.px':height}\"></div>\r\n"

/***/ }),

/***/ "./src/app/wew/wew-bar-chart/wew-bar-chart.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/wew/wew-bar-chart/wew-bar-chart.component.ts ***!
  \**************************************************************/
/*! exports provided: WewBarChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WewBarChartComponent", function() { return WewBarChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var _services_arrayUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/arrayUtils */ "./src/app/services/arrayUtils.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var WewBarChartComponent = /** @class */ (function () {
    function WewBarChartComponent(wewApi) {
        var _this = this;
        this.wewApi = wewApi;
        this.init = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        //DOM of the echart, used to position the tooltip
        this.echartDom = null;
        //Whether or not there is any data to be shown
        this.hasData = true;
        //EChart options
        this.chartOptions = {
            title: { text: '', subtext: '' },
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'shadow' },
                backgroundColor: 'rgba(0,0,0,0.9)',
                formatter: function (p) { return _this.tooltipFormatter(p); },
                position: function (point, params, dom, rect, size) { return _this.tooltipPosition(point, params, dom, rect, size); }
            },
            grid: { left: '3%', right: '4%', bottom: '15%', containLabel: true },
            xAxis: { type: 'category', data: [], axisLabel: { rotate: 45 } },
            yAxis: { type: 'value', boundaryGap: [0, 0.01], min: 0, max: 10 },
            series: [],
            toolbox: {
                right: 50,
                feature: {
                    saveAsImage: {
                        title: "Download grafiek",
                    }
                }
            }
        };
    }
    //@Input()s are available
    WewBarChartComponent.prototype.ngOnInit = function () {
        var _this = this;
        //Set missing config properties to default
        var defaultConfig = {
            entities: [],
            factors: [],
            barGap: '15%',
            barCategoryGap: '35%',
            xAxis: 'factor',
            width: 1000,
            height: 300
        };
        this.config = Object.assign(defaultConfig, this.config);
        this.width = this.config.width;
        this.height = this.config.height;
        //Make sure we got echart when we need it
        this.echartPr = new Promise(function (resolve, reject) { return _this.echartResolve = resolve; });
        //Remove nulls from entity list
        this.entities = this.config.entities.filter(function (entity) { return entity != null; });
        //Show the charts title
        this.showTitle();
        //Retrieve all factors if none are given as input
        var factorsPr;
        if (this.config.factors && this.config.factors.length)
            factorsPr = Promise.resolve(this.config.factors);
        else
            factorsPr = this.wewApi.getFactors().toPromise();
        //Load calculations
        var calcsPr = this.loadCalculations();
        //Is all data we need loaded?
        this.allDataPr = Promise.all([factorsPr, calcsPr]);
        //Fill Maps
        this.allDataPr.then(function (_a) {
            var factors = _a[0], calcs = _a[1];
            return _this.storeCollections(factors, calcs);
        });
        //Should we even show anything?
        this.allDataPr.then(function () {
            var calcCount = Array.from(_this.entityCalcs.values())
                .reduce(function (a, b) { return a.concat(b); }, [])
                .filter(function (val) { return val && val.value; })
                .length;
            _this.hasData = calcCount > 0;
        });
        //Then show the chart
        this.allDataPr.then(function () { return _this.showData(); });
        //Let the parent know we're done
        this.allDataPr.then(function () { return _this.init.emit(_this.getPublicInstance()); });
    };
    //Object that is outputted to the parent
    WewBarChartComponent.prototype.getPublicInstance = function () {
        var _this = this;
        return {
            reload: function (config) {
                if (config)
                    _this.config = config;
                _this.ngOnInit();
            },
            resize: function (width, height) {
                _this.width = width;
                _this.height = height;
                _this.echartPr.then(function (echart) { return echart.resize({ width: _this.width, height: _this.height }); });
            }
        };
    };
    //EChart instance is available
    WewBarChartComponent.prototype.onChartInit = function (echart) {
        echart.resize({ width: this.width, height: this.height });
        echart.showLoading();
        this.echartResolve(echart);
    };
    //Sets the time based on how many factors we have
    WewBarChartComponent.prototype.showTitle = function () {
        var title = 'Watereigenschappen';
        var subtext = 'Aan de hand van de WEW-lijst';
        var factors = this.config.factors;
        if (factors.length === 1) {
            title += ' - ' + factors[0].name;
        }
        this.chartOptions.title.text = title;
        this.chartOptions.title.subtext = subtext;
    };
    //Put data in arrays and maps for easy access
    WewBarChartComponent.prototype.storeCollections = function (factors, entityCalcs) {
        var _this = this;
        this.entityCalcs = entityCalcs;
        this.factors = factors;
        this.factorClasses = factors.reduce(function (arr, f) { return arr.concat(f.classes); }, []);
        //Map<number/*factor id*/,WEWFactor>
        this.factorIdMap = new Map();
        this.factors.forEach(function (f) { return _this.factorIdMap.set(f.id, f); });
        //Map<number/*factor class id*/,WEWFactorClass>
        this.factorClassIdMap = new Map();
        this.factorClasses.forEach(function (fc) { return _this.factorClassIdMap.set(fc.id, fc); });
        //Map<string/*ChartEntity.id*/,ChartEntity>
        this.entityIdMap = new Map();
        this.entities.forEach(function (entity) { return _this.entityIdMap.set(entity.id, entity); });
        this.createDataMap();
    };
    //Creates all the DataValue objects
    WewBarChartComponent.prototype.createDataMap = function () {
        var _this = this;
        //Map<string/*ChartEntity.id+WEWFactorClass.code*/,DataValue>
        this.dataMap = new Map();
        this.entityCalcs.forEach(function (calcs, entity) {
            var calcMap = new Map();
            calcs.forEach(function (calc) { return calcMap.set(calc.factorClassId, calc.value); });
            _this.factorClasses.forEach(function (factorClass) {
                _this.dataMap.set(entity.id + factorClass.code, {
                    factorId: factorClass.factorId,
                    factorClassId: factorClass.id,
                    value: calcMap.get(factorClass.id),
                    entityId: entity.id
                });
            });
        });
    };
    //Loads the calculations of all entities
    WewBarChartComponent.prototype.loadCalculations = function () {
        return __awaiter(this, void 0, void 0, function () {
            var calcMap, promises;
            return __generator(this, function (_a) {
                calcMap = new Map();
                promises = this.entities.map(function (entity) {
                    return entity.getCalculations().then(function (calcs) {
                        return calcMap.set(entity, calcs);
                    });
                });
                return [2 /*return*/, Promise.all(promises).then(function () { return calcMap; })];
            });
        });
    };
    //Make a 2D array with all the data (every row is a factor, every column a factor class)
    WewBarChartComponent.prototype.getDataWithFactorCategory = function (entity) {
        var _this = this;
        var data = this.factors.map(function (factor) {
            return factor.classes.map(function (factorClass) {
                return _this.dataMap.get(entity.id + factorClass.code);
            });
        });
        return data;
    };
    //Make a 2D array with all the data (every row is an entity, every column a factor class)
    WewBarChartComponent.prototype.getDataWithEntityCategory = function (factor) {
        var _this = this;
        var data = this.entities.map(function (entity) {
            return factor.classes.map(function (factorClass) {
                return _this.dataMap.get(entity.id + factorClass.code);
            });
        });
        return data;
    };
    //Stores any data we need to show in this.chartOptions
    WewBarChartComponent.prototype.showData = function () {
        var _this = this;
        if (!this.hasData)
            return;
        //Clear any previous data
        this.chartOptions.series = [];
        this.chartOptions.xAxis.data = [];
        //Add x-axis labels and data
        if (this.config.xAxis === 'entity') {
            this.entities.forEach(function (entity) { return _this.chartOptions.xAxis.data.push(entity.name); });
            this.factors.forEach(function (factor) { return _this.addSeries(_this.getDataWithEntityCategory(factor)); });
        }
        else {
            this.factors.forEach(function (factor) { return _this.chartOptions.xAxis.data.push(factor.name); });
            this.entities.forEach(function (entity) { return _this.addSeries(_this.getDataWithFactorCategory(entity)); });
        }
        //These options should be applied to the last item in the series only
        var lastSeries = this.chartOptions.series[this.chartOptions.series.length - 1];
        lastSeries.barGap = this.config.barGap;
        lastSeries.barCategoryGap = this.config.barCategoryGap;
        //Show data
        this.echartPr.then(function (echart) {
            setTimeout(function () {
                echart.resize({ width: _this.width, height: _this.height });
                echart.setOption(_this.chartOptions, true);
                echart.hideLoading();
            });
        });
    };
    //Use the palettes to set the correct color in each data value
    WewBarChartComponent.prototype.setColors = function (data) {
        var _this = this;
        data.forEach(function (row) {
            row.filter(function (val) { return val !== null; }).forEach(function (val, index) {
                var entity = _this.entityIdMap.get(val.entityId);
                //    console.log(entity.palette.colorAt(index), ' index: ', index)
                val.itemStyle = { normal: { color: entity.palette.colorAt(index).toString() } };
            });
        });
    };
    //A series is a list of stacks, with one stack for each category on the x-axis
    WewBarChartComponent.prototype.addSeries = function (data) {
        var _this = this;
        //Make sure data is a 2D array (all rows should have the same length)
        data = Object(_services_arrayUtils__WEBPACK_IMPORTED_MODULE_2__["pad2D"])(data, null);
        //Reverse the rows, so the first objects show at the top of the chart instead of the bottom
        data.forEach(function (row) { return row.reverse(); });
        //Set the correct colors
        this.setColors(data);
        // console.log('data: ', data);
        //Rotate the data array
        var transpose = function (m) { return m[0].map(function (x, i) { return m.map(function (x) { return x[i]; }); }); };
        data = transpose(data);
        //Put data in chart
        var stack = Math.random();
        data.forEach(function (row) {
            var series = {
                type: 'bar',
                stack: stack,
                data: row
            };
            _this.chartOptions.series.push(series);
        });
    };
    //Returns the tooltip that is shown when hovering over the chart
    WewBarChartComponent.prototype.tooltipFormatter = function (params) {
        var _this = this;
        //If param.data is empty, then echart is passing on data from other bar stacks, ignore it
        params = params.filter(function (param) { return param.data; });
        if (!params.length)
            return;
        //The factor we're hovering over
        var factor = this.factorIdMap.get(params[0].data.factorId);
        //The entities in the category we're hovering over
        var entities = params.map(function (p) { return _this.entityIdMap.get(p.data.entityId); }).filter(_services_arrayUtils__WEBPACK_IMPORTED_MODULE_2__["uniqueFilter"]);
        //List of names
        var names = entities.map(function (entity) { return entity.name; });
        //Show sample colors if there are any samples, otherwise use any other
        var markers = new Map();
        //TODO: decide what markers to show in a less hacky way
        var markerParams = params.filter(function (p) { return p.data.entityId.substr(0, 6) === 'sample'; });
        if (!markerParams.length)
            markerParams = params;
        markerParams.forEach(function (p) { return markers.set(_this.factorClassIdMap.get(p.data.factorClassId), p.marker); });
        //Return html to be put in the tooltip
        return "<div class=\"wewChartTooltip\"><div class=\"tooltip-title\">" + factor.name + "</div>\n\t\t\t<p>\n\t\t\t\t<table class=\"tooltip-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colspan=\"3\">&nbsp;</th>\n\t\t\t\t\t\t\t" + names.map(function (name) { return "<th class=\"entity-name\">" + name + "</th>"; }).join('') + "\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t" + factor.classes.map(function (fc) { return "<tr>\n\t\t\t\t\t\t\t<td>" + markers.get(fc) + "</td>\n\t\t\t\t\t\t\t<td>" + fc.code + "</td>\n\t\t\t\t\t\t\t<td>" + fc.description + "</td>\n\t\t\t\t\t\t\t" + entities.map(function (entity) {
            var dataValue = _this.dataMap.get(entity.id + fc.code);
            var value = (dataValue != null && dataValue.value != null) ? dataValue.value.toFixed(2) : '?';
            return "<td>" + value + "</td>";
        }).join('') + "\n\t\t\t\t\t\t</tr>"; }).join('') + "\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</p></div>";
    };
    //Tooltip won't show when inside some container
    WewBarChartComponent.prototype.tooltipPosition = function (_a, params, dom, rect, _b) {
        var mouseX = _a[0], mouseY = _a[1];
        var _c = _b.viewSize, chartWidth = _c[0], chartHeight = _c[1], _d = _b.contentSize, tooltipWidth = _d[0], tooltipHeight = _d[1];
        //Get chart position
        var echartDom;
        if (this.echartDom === null)
            this.echartDom = echartDom = dom.parentNode;
        else
            echartDom = this.echartDom;
        var chartRect = echartDom.getBoundingClientRect();
        var chartX = chartRect.left;
        var chartY = chartRect.top;
        //Mouse X and Y are relative to the chart, so add those together
        var left = mouseX + chartX;
        var top = mouseY + chartY;
        //Put the middle of the tooltip above the mouse
        left -= tooltipWidth / 2;
        //Put the tooltip above the mouse
        top -= tooltipHeight + 20;
        //Throw it in the body
        document.body.appendChild(dom);
        //Checks
        if (left < 0)
            left = 0;
        if (top < 0)
            top = 0;
        return { left: left, top: top };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], WewBarChartComponent.prototype, "config", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], WewBarChartComponent.prototype, "init", void 0);
    WewBarChartComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-wew-bar-chart',
            providers: [_services_api_wew_service__WEBPACK_IMPORTED_MODULE_1__["ApiWewService"]],
            template: __webpack_require__(/*! ./wew-bar-chart.component.html */ "./src/app/wew/wew-bar-chart/wew-bar-chart.component.html"),
            styles: [__webpack_require__(/*! ./wew-bar-chart.component.css */ "./src/app/wew/wew-bar-chart/wew-bar-chart.component.css")]
        }),
        __metadata("design:paramtypes", [_services_api_wew_service__WEBPACK_IMPORTED_MODULE_1__["ApiWewService"]])
    ], WewBarChartComponent);
    return WewBarChartComponent;
}());



/***/ }),

/***/ "./src/app/wew/wew-upload/wew-upload.component.css":
/*!*********************************************************!*\
  !*** ./src/app/wew/wew-upload/wew-upload.component.css ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/wew/wew-upload/wew-upload.component.html":
/*!**********************************************************!*\
  !*** ./src/app/wew/wew-upload/wew-upload.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-card>\r\n  <mat-card-title>Importeer WEW-lijst</mat-card-title>\r\n</mat-card>\r\n\r\n<!-- ToDo: handle errors nicely -->\r\n<mat-card *ngIf=\"state=='error'\">\r\n  <mat-card-title>Error</mat-card-title>\r\n  <mat-card-content>{{errors|json}}</mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Loading card -->\r\n<mat-card *ngIf=\"state=='loading'\">\r\n  <mat-card-title>Laden...</mat-card-title>\r\n  <mat-card-content>\r\n    <mat-spinner></mat-spinner>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Start -->\r\n<mat-card *ngIf=\"state=='start'\">\r\n  <mat-card-title>Upload WEW soortenlijst (XLS)</mat-card-title>\r\n  <!-- Show file upload if the wew tables are empty -->\r\n  <mat-card-content *ngIf=\"wewTablesEmpty\">\r\n    <input type=\"file\" accept=\".xls, application/vnd.ms-excel\" (change)=\"fileChange($event)\"/>\r\n  </mat-card-content>\r\n  <!-- Show a button to empty the WEW tables if they're not -->\r\n  <mat-card-content *ngIf=\"!wewTablesEmpty\">\r\n    De WEW-lijst is al geÃ¯mporteerd.\r\n    <button (click)=\"emptyWEWTables()\">WEW-Lijst legen</button>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<!-- Finished, wew list is on the server -->\r\n<mat-card *ngIf=\"state=='finished'\">\r\n  <mat-card-title>Klaar</mat-card-title>\r\n  <mat-card-content>\r\n    WEW-Lijst is opgeslagen op de server.\r\n  </mat-card-content>\r\n</mat-card>\r\n"

/***/ }),

/***/ "./src/app/wew/wew-upload/wew-upload.component.ts":
/*!********************************************************!*\
  !*** ./src/app/wew/wew-upload/wew-upload.component.ts ***!
  \********************************************************/
/*! exports provided: WewUploadComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WewUploadComponent", function() { return WewUploadComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_wew_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/wew.model */ "./src/app/models/wew.model.ts");
/* harmony import */ var _services_api_wew_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/api.wew.service */ "./src/app/services/api.wew.service.ts");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xlsx */ "./node_modules/xlsx/xlsx.js");
/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/api.taxon.service */ "./src/app/services/api.taxon.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var WewUploadComponent = /** @class */ (function () {
    function WewUploadComponent(wewApi, taxonApi) {
        var _this = this;
        this.wewApi = wewApi;
        this.taxonApi = taxonApi;
        //The current state of the import process
        this.state = 'loading';
        //Any errors to show
        this.errors = [];
        //Check if the WEW tables are empty
        wewApi.areTablesEmpty().subscribe(function (bool) {
            _this.wewTablesEmpty = bool;
            console.log(bool);
            _this.setState('start');
        });
    }
    WewUploadComponent.prototype.ngOnInit = function () {
    };
    //Set the state of the importing process
    WewUploadComponent.prototype.setState = function (state) {
        this.state = state;
        console.log(this.state);
    };
    //ToDo: improve error handling
    //Right now we just print the array as json on the page
    WewUploadComponent.prototype.handleError = function () {
        var error = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            error[_i] = arguments[_i];
        }
        this.setState('error');
        this.errors.push(error);
    };
    //Empty all wew tables
    WewUploadComponent.prototype.emptyWEWTables = function () {
        var _this = this;
        this.wewApi.emptyAllTables().subscribe(function (bool) { return _this.wewTablesEmpty = bool; }, function () {
            var params = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                params[_i] = arguments[_i];
            }
            return _this.handleError.apply(_this, params);
        });
    };
    //A file is choses from the upload page
    WewUploadComponent.prototype.fileChange = function ($event) {
        var _this = this;
        this.setState('loading');
        var files = $event.target.files;
        var file = files.item(0);
        this.handleFile(file).then(function (wb) { return _this.handleWorkBook(wb); }).then(function (_a) {
            var factors = _a.factors, values = _a.values;
            return _this.saveData(factors, values);
        }).catch(function () {
            var params = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                params[_i] = arguments[_i];
            }
            return _this.handleError.apply(_this, params);
        });
    };
    //Reads and parses the file and turns it into a workbook
    WewUploadComponent.prototype.handleFile = function (file) {
        //Require by XLSX when using readAsArrayBuffer
        function fixdata(data) {
            var o = "", l = 0, w = 10240;
            for (; l < data.byteLength / w; ++l)
                o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w, l * w + w)));
            o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)));
            return o;
        }
        //Resolves when the file is parsed and available as XLSX.WorkBook
        return new Promise(function (resolve, reject) {
            var reader = new FileReader();
            var name = file.name;
            reader.onload = function (e) {
                setTimeout(function () {
                    var data = e.target.result;
                    var arr = fixdata(data);
                    var workbook = xlsx__WEBPACK_IMPORTED_MODULE_3__["read"](btoa(arr), { type: 'base64' });
                    resolve(workbook);
                });
            };
            reader.onerror = function (e) {
                reject(e);
            };
            reader.readAsArrayBuffer(file);
        });
    };
    //Start work on the workbook once XLSX has parsed the file
    WewUploadComponent.prototype.handleWorkBook = function (wb) {
        var matrixSheet = wb.Sheets[wb.SheetNames[0]];
        var factorSheet = wb.Sheets[wb.SheetNames[1]];
        //Get factors from the factor sheet
        var factors = this.handleFactorSheet(factorSheet);
        //Get values from the matrix sheet
        var values = this.handleMatrixSheet(matrixSheet, factors);
        //Resolve with all factors and values
        return new Promise(function (resolve, reject) {
            values.then(function (values) { return resolve({ factors: factors, values: values }); }, reject);
        });
    };
    //Reads all the factors and classes from the sheet
    WewUploadComponent.prototype.handleFactorSheet = function (factorSheet) {
        //Turn the worksheet in a 2D array
        var rows = xlsx__WEBPACK_IMPORTED_MODULE_3__["utils"].sheet_to_json(factorSheet);
        //Maps factor names to factor objects
        var factorMap = new Map();
        //Factor name doesn't repeat on every row, so keep track of the last one
        var lastFactor;
        rows.forEach(function (row, index) {
            var factor;
            //Row contains a new factor name, create object
            if (row.factor) {
                lastFactor = row.factor;
                factor = new _models_wew_model__WEBPACK_IMPORTED_MODULE_1__["WEWFactor"]();
                factor.name = row.factor.trim();
                factor.classes = [];
                factorMap.set(factor.name, factor);
            }
            else {
                row.factor = lastFactor;
                factor = factorMap.get(row.factor);
            }
            //Create a factor class for this row
            var factorClass = new _models_wew_model__WEBPACK_IMPORTED_MODULE_1__["WEWFactorClass"]();
            factorClass.code = row.code.trim();
            factorClass.description = row.klasse.trim();
            factorClass.description = row.klasse.trim();
            factorClass.order = index;
            //Store it in the current factor
            factor.classes.push(factorClass);
        });
        //Zeldzaamheid is a special case, its rows in this sheet are not factor classes but possible values
        //We don't have plans on visualizing this any time soon, so ignore it for now
        factorMap.delete('zeldzaamheid');
        return Array.from(factorMap.values());
    };
    //Reads all data from the wew matrix, maps it to taxon, factors and factorclasses
    WewUploadComponent.prototype.handleMatrixSheet = function (matrixSheet, factors) {
        var _this = this;
        //Map factor class codes to objects
        var factorClassMap = new Map();
        factors.forEach(function (factor) { return factor.classes.forEach(function (cl) { return factorClassMap.set(cl.code, cl); }); });
        //Convert the sheet to 2D array
        var rows = xlsx__WEBPACK_IMPORTED_MODULE_3__["utils"].sheet_to_json(matrixSheet, { raw: true, header: 1 });
        //Get the order of the factor classes in the columns
        var factorClassColumns = [];
        rows[1].filter(function (field) { return field.trim().length; }).forEach(function (code) { return factorClassColumns.push(factorClassMap.get(code)); });
        //Store the short description of each factor class instead of the long one
        //TODO: should we store both?
        rows[2].forEach(function (desc, index) {
            if (index == 0)
                return;
            var factorClass = factorClassColumns[index - 1];
            if (factorClass)
                factorClass.description = desc.trim();
        });
        //Get the taxon
        var taxonNames = rows.filter(function (row, index) { return index > 2; }).map(function (row) { return row[0].trim().toLowerCase(); });
        var taxonPr = new Promise(function (resolve, reject) {
            _this.taxonApi.findOrCreate(taxonNames).subscribe(resolve, reject);
        });
        //Map taxon names to wew values
        var taxonValuesMap = new Map();
        var factorClassValuesMap = new Map();
        //Get all values, every row is a taxon
        rows.forEach(function (row, index) {
            //First 3 rows of the sheet are headers, ignore them
            if (index < 3)
                return;
            var rowValues = [];
            //Store every field in this row as a WEWValue
            factorClassColumns.forEach(function (factorClass, index) {
                var value = new _models_wew_model__WEBPACK_IMPORTED_MODULE_1__["WEWValue"]();
                //'x' means null in this sheet
                value.value = row[index + 1] === 'x' ? null : row[index + 1];
                rowValues.push(value);
                factorClassValuesMap.set(value, factorClass);
            });
            //Map the taxon name of this row to all values on the row
            taxonValuesMap.set(row[0].trim().toLowerCase(), rowValues);
        });
        //Taxon are in, store their ids in the values
        taxonPr.then(function (taxonIds) {
            taxonIds.forEach(function (taxon) {
                taxonValuesMap.get(taxon.name.trim().toLowerCase()).forEach(function (value) { return value.taxonId = taxon.id; });
            });
        });
        //Return a promise that resolves with a Map<WEWValue,WEWFactorClass>
        //FactorClasses aren't saved yet, so without IDs, this map saves the relation
        return new Promise(function (resolve, reject) {
            taxonPr.then(function () { return resolve(factorClassValuesMap); }, reject);
        });
    };
    //Saves all data to the server
    WewUploadComponent.prototype.saveData = function (factors, values) {
        var _this = this;
        var factorClassMap = new Map();
        //Save factors and factor classes in them
        this.wewApi.saveFactors(factors).subscribe(function (factors) {
            //Put them in the map for lookup
            console.log(factors);
            factors.forEach(function (factor) { return factor.classes.forEach(function (cl) { return factorClassMap.set(cl.code, cl); }); });
            //Set factor class ids in values
            values.forEach(function (factorClass, value) {
                value.factorClassId = factorClassMap.get(factorClass.code).id;
            });
            //Save values
            console.log(Array.from(values.keys()));
            _this.wewApi.saveValues(Array.from(values.keys())).subscribe(function () {
                //Show the end page
                _this.setState('finished');
            }, function () {
                var params = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    params[_i] = arguments[_i];
                }
                return _this.handleError.apply(_this, params);
            });
        }, function () {
            var params = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                params[_i] = arguments[_i];
            }
            return _this.handleError.apply(_this, params);
        });
    };
    WewUploadComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-wew-upload',
            providers: [_services_api_wew_service__WEBPACK_IMPORTED_MODULE_2__["ApiWewService"], _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_4__["ApiTaxonService"]],
            template: __webpack_require__(/*! ./wew-upload.component.html */ "./src/app/wew/wew-upload/wew-upload.component.html"),
            styles: [__webpack_require__(/*! ./wew-upload.component.css */ "./src/app/wew/wew-upload/wew-upload.component.css")],
        }),
        __metadata("design:paramtypes", [_services_api_wew_service__WEBPACK_IMPORTED_MODULE_2__["ApiWewService"],
            _services_api_taxon_service__WEBPACK_IMPORTED_MODULE_4__["ApiTaxonService"]])
    ], WewUploadComponent);
    return WewUploadComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! Q:\projects\Naturalis\waterscan-frontend\src\main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!************************!*\
  !*** stream (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map